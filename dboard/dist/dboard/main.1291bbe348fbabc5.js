(self.webpackChunkdboard=self.webpackChunkdboard||[]).push([[179],{174:(Ll,Zu,ri)=>{"use strict";var $s={};ri.r($s),ri.d($s,{DEG_TO_RAD:()=>Ow,LRUCache:()=>FF,MAX_NUM:()=>ou,MIN_NUM:()=>au,TextMetrics:()=>HF,append:()=>Id,arabicToRoman:()=>Cee,bindEvents:()=>Lw,createPromise:()=>kd,defined:()=>oe,definitionId:()=>Tm,deg:()=>Zo,elementOffset:()=>kF,elementPadding:()=>RF,elementScale:()=>NF,elementSize:()=>Rd,elementStyles:()=>Am,encodeBase64:()=>MF,eventCoordinates:()=>EF,eventElement:()=>AF,hashKey:()=>BF,isTransparent:()=>ll,last:()=>Mi,limitValue:()=>Em,measureText:()=>Im,mergeSort:()=>Tee,normalizeText:()=>Vw,now:()=>Pd,objectKey:()=>LF,promiseAll:()=>IF,rad:()=>ur,round:()=>yt,unbindEvents:()=>Bw,valueOrDefault:()=>Fw});var dn={};ri.r(dn),ri.d(dn,{easeOutElastic:()=>kte,linear:()=>Ite,swing:()=>Ate});var Bl={};ri.r(Bl),ri.d(Bl,{ArcNode:()=>vB,CircleNode:()=>_B,ClipNode:()=>fB,DefinitionNode:()=>pB,GradientStopNode:()=>cB,GroupNode:()=>bB,ImageNode:()=>xB,LinearGradientNode:()=>hB,MultiPathNode:()=>wB,Node:()=>la,PathNode:()=>ca,RadialGradientNode:()=>dB,RectNode:()=>CB,RootNode:()=>pD,Surface:()=>SB,TextNode:()=>DB,exportGroup:()=>LV});var Zf={};ri.r(Zf),ri.d(Zf,{ArcNode:()=>IB,CircleNode:()=>kB,GroupNode:()=>bD,ImageNode:()=>PB,MultiPathNode:()=>RB,Node:()=>_D,PathNode:()=>ua,RectNode:()=>OB,RootNode:()=>TB,Surface:()=>wD,TextNode:()=>NB});var Tt={};function Ke(n){return"function"==typeof n}function Xu(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}ri.r(Tt),ri.d(Tt,{Animation:()=>Ii,AnimationFactory:()=>Fs,Arc:()=>Yoe,BaseNode:()=>ff,Circle:()=>eo,Element:()=>dr,Gradient:()=>rC,GradientStop:()=>sC,Group:()=>pt,HasObservers:()=>Ei,Image:()=>RV,Layout:()=>HB,LinearGradient:()=>Km,MultiPath:()=>fr,OptionsStore:()=>Kw,Path:()=>ae,PathParser:()=>aae,QuadNode:()=>EB,RadialGradient:()=>Ym,Rect:()=>Qoe,ShapesQuadTree:()=>xD,Surface:()=>gf,SurfaceFactory:()=>TD,Text:()=>SL,align:()=>Joe,canvas:()=>Zf,exportImage:()=>BV,exportSVG:()=>VV,fit:()=>oae,parsePath:()=>Xw,stack:()=>tae,svg:()=>Bl,util:()=>$s,vAlign:()=>eae,vStack:()=>nae,vWrap:()=>rae,wrap:()=>sae});const Qu=Xu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,s)=>`${s+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function cs(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class $t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const r of t)r.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(Ke(i))try{i()}catch(r){e=r instanceof Qu?r.errors:[r]}const{_finalizers:s}=this;if(s){this._finalizers=null;for(const r of s)try{Dr(r)}catch(o){e=e??[],o instanceof Qu?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Qu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Dr(e);else{if(e instanceof $t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&cs(t,e)}remove(e){const{_finalizers:t}=this;t&&cs(t,e),e instanceof $t&&e._removeParent(this)}}$t.EMPTY=(()=>{const n=new $t;return n.closed=!0,n})();const Vl=$t.EMPTY;function Hl(n){return n instanceof $t||n&&"closed"in n&&Ke(n.remove)&&Ke(n.add)&&Ke(n.unsubscribe)}function Dr(n){Ke(n)?n():n.unsubscribe()}const Sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ma={setTimeout(n,e,...t){const{delegate:i}=Ma;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Ma;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function gi(n){Ma.setTimeout(()=>{const{onUnhandledError:e}=Sn;if(!e)throw n;e(n)})}function zl(){}const $v=Ea("C",void 0,void 0);function Ea(n,e,t){return{kind:n,value:e,error:t}}let Ws=null;function Sr(n){if(Sn.useDeprecatedSynchronousErrorHandling){const e=!Ws;if(e&&(Ws={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Ws;if(Ws=null,t)throw i}}else n()}class jl extends $t{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Hl(e)&&e.add(this)):this.destination=Wv}static create(e,t,i){return new qs(e,t,i)}next(e){this.isStopped?eh(function Ju(n){return Ea("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?eh(function Hn(n){return Ea("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?eh($v,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Tr=Function.prototype.bind;function Do(n,e){return Tr.call(n,e)}class So{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Aa(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Aa(i)}else Aa(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Aa(t)}}}class qs extends jl{constructor(e,t,i){let s;if(super(),Ke(e)||!e)s={next:e??void 0,error:t??void 0,complete:i??void 0};else{let r;this&&Sn.useDeprecatedNextContext?(r=Object.create(e),r.unsubscribe=()=>this.unsubscribe(),s={next:e.next&&Do(e.next,r),error:e.error&&Do(e.error,r),complete:e.complete&&Do(e.complete,r)}):s=e}this.destination=new So(s)}}function Aa(n){Sn.useDeprecatedSynchronousErrorHandling?function Ul(n){Sn.useDeprecatedSynchronousErrorHandling&&Ws&&(Ws.errorThrown=!0,Ws.error=n)}(n):gi(n)}function eh(n,e){const{onStoppedNotification:t}=Sn;t&&Ma.setTimeout(()=>t(n,e))}const Wv={closed:!0,next:zl,error:function Gl(n){throw n},complete:zl},$l="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ks(n){return n}let _t=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,s){const r=function th(n){return n&&n instanceof jl||function Kv(n){return n&&Ke(n.next)&&Ke(n.error)&&Ke(n.complete)}(n)&&Hl(n)}(t)?t:new qs(t,i,s);return Sr(()=>{const{operator:o,source:a}=this;r.add(o?o.call(r,a):a?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=To(i))((s,r)=>{const o=new qs({next:a=>{try{t(a)}catch(l){r(l),o.unsubscribe()}},error:r,complete:s});this.subscribe(o)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[$l](){return this}pipe(...t){return function Xf(n){return 0===n.length?Ks:1===n.length?n[0]:function(t){return n.reduce((i,s)=>s(i),t)}}(t)(this)}toPromise(t){return new(t=To(t))((i,s)=>{let r;this.subscribe(o=>r=o,o=>s(o),()=>i(r))})}}return n.create=e=>new n(e),n})();function To(n){var e;return null!==(e=n??Sn.Promise)&&void 0!==e?e:Promise}const Yv=Xu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let fn=(()=>{class n extends _t{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new pn(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Yv}next(t){Sr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){Sr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Sr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:s,observers:r}=this;return i||s?Vl:(this.currentObservers=null,r.push(t),new $t(()=>{this.currentObservers=null,cs(r,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:s,isStopped:r}=this;i?t.error(s):r&&t.complete()}asObservable(){const t=new _t;return t.source=this,t}}return n.create=(e,t)=>new pn(e,t),n})();class pn extends fn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:Vl}}function Ys(n){return Ke(n?.lift)}function Ce(n){return e=>{if(Ys(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Pe(n,e,t,i,s){return new Wl(n,e,t,i,s)}class Wl extends jl{constructor(e,t,i,s,r,o){super(e),this.onFinalize=r,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=s?function(a){try{s(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ee(n,e){return Ce((t,i)=>{let s=0;t.subscribe(Pe(i,r=>{i.next(n.call(e,r,s++))}))})}function Zs(n){return this instanceof Zs?(this.v=n,this):new Zs(n)}function ep(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,i=t.apply(n,e||[]),r=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(d){i[d]&&(s[d]=function(f){return new Promise(function(p,g){r.push([d,f,p,g])>1||a(d,f)})})}function a(d,f){try{!function l(d){d.value instanceof Zs?Promise.resolve(d.value.v).then(c,u):h(r[0][2],d)}(i[d](f))}catch(p){h(r[0][3],p)}}function c(d){a("next",d)}function u(d){a("throw",d)}function h(d,f){d(f),r.shift(),r.length&&a(r[0][0],r[0][1])}}function ih(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Jf(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=n[r]&&function(o){return new Promise(function(a,l){!function s(r,o,a,l){Promise.resolve(l).then(function(c){r({value:c,done:a})},o)}(a,l,(o=n[r](o)).done,o.value)})}}}const rh=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function oh(n){return Ke(n?.then)}function ah(n){return Ke(n[$l])}function Yl(n){return Symbol.asyncIterator&&Ke(n?.[Symbol.asyncIterator])}function tp(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const np=function n_(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function lh(n){return Ke(n?.[np])}function ip(n){return ep(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:s}=yield Zs(t.read());if(s)return yield Zs(void 0);yield yield Zs(i)}}finally{t.releaseLock()}})}function sp(n){return Ke(n?.getReader)}function An(n){if(n instanceof _t)return n;if(null!=n){if(ah(n))return function Zl(n){return new _t(e=>{const t=n[$l]();if(Ke(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(rh(n))return function i_(n){return new _t(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(oh(n))return function s_(n){return new _t(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,gi)})}(n);if(Yl(n))return Xl(n);if(lh(n))return function rp(n){return new _t(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(sp(n))return function r_(n){return Xl(ip(n))}(n)}throw tp(n)}function Xl(n){return new _t(e=>{(function op(n,e){var t,i,s,r;return function Kl(n,e,t,i){return new(t||(t=Promise))(function(r,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):function s(r){return r instanceof t?r:new t(function(o){o(r)})}(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=ih(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=t.return)&&(yield r.call(t))}finally{if(s)throw s.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function hs(n,e,t,i=0,s=!1){const r=e.schedule(function(){t(),s?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(r),!s)return r}function Wt(n,e,t=1/0){return Ke(e)?Wt((i,s)=>Ee((r,o)=>e(i,r,s,o))(An(n(i,s))),t):("number"==typeof e&&(t=e),Ce((i,s)=>function ap(n,e,t,i,s,r,o,a){const l=[];let c=0,u=0,h=!1;const d=()=>{h&&!l.length&&!c&&e.complete()},f=g=>c<i?p(g):l.push(g),p=g=>{r&&e.next(g),c++;let y=!1;An(t(g,u++)).subscribe(Pe(e,b=>{s?.(b),r?f(b):e.next(b)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;l.length&&c<i;){const b=l.shift();o?hs(e,o,()=>p(b)):p(b)}d()}catch(b){e.error(b)}}))};return n.subscribe(Pe(e,f,()=>{h=!0,d()})),()=>{a?.()}}(i,s,n,t)))}function Er(n=1/0){return Wt(Ks,n)}const Hi=new _t(n=>n.complete());function Ao(n){return n&&Ke(n.schedule)}function Ir(n){return n[n.length-1]}function Ia(n){return Ke(Ir(n))?n.pop():void 0}function kr(n){return Ao(Ir(n))?n.pop():void 0}function cp(n,e=0){return Ce((t,i)=>{t.subscribe(Pe(i,s=>hs(i,n,()=>i.next(s),e),()=>hs(i,n,()=>i.complete(),e),s=>hs(i,n,()=>i.error(s),e)))})}function ka(n,e=0){return Ce((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function ko(n,e){if(!n)throw new Error("Iterable cannot be null");return new _t(t=>{hs(t,e,()=>{const i=n[Symbol.asyncIterator]();hs(t,e,()=>{i.next().then(s=>{s.done?t.complete():t.next(s.value)})},0,!0)})})}function At(n,e){return e?function fs(n,e){if(null!=n){if(ah(n))return function oi(n,e){return An(n).pipe(ka(e),cp(e))}(n,e);if(rh(n))return function Xs(n,e){return new _t(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(oh(n))return function Io(n,e){return An(n).pipe(ka(e),cp(e))}(n,e);if(Yl(n))return ko(n,e);if(lh(n))return function ds(n,e){return new _t(t=>{let i;return hs(t,e,()=>{i=n[np](),hs(t,e,()=>{let s,r;try{({value:s,done:r}=i.next())}catch(o){return void t.error(o)}r?t.complete():t.next(s)},0,!0)}),()=>Ke(i?.return)&&i.return()})}(n,e);if(sp(n))return function zi(n,e){return ko(ip(n),e)}(n,e)}throw tp(n)}(n,e):An(n)}function Ql(...n){const e=kr(n),t=function o_(n,e){return"number"==typeof Ir(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?An(i[0]):Er(t)(At(i,e)):Hi}function zn(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new qs({next:()=>{i.unsubscribe(),n()}});return e(...t).subscribe(i)}function et(n){for(let e in n)if(n[e]===et)return e;throw Error("Could not find renamed property on target object.")}function Pa(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function nt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(nt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Ra(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const ch=et({__forward_ref__:et});function tt(n){return n.__forward_ref__=tt,n.toString=function(){return nt(this())},n}function se(n){return uh(n)?n():n}function uh(n){return"function"==typeof n&&n.hasOwnProperty(ch)&&n.__forward_ref__===tt}class R extends Error{constructor(e,t){super(function Oa(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function me(n){return"string"==typeof n?n:null==n?"":String(n)}function S(n,e){throw new R(-201,!1)}function yi(n,e){null==n&&function ot(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function j(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ve(n){return{providers:n.providers||[],imports:n.imports||[]}}function l_(n){return dM(n,up)||dM(n,pM)}function dM(n,e){return n.hasOwnProperty(e)?n[e]:null}function fM(n){return n&&(n.hasOwnProperty(c_)||n.hasOwnProperty(Xj))?n[c_]:null}const up=et({\u0275prov:et}),c_=et({\u0275inj:et}),pM=et({ngInjectableDef:et}),Xj=et({ngInjectorDef:et});var ce=(()=>((ce=ce||{})[ce.Default=0]="Default",ce[ce.Host=1]="Host",ce[ce.Self=2]="Self",ce[ce.SkipSelf=4]="SkipSelf",ce[ce.Optional=8]="Optional",ce))();let u_;function Qs(n){const e=u_;return u_=n,e}function gM(n,e,t){const i=l_(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&ce.Optional?null:void 0!==e?e:void S(nt(n))}function Po(n){return{toString:n}.toString()}var gs=(()=>((gs=gs||{})[gs.OnPush=0]="OnPush",gs[gs.Default=1]="Default",gs))(),ms=(()=>{return(n=ms||(ms={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ms;var n})();const ft=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ec={},it=[],hp=et({\u0275cmp:et}),h_=et({\u0275dir:et}),d_=et({\u0275pipe:et}),mM=et({\u0275mod:et}),Pr=et({\u0275fac:et}),hh=et({__NG_ELEMENT_ID__:et});let Jj=0;function k(n){return Po(()=>{const t=!0===n.standalone,i={},s={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===gs.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||it,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ms.Emulated,id:"c"+Jj++,styles:n.styles||it,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.dependencies,o=n.features;return s.inputs=_M(n.inputs,i),s.outputs=_M(n.outputs),o&&o.forEach(a=>a(s)),s.directiveDefs=r?()=>("function"==typeof r?r():r).map(yM).filter(vM):null,s.pipeDefs=r?()=>("function"==typeof r?r():r).map(jn).filter(vM):null,s})}function yM(n){return bt(n)||Un(n)}function vM(n){return null!==n}const tG={};function je(n){return Po(()=>{const e={type:n.type,bootstrap:n.bootstrap||it,declarations:n.declarations||it,imports:n.imports||it,exports:n.exports||it,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(tG[n.id]=n.type),e})}function _M(n,e){if(null==n)return ec;const t={};for(const i in n)if(n.hasOwnProperty(i)){let s=n[i],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),t[s]=i,e&&(e[s]=r)}return t}const ee=k;function bt(n){return n[hp]||null}function Un(n){return n[h_]||null}function jn(n){return n[d_]||null}function vi(n,e){const t=n[mM]||null;if(!t&&!0===e)throw new Error(`Type ${nt(n)} does not have '\u0275mod' property.`);return t}function ai(n){return Array.isArray(n)&&"object"==typeof n[1]}function vs(n){return Array.isArray(n)&&!0===n[1]}function g_(n){return 0!=(8&n.flags)}function gp(n){return 2==(2&n.flags)}function mp(n){return 1==(1&n.flags)}function _s(n){return null!==n.template}function oG(n){return 0!=(256&n[2])}function Va(n,e){return n.hasOwnProperty(Pr)?n[Pr]:null}class wM{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function On(){return CM}function CM(n){return n.type.prototype.ngOnChanges&&(n.setInput=uG),cG}function cG(){const n=SM(this),e=n?.current;if(e){const t=n.previous;if(t===ec)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function uG(n,e,t,i){const s=SM(n)||function hG(n,e){return n[DM]=e}(n,{previous:ec,current:null}),r=s.current||(s.current={}),o=s.previous,a=this.declaredInputs[t],l=o[a];r[a]=new wM(l&&l.currentValue,e,o===ec),n[i]=e}On.ngInherit=!0;const DM="__ngSimpleChanges__";function SM(n){return n[DM]||null}function Xt(n){for(;Array.isArray(n);)n=n[0];return n}function yp(n,e){return Xt(e[n])}function Gi(n,e){return Xt(e[n.index])}function b_(n,e){return n.data[e]}function bi(n,e){const t=e[n];return ai(t)?t:t[0]}function TM(n){return 4==(4&n[2])}function x_(n){return 64==(64&n[2])}function Ro(n,e){return null==e?null:n[e]}function MM(n){n[18]=0}function w_(n,e){n[5]+=e;let t=n,i=n[3];for(;null!==i&&(1===e&&1===t[5]||-1===e&&0===t[5]);)i[5]+=e,t=i,i=i[3]}const ve={lFrame:FM(null),bindingsEnabled:!0};function AM(){return ve.bindingsEnabled}function F(){return ve.lFrame.lView}function Ge(){return ve.lFrame.tView}function sn(){let n=IM();for(;null!==n&&64===n.type;)n=n.parent;return n}function IM(){return ve.lFrame.currentTNode}function Js(n,e){const t=ve.lFrame;t.currentTNode=n,t.isParent=e}function C_(){return ve.lFrame.isParent}function D_(){ve.lFrame.isParent=!1}function oc(){return ve.lFrame.bindingIndex++}function Or(n){const e=ve.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function MG(n,e){const t=ve.lFrame;t.bindingIndex=t.bindingRootIndex=n,S_(e)}function S_(n){ve.lFrame.currentDirectiveIndex=n}function RM(){return ve.lFrame.currentQueryIndex}function M_(n){ve.lFrame.currentQueryIndex=n}function AG(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function OM(n,e,t){if(t&ce.SkipSelf){let s=e,r=n;for(;!(s=s.parent,null!==s||t&ce.Host||(s=AG(r),null===s||(r=r[15],10&s.type))););if(null===s)return!1;e=s,n=r}const i=ve.lFrame=NM();return i.currentTNode=e,i.lView=n,!0}function E_(n){const e=NM(),t=n[1];ve.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function NM(){const n=ve.lFrame,e=null===n?null:n.child;return null===e?FM(n):e}function FM(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function LM(){const n=ve.lFrame;return ve.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const BM=LM;function A_(){const n=LM();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function $n(){return ve.lFrame.selectedIndex}function Oo(n){ve.lFrame.selectedIndex=n}function zt(){const n=ve.lFrame;return b_(n.tView,n.selectedIndex)}function _p(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const r=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=r;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function bp(n,e,t){VM(n,e,3,t)}function xp(n,e,t,i){(3&n[2])===t&&VM(n,e,t,i)}function I_(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function VM(n,e,t,i){const r=i??-1,o=e.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[18]+=65536),(a<r||-1==r)&&(BG(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function BG(n,e,t,i){const s=t[i]<0,r=t[i+1],a=n[s?-t[i]:t[i]];if(s){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{r.call(a)}finally{}}}else try{r.call(a)}finally{}}class mh{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function wp(n,e,t){let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const r=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,r)}else{const r=s,o=t[++i];zM(r)?n.setProperty(e,r,o):n.setAttribute(e,r,o),i++}}return i}function HM(n){return 3===n||4===n||6===n}function zM(n){return 64===n.charCodeAt(0)}function Cp(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?t=s:0===t||UM(n,t,s,null,-1===t||2===t?e[++i]:null)}}return n}function UM(n,e,t,i,s){let r=0,o=n.length;if(-1===e)o=-1;else for(;r<n.length;){const a=n[r++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=r-1;break}}}for(;r<n.length;){const a=n[r];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==s&&(n[r+1]=s));if(i===n[r+1])return void(n[r+2]=s)}r++,null!==i&&r++,null!==s&&r++}-1!==o&&(n.splice(o,0,e),r=o+1),n.splice(r++,0,t),null!==i&&n.splice(r++,0,i),null!==s&&n.splice(r++,0,s)}function jM(n){return-1!==n}function ac(n){return 32767&n}function lc(n,e){let t=function jG(n){return n>>16}(n),i=e;for(;t>0;)i=i[15],t--;return i}let P_=!0;function Dp(n){const e=P_;return P_=n,e}let GG=0;const er={};function vh(n,e){const t=O_(n,e);if(-1!==t)return t;const i=e[1];i.firstCreatePass&&(n.injectorIndex=e.length,R_(i.data,n),R_(e,null),R_(i.blueprint,null));const s=Sp(n,e),r=n.injectorIndex;if(jM(s)){const o=ac(s),a=lc(s,e),l=a[1].data;for(let c=0;c<8;c++)e[r+c]=a[o+c]|l[o+c]}return e[r+8]=s,r}function R_(n,e){n.push(0,0,0,0,0,0,0,0,e)}function O_(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Sp(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,s=e;for(;null!==s;){if(i=QM(s),null===i)return-1;if(t++,s=s[15],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return-1}function Tp(n,e,t){!function $G(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(hh)&&(i=t[hh]),null==i&&(i=t[hh]=GG++);const s=255&i;e.data[n+(s>>5)]|=1<<s}(n,e,t)}function WM(n,e,t){if(t&ce.Optional)return n;S()}function qM(n,e,t,i){if(t&ce.Optional&&void 0===i&&(i=null),0==(t&(ce.Self|ce.Host))){const s=n[9],r=Qs(void 0);try{return s?s.get(e,i,t&ce.Optional):gM(e,i,t&ce.Optional)}finally{Qs(r)}}return WM(i,0,t)}function KM(n,e,t,i=ce.Default,s){if(null!==n){if(1024&e[2]){const o=function ZG(n,e,t,i,s){let r=n,o=e;for(;null!==r&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=YM(r,o,t,i|ce.Self,er);if(a!==er)return a;let l=r.parent;if(!l){const c=o[21];if(c){const u=c.get(t,er,i);if(u!==er)return u}l=QM(o),o=o[15]}r=l}return s}(n,e,t,i,er);if(o!==er)return o}const r=YM(n,e,t,i,er);if(r!==er)return r}return qM(e,t,i,s)}function YM(n,e,t,i,s){const r=function KG(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(hh)?n[hh]:void 0;return"number"==typeof e?e>=0?255&e:YG:e}(t);if("function"==typeof r){if(!OM(e,n,i))return i&ce.Host?WM(s,0,i):qM(e,t,i,s);try{const o=r(i);if(null!=o||i&ce.Optional)return o;S()}finally{BM()}}else if("number"==typeof r){let o=null,a=O_(n,e),l=-1,c=i&ce.Host?e[16][6]:null;for((-1===a||i&ce.SkipSelf)&&(l=-1===a?Sp(n,e):e[a+8],-1!==l&&XM(i,!1)?(o=e[1],a=ac(l),e=lc(l,e)):a=-1);-1!==a;){const u=e[1];if(ZM(r,a,u.data)){const h=qG(a,e,t,o,i,c);if(h!==er)return h}l=e[a+8],-1!==l&&XM(i,e[1].data[a+8]===c)&&ZM(r,a,e)?(o=u,a=ac(l),e=lc(l,e)):a=-1}}return s}function qG(n,e,t,i,s,r){const o=e[1],a=o.data[n+8],u=Mp(a,o,t,null==i?gp(a)&&P_:i!=o&&0!=(3&a.type),s&ce.Host&&r===a);return null!==u?_h(e,o,u,a):er}function Mp(n,e,t,i,s){const r=n.providerIndexes,o=e.data,a=1048575&r,l=n.directiveStart,u=r>>20,d=s?a+u:n.directiveEnd;for(let f=i?a:a+u;f<d;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(s){const f=o[l];if(f&&_s(f)&&f.type===t)return l}return null}function _h(n,e,t,i){let s=n[t];const r=e.data;if(function VG(n){return n instanceof mh}(s)){const o=s;o.resolving&&function m(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new R(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Ye(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():me(n)}(r[t]));const a=Dp(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Qs(o.injectImpl):null;OM(n,i,ce.Default);try{s=n[t]=o.factory(void 0,r,n,i),e.firstCreatePass&&t>=i.directiveStart&&function LG(n,e,t){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:r}=e.type.prototype;if(i){const o=CM(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}s&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,s),r&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,r),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,r))}(t,r[t],e)}finally{null!==l&&Qs(l),Dp(a),o.resolving=!1,BM()}}return s}function ZM(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function XM(n,e){return!(n&ce.Self||n&ce.Host&&e)}class cc{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return KM(this._tNode,this._lView,e,i,t)}}function YG(){return new cc(sn(),F())}function mn(n){return Po(()=>{const e=n.prototype.constructor,t=e[Pr]||N_(e),i=Object.prototype;let s=Object.getPrototypeOf(n.prototype).constructor;for(;s&&s!==i;){const r=s[Pr]||N_(s);if(r&&r!==t)return r;s=Object.getPrototypeOf(s)}return r=>new r})}function N_(n){return uh(n)?()=>{const e=N_(se(n));return e&&e()}:Va(n)}function QM(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function uc(n){return function WG(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let s=0;for(;s<i;){const r=t[s];if(HM(r))break;if(0===r)s+=2;else if("number"==typeof r)for(s++;s<i&&"string"==typeof t[s];)s++;else{if(r===e)return t[s+1];s+=2}}}return null}(sn(),n)}const dc="__parameters__";function pc(n,e,t){return Po(()=>{const i=function F_(n){return function(...t){if(n){const i=n(...t);for(const s in i)this[s]=i[s]}}}(e);function s(...r){if(this instanceof s)return i.apply(this,r),this;const o=new s(...r);return a.annotation=o,a;function a(l,c,u){const h=l.hasOwnProperty(dc)?l[dc]:Object.defineProperty(l,dc,{value:[]})[dc];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(o),l}}return t&&(s.prototype=Object.create(t.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}class U{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=j({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const QG=new U("AnalyzeForEntryComponents");function xi(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let i=n[t];Array.isArray(i)?(e===n&&(e=n.slice(0,t)),xi(i,e)):e!==n&&e.push(i)}return e}function Nr(n,e){n.forEach(t=>Array.isArray(t)?Nr(t,e):e(t))}function eE(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ep(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function wh(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function wi(n,e,t){let i=gc(n,e);return i>=0?n[1|i]=t:(i=~i,function t4(n,e,t,i){let s=n.length;if(s==e)n.push(t,i);else if(1===s)n.push(i,n[0]),n[0]=t;else{for(s--,n.push(n[s-1],n[s]);s>e;)n[s]=n[s-2],s--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function B_(n,e){const t=gc(n,e);if(t>=0)return n[1|t]}function gc(n,e){return function iE(n,e,t){let i=0,s=n.length>>t;for(;s!==i;){const r=i+(s-i>>1),o=n[r<<t];if(e===o)return r<<t;o>e?s=r:i=r+1}return~(s<<t)}(n,e,1)}const Ch={},H_="__NG_DI_FLAG__",Ip="ngTempTokenPath",u4=/\n/gm,sE="__source";let Dh;function kp(n){const e=Dh;return Dh=n,e}function d4(n,e=ce.Default){if(void 0===Dh)throw new R(-203,!1);return null===Dh?gM(n,void 0,e):Dh.get(n,e&ce.Optional?null:void 0,e)}function P(n,e=ce.Default){return(function Qj(){return u_}()||d4)(se(n),e)}function tr(n,e=ce.Default){return P(n,e)}function z_(n){const e=[];for(let t=0;t<n.length;t++){const i=se(n[t]);if(Array.isArray(i)){if(0===i.length)throw new R(900,!1);let s,r=ce.Default;for(let o=0;o<i.length;o++){const a=i[o],l=f4(a);"number"==typeof l?-1===l?s=a.token:r|=l:s=a}e.push(P(s,r))}else e.push(P(i))}return e}function Sh(n,e){return n[H_]=e,n.prototype[H_]=e,n}function f4(n){return n[H_]}const Fo=Sh(pc("Optional"),8),Th=Sh(pc("SkipSelf"),4);let j_,Op,Np;function yc(n){return function G_(){if(void 0===Op&&(Op=null,ft.trustedTypes))try{Op=ft.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Op}()?.createHTML(n)||n}function pE(n){return function $_(){if(void 0===Np&&(Np=null,ft.trustedTypes))try{Np=ft.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Np}()?.createHTML(n)||n}class yE{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Lo(n){return n instanceof yE?n.changingThisBreaksApplicationSecurity:n}class O4{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(yc(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class N4{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const i=this.inertDocument.createElement("body");t.appendChild(i)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=yc(e),t;const i=this.inertDocument.createElement("body");return i.innerHTML=yc(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(e){const t=e.attributes;for(let s=t.length-1;0<s;s--){const o=t.item(s).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let i=e.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const L4=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,B4=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Fp(n){return(n=String(n)).match(L4)||n.match(B4)?n:"unsafe:"+n}function _E(n){return(n=String(n)).split(",").map(e=>Fp(e.trim())).join(", ")}function nr(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Ih(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const bE=nr("area,br,col,hr,img,wbr"),xE=nr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wE=nr("rp,rt"),W_=Ih(bE,Ih(xE,nr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ih(wE,nr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ih(wE,xE)),q_=nr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),K_=nr("srcset"),CE=Ih(q_,K_,nr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),nr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),V4=nr("script,style,template");class H4{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=this.checkClobberedElement(t,t.nextSibling);if(s){t=s;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!W_.hasOwnProperty(t))return this.sanitizedSomething=!0,!V4.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let s=0;s<i.length;s++){const r=i.item(s),o=r.name,a=o.toLowerCase();if(!CE.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=r.value;q_[a]&&(l=Fp(l)),K_[a]&&(l=_E(l)),this.buf.push(" ",o,'="',DE(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();W_.hasOwnProperty(t)&&!bE.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(DE(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const z4=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,U4=/([^\#-~ |!])/g;function DE(n){return n.replace(/&/g,"&amp;").replace(z4,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(U4,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Lp;function Y_(n){return"content"in n&&function G4(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Qt=(()=>((Qt=Qt||{})[Qt.NONE=0]="NONE",Qt[Qt.HTML=1]="HTML",Qt[Qt.STYLE=2]="STYLE",Qt[Qt.SCRIPT=3]="SCRIPT",Qt[Qt.URL=4]="URL",Qt[Qt.RESOURCE_URL=5]="RESOURCE_URL",Qt))();function SE(n){const e=function kh(){const n=F();return n&&n[12]}();return e?pE(e.sanitize(Qt.HTML,n)||""):function Ah(n,e){const t=function R4(n){return n instanceof yE&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}(n,"HTML")?pE(Lo(n)):function j4(n,e){let t=null;try{Lp=Lp||function vE(n){const e=new N4(n);return function F4(){try{return!!(new window.DOMParser).parseFromString(yc(""),"text/html")}catch{return!1}}()?new O4(e):e}(n);let i=e?String(e):"";t=Lp.getInertBodyElement(i);let s=5,r=i;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,i=r,r=t.innerHTML,t=Lp.getInertBodyElement(i)}while(i!==r);return yc((new H4).sanitizeChildren(Y_(t)||t))}finally{if(t){const i=Y_(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}(function fE(){return void 0!==j_?j_:typeof document<"u"?document:void 0}(),me(n))}function Q_(n){return n.ngOriginalError}class vc{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Q_(e);for(;t&&Q_(t);)t=Q_(t);return t||null}}const J_=new Map;let r8=0;const tb="__ngContext__";function Nn(n,e){ai(e)?(n[tb]=e[20],function a8(n){J_.set(n[20],n)}(e)):n[tb]=e}function Ph(n){const e=n[tb];return"number"==typeof e?function EE(n){return J_.get(n)||null}(e):e||null}function nb(n){const e=Ph(n);return e?ai(e)?e:e.lView:null}const m8=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(ft))();function Fr(n){return n instanceof Function?n():n}var li=(()=>((li=li||{})[li.Important=1]="Important",li[li.DashCase=2]="DashCase",li))();function sb(n,e){return undefined(n,e)}function Rh(n){const e=n[3];return vs(e)?e[3]:e}function rb(n){return FE(n[13])}function ob(n){return FE(n[4])}function FE(n){for(;null!==n&&!vs(n);)n=n[4];return n}function bc(n,e,t,i,s){if(null!=i){let r,o=!1;vs(i)?r=i:ai(i)&&(o=!0,i=i[0]);const a=Xt(i);0===n&&null!==t?null==s?UE(e,t,a):Ha(e,t,a,s||null,!0):1===n&&null!==t?Ha(e,t,a,s||null,!0):2===n?function YE(n,e,t){const i=Bp(n,e);i&&function R8(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=r&&function F8(n,e,t,i,s){const r=t[7];r!==Xt(t)&&bc(e,n,i,r,s);for(let a=10;a<t.length;a++){const l=t[a];Oh(l[1],l,n,e,i,r)}}(e,n,r,t,s)}}function lb(n,e,t){return n.createElement(e,t)}function BE(n,e){const t=n[9],i=t.indexOf(e),s=e[3];512&e[2]&&(e[2]&=-513,w_(s,-1)),t.splice(i,1)}function cb(n,e){if(n.length<=10)return;const t=10+e,i=n[t];if(i){const s=i[17];null!==s&&s!==n&&BE(s,i),e>0&&(n[t-1][4]=i[4]);const r=Ep(n,10+e);!function S8(n,e){Oh(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(i[1],i);const o=r[19];null!==o&&o.detachView(r[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function VE(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&Oh(n,e,t,3,null,null),function E8(n){let e=n[13];if(!e)return ub(n[1],n);for(;e;){let t=null;if(ai(e))t=e[13];else{const i=e[10];i&&(t=i)}if(!t){for(;e&&!e[4]&&e!==n;)ai(e)&&ub(e[1],e),e=e[3];null===e&&(e=n),ai(e)&&ub(e[1],e),t=e&&e[4]}e=t}}(e)}}function ub(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function P8(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const s=e[t[i]];if(!(s instanceof mh)){const r=t[i+1];if(Array.isArray(r))for(let o=0;o<r.length;o+=2){const a=s[r[o]],l=r[o+1];try{l.call(a)}finally{}}else try{r.call(s)}finally{}}}}(n,e),function k8(n,e){const t=n.cleanup,i=e[7];let s=-1;if(null!==t)for(let r=0;r<t.length-1;r+=2)if("string"==typeof t[r]){const o=t[r+1],a="function"==typeof o?o(e):Xt(e[o]),l=i[s=t[r+2]],c=t[r+3];"boolean"==typeof c?a.removeEventListener(t[r],l,c):c>=0?i[s=c]():i[s=-c].unsubscribe(),r+=2}else{const o=i[s=t[r+1]];t[r].call(o)}if(null!==i){for(let r=s+1;r<i.length;r++)i[r]();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&vs(e[3])){t!==e[3]&&BE(t,e);const i=e[19];null!==i&&i.detachView(n)}!function l8(n){J_.delete(n[20])}(e)}}function HE(n,e,t){return function zE(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[0];if(2&i.flags){const s=n.data[i.directiveStart].encapsulation;if(s===ms.None||s===ms.Emulated)return null}return Gi(i,t)}(n,e.parent,t)}function Ha(n,e,t,i,s){n.insertBefore(e,t,i,s)}function UE(n,e,t){n.appendChild(e,t)}function jE(n,e,t,i,s){null!==i?Ha(n,e,t,i,s):UE(n,e,t)}function Bp(n,e){return n.parentNode(e)}function GE(n,e,t){return WE(n,e,t)}let WE=function $E(n,e,t){return 40&n.type?Gi(n,t):null};function Vp(n,e,t,i){const s=HE(n,i,e),r=e[11],a=GE(i.parent||e[6],i,e);if(null!=s)if(Array.isArray(t))for(let l=0;l<t.length;l++)jE(r,s,t[l],a,!1);else jE(r,s,t,a,!1)}function Hp(n,e){if(null!==e){const t=e.type;if(3&t)return Gi(e,n);if(4&t)return db(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Hp(n,i);{const s=n[e.index];return vs(s)?db(-1,s):Xt(s)}}if(32&t)return sb(e,n)()||Xt(n[e.index]);{const i=KE(n,e);return null!==i?Array.isArray(i)?i[0]:Hp(Rh(n[16]),i):Hp(n,e.next)}}return null}function KE(n,e){return null!==e?n[16][6].projection[e.projection]:null}function db(n,e){const t=10+n+1;if(t<e.length){const i=e[t],s=i[1].firstChild;if(null!==s)return Hp(i,s)}return e[7]}function fb(n,e,t,i,s,r,o){for(;null!=t;){const a=i[t.index],l=t.type;if(o&&0===e&&(a&&Nn(Xt(a),i),t.flags|=4),64!=(64&t.flags))if(8&l)fb(n,e,t.child,i,s,r,!1),bc(e,n,s,a,r);else if(32&l){const c=sb(t,i);let u;for(;u=c();)bc(e,n,s,u,r);bc(e,n,s,a,r)}else 16&l?ZE(n,e,i,t,s,r):bc(e,n,s,a,r);t=o?t.projectionNext:t.next}}function Oh(n,e,t,i,s,r){fb(t,i,n.firstChild,e,s,r,!1)}function ZE(n,e,t,i,s,r){const o=t[16],l=o[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)bc(e,n,s,l[c],r);else fb(n,e,l,o[3],s,r,!0)}function XE(n,e,t){n.setAttribute(e,"style",t)}function pb(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function QE(n,e,t){let i=n.length;for(;;){const s=n.indexOf(e,t);if(-1===s)return s;if(0===s||n.charCodeAt(s-1)<=32){const r=e.length;if(s+r===i||n.charCodeAt(s+r)<=32)return s}t=s+1}}const JE="ng-template";function B8(n,e,t){let i=0;for(;i<n.length;){let s=n[i++];if(t&&"class"===s){if(s=n[i],-1!==QE(s.toLowerCase(),e,0))return!0}else if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===e)return!0;return!1}}return!1}function eA(n){return 4===n.type&&n.value!==JE}function V8(n,e,t){return e===(4!==n.type||t?n.value:JE)}function H8(n,e,t){let i=4;const s=n.attrs||[],r=function j8(n){for(let e=0;e<n.length;e++)if(HM(n[e]))return e;return n.length}(s);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!V8(n,l,t)||""===l&&1===e.length){if(bs(i))return!1;o=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!B8(n.attrs,c,t)){if(bs(i))return!1;o=!0}continue}const h=z8(8&i?"class":l,s,eA(n),t);if(-1===h){if(bs(i))return!1;o=!0;continue}if(""!==c){let d;d=h>r?"":s[h+1].toLowerCase();const f=8&i?d:null;if(f&&-1!==QE(f,c,0)||2&i&&c!==d){if(bs(i))return!1;o=!0}}}}else{if(!o&&!bs(i)&&!bs(l))return!1;if(o&&bs(l))continue;o=!1,i=l|1&i}}return bs(i)||o}function bs(n){return 0==(1&n)}function z8(n,e,t,i){if(null===e)return-1;let s=0;if(i||!t){let r=!1;for(;s<e.length;){const o=e[s];if(o===n)return s;if(3===o||6===o)r=!0;else{if(1===o||2===o){let a=e[++s];for(;"string"==typeof a;)a=e[++s];continue}if(4===o)break;if(0===o){s+=4;continue}}s+=r?1:2}return-1}return function G8(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function tA(n,e,t=!1){for(let i=0;i<e.length;i++)if(H8(n,e[i],t))return!0;return!1}function $8(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let s=0;s<n.length;s++)if(n[s]!==i[s])continue e;return!0}}return!1}function nA(n,e){return n?":not("+e.trim()+")":e}function W8(n){let e=n[0],t=1,i=2,s="",r=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const a=n[++t];s+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?s+="."+o:4&i&&(s+=" "+o);else""!==s&&!bs(o)&&(e+=nA(r,s),s=""),i=o,r=r||!bs(i);t++}return""!==s&&(e+=nA(r,s)),e}const be={};function Ze(n){iA(Ge(),F(),$n()+n,!1)}function iA(n,e,t,i){if(!i)if(3==(3&e[2])){const r=n.preOrderCheckHooks;null!==r&&bp(e,r,t)}else{const r=n.preOrderHooks;null!==r&&xp(e,r,0,t)}Oo(t)}const gb=new U("ENVIRONMENT_INITIALIZER"),aA=new U("INJECTOR_DEF_TYPES");function e$(...n){return{\u0275providers:lA(0,n)}}function lA(n,...e){const t=[],i=new Set;let s;return Nr(e,r=>{const o=r;mb(o,t,[],i)&&(s||(s=[]),s.push(o))}),void 0!==s&&cA(s,t),t}function cA(n,e){for(let t=0;t<n.length;t++){const{providers:s}=n[t];Nr(s,r=>{e.push(r)})}}function mb(n,e,t,i){if(!(n=se(n)))return!1;let s=null,r=fM(n);const o=!r&&bt(n);if(r||o){if(o&&!o.standalone)return!1;s=n}else{const l=n.ngModule;if(r=fM(l),!r)return!1;s=l}const a=i.has(s);if(o){if(a)return!1;if(i.add(s),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)mb(c,e,t,i)}}else{if(!r)return!1;{if(null!=r.imports&&!a){let c;i.add(s);try{Nr(r.imports,u=>{mb(u,e,t,i)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&cA(c,e)}if(!a){const c=Va(s)||(()=>new s);e.push({provide:s,useFactory:c,deps:it},{provide:aA,useValue:s,multi:!0},{provide:gb,useValue:()=>P(s),multi:!0})}const l=r.providers;null==l||a||Nr(l,u=>{e.push(u)})}}return s!==n&&void 0!==n.providers}const t$=et({provide:String,useValue:et});function yb(n){return null!==n&&"object"==typeof n&&t$ in n}function za(n){return"function"==typeof n}const vb=new U("INJECTOR",-1);class dA{get(e,t=Ch){if(t===Ch){const i=new Error(`NullInjectorError: No provider for ${nt(e)}!`);throw i.name="NullInjectorError",i}return t}}const _b=new U("Set Injector scope."),zp={},i$={};let bb;function xb(){return void 0===bb&&(bb=new dA),bb}class Ua{}class fA extends Ua{constructor(e,t,i,s){super(),this.parent=t,this.source=i,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Cb(e,o=>this.processProvider(o)),this.records.set(vb,xc(void 0,this)),s.has("environment")&&this.records.set(Ua,xc(void 0,this));const r=this.records.get(_b);null!=r&&"string"==typeof r.value&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get(aA.multi,it,ce.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}get(e,t=Ch,i=ce.Default){this.assertNotDestroyed();const s=kp(this),r=Qs(void 0);try{if(!(i&ce.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function l$(n){return"function"==typeof n||"object"==typeof n&&n instanceof U}(e)&&l_(e);a=l&&this.injectableDefInScope(l)?xc(wb(e),zp):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(i&ce.Self?xb():this.parent).get(e,t=i&ce.Optional&&t===Ch?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Ip]=o[Ip]||[]).unshift(nt(e)),s)throw o;return function p4(n,e,t,i){const s=n[Ip];throw e[sE]&&s.unshift(e[sE]),n.message=function g4(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let s=nt(e);if(Array.isArray(e))s=e.map(nt).join(" -> ");else if("object"==typeof e){let r=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];r.push(o+":"+("string"==typeof a?JSON.stringify(a):nt(a)))}s=`{${r.join(", ")}}`}return`${t}${i?"("+i+")":""}[${s}]: ${n.replace(u4,"\n  ")}`}("\n"+n.message,s,t,i),n.ngTokenPath=s,n[Ip]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Qs(r),kp(s)}}resolveInjectorInitializers(){const e=kp(this),t=Qs(void 0);try{const i=this.get(gb.multi,it,ce.Self);for(const s of i)s()}finally{kp(e),Qs(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(nt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new R(205,!1)}processProvider(e){let t=za(e=se(e))?e:se(e&&e.provide);const i=function r$(n){return yb(n)?xc(void 0,n.useValue):xc(pA(n),zp)}(e);if(za(e)||!0!==e.multi)this.records.get(t);else{let s=this.records.get(t);s||(s=xc(void 0,zp,!0),s.factory=()=>z_(s.multi),this.records.set(t,s)),t=e,s.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===zp&&(t.value=i$,t.value=t.factory()),"object"==typeof t.value&&t.value&&function a$(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=se(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function wb(n){const e=l_(n),t=null!==e?e.factory:Va(n);if(null!==t)return t;if(n instanceof U)throw new R(204,!1);if(n instanceof Function)return function s$(n){const e=n.length;if(e>0)throw wh(e,"?"),new R(204,!1);const t=function Yj(n){const e=n&&(n[up]||n[pM]);if(e){const t=function Zj(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new R(204,!1)}function pA(n,e,t){let i;if(za(n)){const s=se(n);return Va(s)||wb(s)}if(yb(n))i=()=>se(n.useValue);else if(function hA(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...z_(n.deps||[]));else if(function uA(n){return!(!n||!n.useExisting)}(n))i=()=>P(se(n.useExisting));else{const s=se(n&&(n.useClass||n.provide));if(!function o$(n){return!!n.deps}(n))return Va(s)||wb(s);i=()=>new s(...z_(n.deps))}return i}function xc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function c$(n){return!!n.\u0275providers}function Cb(n,e){for(const t of n)Array.isArray(t)?Cb(t,e):c$(t)?Cb(t.\u0275providers,e):e(t)}function gA(n,e=null,t=null,i){const s=mA(n,e,t,i);return s.resolveInjectorInitializers(),s}function mA(n,e=null,t=null,i,s=new Set){const r=[t||it,e$(n)];return i=i||("object"==typeof n?void 0:nt(n)),new fA(r,e||xb(),i||null,s)}let Tn=(()=>{class n{static create(t,i){if(Array.isArray(t))return gA({name:""},i,t,"");{const s=t.name??"";return gA({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=Ch,n.NULL=new dA,n.\u0275prov=j({token:n,providedIn:"any",factory:()=>P(vb)}),n.__NG_ELEMENT_ID__=-1,n})();function _(n,e=ce.Default){const t=F();return null===t?P(n,e):KM(sn(),t,se(n),e)}function Cc(){throw new Error("invalid")}function jp(n,e){return n<<17|e<<2}function xs(n){return n>>17&32767}function kb(n){return 2|n}function Lr(n){return(131068&n)>>2}function Pb(n,e){return-131069&n|e<<2}function Rb(n){return 1|n}function FA(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const s=t[i],r=t[i+1];if(-1!==r){const o=n.data[r];M_(s),o.contentQueries(2,e[r],r)}}}function Wp(n,e,t,i,s,r,o,a,l,c,u){const h=e.blueprint.slice();return h[0]=s,h[2]=76|i,(null!==u||n&&1024&n[2])&&(h[2]|=1024),MM(h),h[3]=h[15]=n,h[8]=t,h[10]=o||n&&n[10],h[11]=a||n&&n[11],h[12]=l||n&&n[12]||null,h[9]=c||n&&n[9]||null,h[6]=r,h[20]=function o8(){return r8++}(),h[21]=u,h[16]=2==e.type?n[16]:h,h}function Dc(n,e,t,i,s){let r=n.data[e];if(null===r)r=function Ub(n,e,t,i,s){const r=IM(),o=C_(),l=n.data[e]=function U$(n,e,t,i,s,r){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?r:r&&r.parent,t,e,i,s);return null===n.firstChild&&(n.firstChild=l),null!==r&&(o?null==r.child&&null!==l.parent&&(r.child=l):null===r.next&&(r.next=l)),l}(n,e,t,i,s),function TG(){return ve.lFrame.inI18n}()&&(r.flags|=64);else if(64&r.type){r.type=t,r.value=i,r.attrs=s;const o=function gh(){const n=ve.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();r.injectorIndex=null===o?-1:o.injectorIndex}return Js(r,!0),r}function Sc(n,e,t,i){if(0===t)return-1;const s=e.length;for(let r=0;r<t;r++)e.push(i),n.blueprint.push(i),n.data.push(null);return s}function qp(n,e,t){E_(e);try{const i=n.viewQuery;null!==i&&Xb(1,i,t);const s=n.template;null!==s&&LA(n,e,s,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&FA(n,e),n.staticViewQueries&&Xb(2,n.viewQuery,t);const r=n.components;null!==r&&function B$(n,e){for(let t=0;t<e.length;t++)a5(n,e[t])}(e,r)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[2]&=-5,A_()}}function Nh(n,e,t,i){const s=e[2];if(128!=(128&s)){E_(e);try{MM(e),function kM(n){return ve.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&LA(n,e,t,2,i);const o=3==(3&s);if(o){const c=n.preOrderCheckHooks;null!==c&&bp(e,c,null)}else{const c=n.preOrderHooks;null!==c&&xp(e,c,0,null),I_(e,0)}if(function r5(n){for(let e=rb(n);null!==e;e=ob(e)){if(!e[2])continue;const t=e[9];for(let i=0;i<t.length;i++){const s=t[i],r=s[3];0==(512&s[2])&&w_(r,1),s[2]|=512}}}(e),function s5(n){for(let e=rb(n);null!==e;e=ob(e))for(let t=10;t<e.length;t++){const i=e[t],s=i[1];x_(i)&&Nh(s,i,s.template,i[8])}}(e),null!==n.contentQueries&&FA(n,e),o){const c=n.contentCheckHooks;null!==c&&bp(e,c)}else{const c=n.contentHooks;null!==c&&xp(e,c,1),I_(e,1)}!function F$(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)Oo(~s);else{const r=s,o=t[++i],a=t[++i];MG(o,r),a(2,e[r])}}}finally{Oo(-1)}}(n,e);const a=n.components;null!==a&&function L$(n,e){for(let t=0;t<e.length;t++)o5(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&Xb(2,l,i),o){const c=n.viewCheckHooks;null!==c&&bp(e,c)}else{const c=n.viewHooks;null!==c&&xp(e,c,2),I_(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,w_(e[3],-1))}finally{A_()}}}function V$(n,e,t,i){const s=e[10],o=TM(e);try{!o&&s.begin&&s.begin(),o&&qp(n,e,i),Nh(n,e,t,i)}finally{!o&&s.end&&s.end()}}function LA(n,e,t,i,s){const r=$n(),o=2&i;try{Oo(-1),o&&e.length>22&&iA(n,e,22,!1),t(i,s)}finally{Oo(r)}}function BA(n,e,t){if(g_(e)){const s=e.directiveEnd;for(let r=e.directiveStart;r<s;r++){const o=n.data[r];o.contentQueries&&o.contentQueries(1,t[r],r)}}}function jb(n,e,t){!AM()||(function Y$(n,e,t,i){const s=t.directiveStart,r=t.directiveEnd;n.firstCreatePass||vh(t,e),Nn(i,e);const o=t.initialInputs;for(let a=s;a<r;a++){const l=n.data[a],c=_s(l);c&&e5(e,t,l);const u=_h(e,n,a,t);Nn(u,e),null!==o&&t5(0,a-s,u,l,0,o),c&&(bi(t.index,e)[8]=u)}}(n,e,t,Gi(t,e)),128==(128&t.flags)&&function Z$(n,e,t){const i=t.directiveStart,s=t.directiveEnd,r=t.index,o=function EG(){return ve.lFrame.currentDirectiveIndex}();try{Oo(r);for(let a=i;a<s;a++){const l=n.data[a],c=e[a];S_(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&jA(l,c)}}finally{Oo(-1),S_(o)}}(n,e,t))}function Gb(n,e,t=Gi){const i=e.localNames;if(null!==i){let s=e.index+1;for(let r=0;r<i.length;r+=2){const o=i[r+1],a=-1===o?t(e,n):n[o];n[s++]=a}}}function VA(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=$b(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function $b(n,e,t,i,s,r,o,a,l,c){const u=22+i,h=u+s,d=function H$(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:be);return t}(u,h),f="function"==typeof c?c():c;return d[1]={type:n,blueprint:d,template:t,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function HA(n,e,t,i){const s=ZA(e);null===t?s.push(i):(s.push(t),n.firstCreatePass&&XA(n).push(i,s.length-1))}function zA(n,e,t){for(let i in n)if(n.hasOwnProperty(i)){const s=n[i];(t=null===t?{}:t).hasOwnProperty(i)?t[i].push(e,s):t[i]=[e,s]}return t}function Wb(n,e,t,i){let s=!1;if(AM()){const r=function X$(n,e,t){const i=n.directiveRegistry;let s=null;if(i)for(let r=0;r<i.length;r++){const o=i[r];tA(t,o.selectors,!1)&&(s||(s=[]),Tp(vh(t,e),n,o.type),_s(o)?(GA(n,t),s.unshift(o)):s.push(o))}return s}(n,e,t),o=null===i?null:{"":-1};if(null!==r){s=!0,$A(t,n.data.length,r.length);for(let u=0;u<r.length;u++){const h=r[u];h.providersResolver&&h.providersResolver(h)}let a=!1,l=!1,c=Sc(n,e,r.length,null);for(let u=0;u<r.length;u++){const h=r[u];t.mergedAttrs=Cp(t.mergedAttrs,h.hostAttrs),WA(n,t,e,c,h),J$(c,h,o),null!==h.contentQueries&&(t.flags|=8),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=128);const d=h.type.prototype;!a&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}!function j$(n,e){const i=e.directiveEnd,s=n.data,r=e.attrs,o=[];let a=null,l=null;for(let c=e.directiveStart;c<i;c++){const u=s[c],h=u.inputs,d=null===r||eA(e)?null:n5(h,r);o.push(d),a=zA(h,c,a),l=zA(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(n,t)}o&&function Q$(n,e,t){if(e){const i=n.localNames=[];for(let s=0;s<e.length;s+=2){const r=t[e[s+1]];if(null==r)throw new R(-301,!1);i.push(e[s],r)}}}(t,i,o)}return t.mergedAttrs=Cp(t.mergedAttrs,t.attrs),s}function UA(n,e,t,i,s,r){const o=r.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function K$(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(i,s,o)}}function jA(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function GA(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function J$(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;_s(e)&&(t[""]=n)}}function $A(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function WA(n,e,t,i,s){n.data[i]=s;const r=s.factory||(s.factory=Va(s.type)),o=new mh(r,_s(s),_);n.blueprint[i]=o,t[i]=o,UA(n,e,0,i,Sc(n,t,s.hostVars,be),s)}function e5(n,e,t){const i=Gi(e,n),s=VA(t),r=n[10],o=Kp(n,Wp(n,s,null,t.onPush?32:16,i,e,r,r.createRenderer(i,t),null,null,null));n[e.index]=o}function ir(n,e,t,i,s,r){const o=Gi(n,e);!function qb(n,e,t,i,s,r,o){if(null==r)n.removeAttribute(e,s,t);else{const a=null==o?me(r):o(r,i||"",s);n.setAttribute(e,s,a,t)}}(e[11],o,r,n.value,t,i,s)}function t5(n,e,t,i,s,r){const o=r[e];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],h=o[l++];null!==a?i.setInput(t,h,c,u):t[u]=h}}}function n5(n,e){let t=null,i=0;for(;i<e.length;){const s=e[i];if(0!==s)if(5!==s){if("number"==typeof s)break;n.hasOwnProperty(s)&&(null===t&&(t=[]),t.push(s,n[s],e[i+1])),i+=2}else i+=2;else i+=4}return t}function qA(n,e,t,i){return new Array(n,!0,!1,e,null,0,i,t,null,null)}function o5(n,e){const t=bi(e,n);if(x_(t)){const i=t[1];48&t[2]?Nh(i,t,i.template,t[8]):t[5]>0&&Kb(t)}}function Kb(n){for(let i=rb(n);null!==i;i=ob(i))for(let s=10;s<i.length;s++){const r=i[s];if(512&r[2]){const o=r[1];Nh(o,r,o.template,r[8])}else r[5]>0&&Kb(r)}const t=n[1].components;if(null!==t)for(let i=0;i<t.length;i++){const s=bi(t[i],n);x_(s)&&s[5]>0&&Kb(s)}}function a5(n,e){const t=bi(e,n),i=t[1];(function l5(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),qp(i,t,t[8])}function Kp(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function Yb(n){for(;n;){n[2]|=32;const e=Rh(n);if(oG(n)&&!e)return n;n=e}return null}function YA(n){!function KA(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],i=nb(t);if(null!==i){const s=i[1];V$(s,i,s.template,t)}}}(n[8])}function Xb(n,e,t){M_(0),e(n,t)}const u5=(()=>Promise.resolve(null))();function ZA(n){return n[7]||(n[7]=[])}function XA(n){return n.cleanup||(n.cleanup=[])}function JA(n,e){const t=n[9],i=t?t.get(vc,null):null;i&&i.handleError(e)}function e1(n,e,t,i,s){for(let r=0;r<t.length;){const o=t[r++],a=t[r++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,s,i,a):l[a]=s}}function Yp(n,e,t){let i=t?n.styles:null,s=t?n.classes:null,r=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?r=a:1==r?s=Ra(s,a):2==r&&(i=Ra(i,a+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=s:n.classesWithoutHost=s}function p5(){const n=sn();_p(F()[1],n)}function T(n){let e=function t1(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let s;if(_s(n))s=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new R(903,!1);s=e.\u0275dir}if(s){if(t){i.push(s);const o=n;o.inputs=Qb(n.inputs),o.declaredInputs=Qb(n.declaredInputs),o.outputs=Qb(n.outputs);const a=s.hostBindings;a&&v5(n,a);const l=s.viewQuery,c=s.contentQueries;if(l&&m5(n,l),c&&y5(n,c),Pa(n.inputs,s.inputs),Pa(n.declaredInputs,s.declaredInputs),Pa(n.outputs,s.outputs),_s(s)&&s.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(s.data.animation)}}const r=s.features;if(r)for(let o=0;o<r.length;o++){const a=r[o];a&&a.ngInherit&&a(n),a===T&&(t=!1)}}e=Object.getPrototypeOf(e)}!function g5(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const s=n[i];s.hostVars=e+=s.hostVars,s.hostAttrs=Cp(s.hostAttrs,t=Cp(t,s.hostAttrs))}}(i)}function Qb(n){return n===ec?{}:n===it?[]:n}function m5(n,e){const t=n.viewQuery;n.viewQuery=t?(i,s)=>{e(i,s),t(i,s)}:e}function y5(n,e){const t=n.contentQueries;n.contentQueries=t?(i,s,r)=>{e(i,s,r),t(i,s,r)}:e}function v5(n,e){const t=n.hostBindings;n.hostBindings=t?(i,s)=>{e(i,s),t(i,s)}:e}let Zp=null;function ja(){if(!Zp){const n=ft.Symbol;if(n&&n.iterator)Zp=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Zp=i)}}}return Zp}function Fh(n){return!!Jb(n)&&(Array.isArray(n)||!(n instanceof Map)&&ja()in n)}function Jb(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Fn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function ci(n,e,t,i){const s=F();return Fn(s,oc(),e)&&(Ge(),ir(zt(),s,n,e,t,i)),ci}function on(n,e,t,i,s,r,o,a){const l=F(),c=Ge(),u=n+22,h=c.firstCreatePass?function M5(n,e,t,i,s,r,o,a,l){const c=e.consts,u=Dc(e,n,4,o||null,Ro(c,a));Wb(e,t,u,Ro(c,l)),_p(e,u);const h=u.tViews=$b(2,u,i,s,r,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,i,s,r,o):c.data[u];Js(h,!1);const d=l[11].createComment("");Vp(c,l,d,h),Nn(d,l),Kp(l,l[u]=qA(d,l,d,h)),mp(h)&&jb(c,l,h),null!=o&&Gb(l,h,a)}function He(n,e,t){const i=F();return Fn(i,oc(),e)&&function Ci(n,e,t,i,s,r,o,a){const l=Gi(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[i])?(e1(n,t,u,i,s),gp(e)&&function $$(n,e){const t=bi(e,n);16&t[2]||(t[2]|=32)}(t,e.index)):3&e.type&&(i=function G$(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),s=null!=o?o(s,e.value||"",i):s,r.setProperty(l,i,s))}(Ge(),zt(),i,n,e,i[11],t,!1),He}function ex(n,e,t,i,s){const o=s?"class":"style";e1(n,t,e.inputs[o],o,i)}function le(n,e,t,i){const s=F(),r=Ge(),o=22+n,a=s[11],l=s[o]=lb(a,e,function FG(){return ve.lFrame.currentNamespace}()),c=r.firstCreatePass?function A5(n,e,t,i,s,r,o){const a=e.consts,c=Dc(e,n,2,s,Ro(a,r));return Wb(e,t,c,Ro(a,o)),null!==c.attrs&&Yp(c,c.attrs,!1),null!==c.mergedAttrs&&Yp(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,r,s,0,e,t,i):r.data[o];Js(c,!0);const u=c.mergedAttrs;null!==u&&wp(a,l,u);const h=c.classes;null!==h&&pb(a,l,h);const d=c.styles;return null!==d&&XE(a,l,d),64!=(64&c.flags)&&Vp(r,s,l,c),0===function vG(){return ve.lFrame.elementDepthCount}()&&Nn(l,s),function _G(){ve.lFrame.elementDepthCount++}(),mp(c)&&(jb(r,s,c),BA(r,c,s)),null!==i&&Gb(s,c),le}function _e(){let n=sn();C_()?D_():(n=n.parent,Js(n,!1));const e=n;!function bG(){ve.lFrame.elementDepthCount--}();const t=Ge();return t.firstCreatePass&&(_p(t,n),g_(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function zG(n){return 0!=(16&n.flags)}(e)&&ex(t,e,F(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function UG(n){return 0!=(32&n.flags)}(e)&&ex(t,e,F(),e.stylesWithoutHost,!1),_e}function Wi(n,e,t,i){return le(n,e,t,i),_e(),Wi}function Bh(n,e,t){const i=F(),s=Ge(),r=n+22,o=s.firstCreatePass?function I5(n,e,t,i,s){const r=e.consts,o=Ro(r,i),a=Dc(e,n,8,"ng-container",o);return null!==o&&Yp(a,o,!0),Wb(e,t,a,Ro(r,s)),null!==e.queries&&e.queries.elementStart(e,a),a}(r,s,i,e,t):s.data[r];Js(o,!0);const a=i[r]=i[11].createComment("");return Vp(s,i,a,o),Nn(a,i),mp(o)&&(jb(s,i,o),BA(s,o,i)),null!=t&&Gb(i,o),Bh}function Vh(){let n=sn();const e=Ge();return C_()?D_():(n=n.parent,Js(n,!1)),e.firstCreatePass&&(_p(e,n),g_(n)&&e.queries.elementEnd(n)),Vh}function Hh(n){return!!n&&"function"==typeof n.then}const tx=function p1(n){return!!n&&"function"==typeof n.subscribe};function Et(n,e,t,i){const s=F(),r=Ge(),o=sn();return function m1(n,e,t,i,s,r,o,a){const l=mp(i),u=n.firstCreatePass&&XA(n),h=e[8],d=ZA(e);let f=!0;if(3&i.type||a){const y=Gi(i,e),b=a?a(y):y,w=d.length,D=a?V=>a(Xt(V[i.index])):i.index;let E=null;if(!a&&l&&(E=function P5(n,e,t,i){const s=n.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const o=s[r];if(o===t&&s[r+1]===i){const a=e[7],l=s[r+2];return a.length>l?a[l]:null}"string"==typeof o&&(r+=2)}return null}(n,e,s,i.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=r,E.__ngLastListenerFn__=r,f=!1;else{r=v1(i,e,h,r,!1);const V=t.listen(b,s,r);d.push(r,V),u&&u.push(s,D,w,w+1)}}else r=v1(i,e,h,r,!1);const p=i.outputs;let g;if(f&&null!==p&&(g=p[s])){const y=g.length;if(y)for(let b=0;b<y;b+=2){const q=e[g[b]][g[b+1]].subscribe(r),re=d.length;d.push(r,q),u&&u.push(s,i.index,re,-(re+1))}}}(r,s,s[11],o,n,e,0,i),Et}function y1(n,e,t,i){try{return!1!==t(i)}catch(s){return JA(n,s),!1}}function v1(n,e,t,i,s){return function r(o){if(o===Function)return i;Yb(2&n.flags?bi(n.index,e):e);let l=y1(e,0,i,o),c=r.__ngNextListenerFn__;for(;c;)l=y1(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return s&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function ws(n=1){return function IG(n){return(ve.lFrame.contextLView=function kG(n,e){for(;n>0;)e=e[15],n--;return e}(n,ve.lFrame.contextLView))[8]}(n)}function R5(n,e){let t=null;const i=function U8(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let s=0;s<e.length;s++){const r=e[s];if("*"!==r){if(null===i?tA(n,r,!0):$8(i,r))return s}else t=s}return t}function zh(n){const e=F()[16][6];if(!e.projection){const i=e.projection=wh(n?n.length:1,null),s=i.slice();let r=e.child;for(;null!==r;){const o=n?R5(r,n):0;null!==o&&(s[o]?s[o].projectionNext=r:i[o]=r,s[o]=r),r=r.next}}}function $a(n,e=0,t){const i=F(),s=Ge(),r=Dc(s,22+n,16,null,t||null);null===r.projection&&(r.projection=e),D_(),64!=(64&r.flags)&&function N8(n,e,t){ZE(e[11],0,e,t,HE(n,t,e),GE(t.parent||e[6],t,e))}(s,i,r)}function E1(n,e,t,i,s){const r=n[t+1],o=null===e;let a=i?xs(r):Lr(r),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];F5(n[a],e)&&(l=!0,n[a+1]=i?Rb(u):kb(u)),a=i?xs(u):Lr(u)}l&&(n[t+1]=i?kb(r):Rb(r))}function F5(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&gc(n,e)>=0}const an={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function A1(n){return n.substring(an.key,an.keyEnd)}function L5(n){return n.substring(an.value,an.valueEnd)}function k1(n,e){const t=an.textEnd;let i=an.key=Nc(n,e,t);return t===i?-1:(i=an.keyEnd=function z5(n,e,t){let i;for(;e<t&&(45===(i=n.charCodeAt(e))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)e++;return e}(n,i,t),i=R1(n,i,t),i=an.value=Nc(n,i,t),i=an.valueEnd=function U5(n,e,t){let i=-1,s=-1,r=-1,o=e,a=o;for(;o<t;){const l=n.charCodeAt(o++);if(59===l)return a;34===l||39===l?a=o=O1(n,l,o,t):e===o-4&&85===r&&82===s&&76===i&&40===l?a=o=O1(n,41,o,t):l>32&&(a=o),r=s,s=i,i=-33&l}return a}(n,i,t),R1(n,i,t))}function Nc(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function R1(n,e,t,i){return(e=Nc(n,e,t))<t&&e++,e}function O1(n,e,t,i){let s=-1,r=t;for(;r<i;){const o=n.charCodeAt(r++);if(o==e&&92!==s)return r;s=92==o&&92===s?0:o}throw new Error}function ix(n,e,t){return Ds(n,e,t,!1),ix}function Vr(n,e){return Ds(n,e,null,!0),Vr}function Cs(n){!function Ss(n,e,t,i){const s=Ge(),r=Or(2);s.firstUpdatePass&&F1(s,null,r,i);const o=F();if(t!==be&&Fn(o,r,t)){const a=s.data[$n()];if(H1(a,i)&&!N1(s,r)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=Ra(l,t||"")),ex(s,a,o,t,i)}else!function Z5(n,e,t,i,s,r,o,a){s===be&&(s=it);let l=0,c=0,u=0<s.length?s[0]:null,h=0<r.length?r[0]:null;for(;null!==u||null!==h;){const d=l<s.length?s[l+1]:void 0,f=c<r.length?r[c+1]:void 0;let g,p=null;u===h?(l+=2,c+=2,d!==f&&(p=h,g=f)):null===h||null!==u&&u<h?(l+=2,p=u):(c+=2,p=h,g=f),null!==p&&B1(n,e,t,i,p,g,o,a),u=l<s.length?s[l]:null,h=c<r.length?r[c]:null}}(s,a,o,o[11],o[r+1],o[r+1]=function Y5(n,e,t){if(null==t||""===t)return it;const i=[],s=Lo(t);if(Array.isArray(s))for(let r=0;r<s.length;r++)n(i,s[r],!0);else if("object"==typeof s)for(const r in s)s.hasOwnProperty(r)&&n(i,r,s[r]);else"string"==typeof s&&e(i,s);return i}(n,e,t),i,r)}}(L1,j5,n,!1)}function j5(n,e){for(let t=function V5(n){return function P1(n){an.key=0,an.keyEnd=0,an.value=0,an.valueEnd=0,an.textEnd=n.length}(n),k1(n,Nc(n,0,an.textEnd))}(e);t>=0;t=k1(e,t))L1(n,A1(e),L5(e))}function Ds(n,e,t,i){const s=F(),r=Ge(),o=Or(2);r.firstUpdatePass&&F1(r,n,o,i),e!==be&&Fn(s,o,e)&&B1(r,r.data[$n()],s,s[11],n,s[o+1]=function X5(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=nt(Lo(n)))),n}(e,t),i,o)}function N1(n,e){return e>=n.expandoStartIndex}function F1(n,e,t,i){const s=n.data;if(null===s[t+1]){const r=s[$n()],o=N1(n,t);H1(r,i)&&null===e&&!o&&(e=!1),e=function $5(n,e,t,i){const s=function T_(n){const e=ve.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let r=i?e.residualClasses:e.residualStyles;if(null===s)0===(i?e.classBindings:e.styleBindings)&&(t=Uh(t=sx(null,n,e,t,i),e.attrs,i),r=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==s)if(t=sx(s,n,e,t,i),null===r){let l=function W5(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Lr(i))return n[xs(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=sx(null,n,e,l[1],i),l=Uh(l,e.attrs,i),function q5(n,e,t,i){n[xs(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else r=function K5(n,e,t){let i;const s=e.directiveEnd;for(let r=1+e.directiveStylingLast;r<s;r++)i=Uh(i,n[r].hostAttrs,t);return Uh(i,e.attrs,t)}(n,e,i)}return void 0!==r&&(i?e.residualClasses=r:e.residualStyles=r),t}(s,r,e,i),function O5(n,e,t,i,s,r){let o=r?e.classBindings:e.styleBindings,a=xs(o),l=Lr(o);n[i]=t;let u,c=!1;if(Array.isArray(t)){const h=t;u=h[1],(null===u||gc(h,u)>0)&&(c=!0)}else u=t;if(s)if(0!==l){const d=xs(n[a+1]);n[i+1]=jp(d,a),0!==d&&(n[d+1]=Pb(n[d+1],i)),n[a+1]=function T$(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=jp(a,0),0!==a&&(n[a+1]=Pb(n[a+1],i)),a=i;else n[i+1]=jp(l,0),0===a?a=i:n[l+1]=Pb(n[l+1],i),l=i;c&&(n[i+1]=kb(n[i+1])),E1(n,u,i,!0),E1(n,u,i,!1),function N5(n,e,t,i,s){const r=s?n.residualClasses:n.residualStyles;null!=r&&"string"==typeof e&&gc(r,e)>=0&&(t[i+1]=Rb(t[i+1]))}(e,u,n,i,r),o=jp(a,l),r?e.classBindings=o:e.styleBindings=o}(s,r,e,t,o,i)}}function sx(n,e,t,i,s){let r=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(r=e[a],i=Uh(i,r.hostAttrs,s),r!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function Uh(n,e,t){const i=t?1:2;let s=-1;if(null!==e)for(let r=0;r<e.length;r++){const o=e[r];"number"==typeof o?s=o:s===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),wi(n,o,!!t||e[++r]))}return void 0===n?null:n}function L1(n,e,t){wi(n,e,Lo(t))}function B1(n,e,t,i,s,r,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];Qp(function EA(n){return 1==(1&n)}(c)?V1(l,e,t,s,Lr(c),o):void 0)||(Qp(r)||function MA(n){return 2==(2&n)}(c)&&(r=V1(l,null,t,s,a,o)),function L8(n,e,t,i,s){if(e)s?n.addClass(t,i):n.removeClass(t,i);else{let r=-1===i.indexOf("-")?void 0:li.DashCase;null==s?n.removeStyle(t,i,r):("string"==typeof s&&s.endsWith("!important")&&(s=s.slice(0,-10),r|=li.Important),n.setStyle(t,i,s,r))}}(i,o,yp($n(),t),s,r))}function V1(n,e,t,i,s,r){const o=null===e;let a;for(;s>0;){const l=n[s],c=Array.isArray(l),u=c?l[1]:l,h=null===u;let d=t[s+1];d===be&&(d=h?it:void 0);let f=h?B_(d,i):u===i?d:void 0;if(c&&!Qp(f)&&(f=B_(l,i)),Qp(f)&&(a=f,o))return a;const p=n[s+1];s=o?xs(p):Lr(p)}if(null!==e){let l=r?e.residualClasses:e.residualStyles;null!=l&&(a=B_(l,i))}return a}function Qp(n){return void 0!==n}function H1(n,e){return 0!=(n.flags&(e?16:32))}function $e(n,e=""){const t=F(),i=Ge(),s=n+22,r=i.firstCreatePass?Dc(i,s,1,e,null):i.data[s],o=t[s]=function ab(n,e){return n.createText(e)}(t[11],e);Vp(i,t,o,r),Js(r,!1)}function Wa(n){return jh("",n,""),Wa}function jh(n,e,t){const i=F(),s=function Mc(n,e,t,i){return Fn(n,oc(),t)?e+me(t)+i:be}(i,n,e,t);return s!==be&&function Br(n,e,t){const i=yp(e,n);!function LE(n,e,t){n.setValue(e,t)}(n[11],i,t)}(i,$n(),s),jh}const Lc="en-US";let lI=Lc;function ax(n,e,t,i,s){if(n=se(n),Array.isArray(n))for(let r=0;r<n.length;r++)ax(n[r],e,t,i,s);else{const r=Ge(),o=F();let a=za(n)?n:se(n.provide),l=pA(n);const c=sn(),u=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(za(n)||!n.multi){const f=new mh(l,s,_),p=cx(a,e,s?u:u+d,h);-1===p?(Tp(vh(c,o),r,a),lx(r,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=cx(a,e,u+d,h),p=cx(a,e,u,u+d),g=f>=0&&t[f],y=p>=0&&t[p];if(s&&!y||!s&&!g){Tp(vh(c,o),r,a);const b=function gW(n,e,t,i,s){const r=new mh(n,t,_);return r.multi=[],r.index=e,r.componentProviders=0,RI(r,s,i&&!t),r}(s?pW:fW,t.length,s,i,l);!s&&y&&(t[p].providerFactory=b),lx(r,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=1048576),t.push(b),o.push(b)}else lx(r,n,f>-1?f:p,RI(t[s?p:f],l,!s&&i));!s&&i&&y&&t[p].componentProviders++}}}function lx(n,e,t,i){const s=za(e),r=function n$(n){return!!n.useClass}(e);if(s||r){const l=(r?se(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!s&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function RI(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function cx(n,e,t,i){for(let s=t;s<i;s++)if(e[s]===n)return s;return-1}function fW(n,e,t,i){return ux(this.multi,[])}function pW(n,e,t,i){const s=this.multi;let r;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=_h(t,t[1],this.providerFactory.index,i);r=a.slice(0,o),ux(s,r);for(let l=o;l<a.length;l++)r.push(a[l])}else r=[],ux(s,r);return r}function ux(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function fe(n,e=[]){return t=>{t.providersResolver=(i,s)=>function dW(n,e,t){const i=Ge();if(i.firstCreatePass){const s=_s(n);ax(t,i.data,i.blueprint,s,!0),ax(e,i.data,i.blueprint,s,!1)}}(i,s?s(n):n,e)}}class yW{resolveComponentFactory(e){throw function mW(n){const e=Error(`No component factory found for ${nt(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Vc=(()=>{class n{}return n.NULL=new yW,n})();class Ho{}class NI{}class FI{}function _W(){return Hc(sn(),F())}function Hc(n,e){return new It(Gi(n,e))}let It=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=_W,n})();function bW(n){return n instanceof It?n.nativeElement:n}class Kh{}let Di=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function xW(){const n=F(),t=bi(sn().index,n);return(ai(t)?t:n)[11]}(),n})(),wW=(()=>{class n{}return n.\u0275prov=j({token:n,providedIn:"root",factory:()=>null}),n})();class Ka{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const CW=new Ka("14.0.6"),hx={};function ig(n,e,t,i,s=!1){for(;null!==t;){const r=e[t.index];if(null!==r&&i.push(Xt(r)),vs(r))for(let a=10;a<r.length;a++){const l=r[a],c=l[1].firstChild;null!==c&&ig(l[1],l,c,i)}const o=t.type;if(8&o)ig(n,e,t.child,i);else if(32&o){const a=sb(t,e);let l;for(;l=a();)i.push(l)}else if(16&o){const a=KE(e,t);if(Array.isArray(a))i.push(...a);else{const l=Rh(e[16]);ig(l[1],l,a,i,!0)}}t=s?t.projectionNext:t.next}return i}class Yh{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return ig(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(vs(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(cb(e,i),Ep(t,i))}this._attachedToViewContainer=!1}VE(this._lView[1],this._lView)}onDestroy(e){HA(this._lView[1],this._lView,null,e)}markForCheck(){Yb(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Zb(n,e,t){const i=e[10];i.begin&&i.begin();try{Nh(n,e,n.template,t)}catch(s){throw JA(e,s),s}finally{i.end&&i.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function M8(n,e){Oh(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=e}}class DW extends Yh{constructor(e){super(e),this._view=e}detectChanges(){YA(this._view)}checkNoChanges(){}get context(){return null}}class dx extends Vc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=bt(e);return new fx(t,this.ngModule)}}function LI(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class TW{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){const s=this.injector.get(e,hx,i);return s!==hx||t===hx?s:this.parentInjector.get(e,t,i)}}class fx extends FI{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function q8(n){return n.map(W8).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return LI(this.componentDef.inputs)}get outputs(){return LI(this.componentDef.outputs)}create(e,t,i,s){let r=(s=s||this.ngModule)instanceof Ua?s:s?.injector;r&&null!==this.componentDef.getStandaloneInjector&&(r=this.componentDef.getStandaloneInjector(r)||r);const o=r?new TW(e,r):e,a=o.get(Kh,null);if(null===a)throw new R(407,!1);const l=o.get(wW,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",h=i?function z$(n,e,t){return n.selectRootElement(e,t===ms.ShadowDom)}(c,i,this.componentDef.encapsulation):lb(a.createRenderer(null,this.componentDef),u,function SW(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),d=this.componentDef.onPush?288:272,f=function f5(n,e){return{components:[],scheduler:n||m8,clean:u5,playerHandler:e||null,flags:0}}(),p=$b(0,null,null,1,0,null,null,null,null,null),g=Wp(null,p,f,d,null,null,a,c,l,o,null);let y,b;E_(g);try{const w=function h5(n,e,t,i,s,r){const o=t[1];t[22]=n;const l=Dc(o,22,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(Yp(l,c,!0),null!==n&&(wp(s,n,c),null!==l.classes&&pb(s,n,l.classes),null!==l.styles&&XE(s,n,l.styles)));const u=i.createRenderer(n,e),h=Wp(t,VA(e),null,e.onPush?32:16,t[22],l,i,u,r||null,null,null);return o.firstCreatePass&&(Tp(vh(l,t),o,e.type),GA(o,l),$A(l,t.length,1)),Kp(t,h),t[22]=h}(h,this.componentDef,g,a,c);if(h)if(i)wp(c,h,["ng-version",CW.full]);else{const{attrs:D,classes:E}=function K8(n){const e=[],t=[];let i=1,s=2;for(;i<n.length;){let r=n[i];if("string"==typeof r)2===s?""!==r&&e.push(r,n[++i]):8===s&&t.push(r);else{if(!bs(s))break;s=r}i++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);D&&wp(c,h,D),E&&E.length>0&&pb(c,h,E.join(" "))}if(b=b_(p,22),void 0!==t){const D=b.projection=[];for(let E=0;E<this.ngContentSelectors.length;E++){const V=t[E];D.push(null!=V?Array.from(V):null)}}y=function d5(n,e,t,i,s){const r=t[1],o=function q$(n,e,t){const i=sn();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),WA(n,i,e,Sc(n,e,1,null),t));const s=_h(e,n,i.directiveStart,i);Nn(s,e);const r=Gi(i,e);return r&&Nn(r,e),s}(r,t,e);if(i.components.push(o),n[8]=o,null!==s)for(const l of s)l(o,e);if(e.contentQueries){const l=sn();e.contentQueries(1,o,l.directiveStart)}const a=sn();return!r.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Oo(a.index),UA(t[1],a,0,a.directiveStart,a.directiveEnd,e),jA(e,o)),o}(w,this.componentDef,g,f,[p5]),qp(p,g,null)}finally{A_()}return new EW(this.componentType,y,Hc(b,g),g,b)}}class EW extends class vW{}{constructor(e,t,i,s,r){super(),this.location=i,this._rootLView=s,this._tNode=r,this.instance=t,this.hostView=this.changeDetectorRef=new DW(s),this.componentType=e}get injector(){return new cc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class BI extends Ho{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new dx(this);const i=vi(e);this._bootstrapComponents=Fr(i.bootstrap),this._r3Injector=mA(e,t,[{provide:Ho,useValue:this},{provide:Vc,useValue:this.componentFactoryResolver}],nt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(e)}get(e,t=Tn.THROW_IF_NOT_FOUND,i=ce.Default){return e===Tn||e===Ho||e===vb?this:this._r3Injector.get(e,t,i)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class px extends NI{constructor(e){super(),this.moduleType=e}create(e){return new BI(this.moduleType,e)}}class IW extends Ho{constructor(e,t,i){super(),this.componentFactoryResolver=new dx(this),this.instance=null;const s=new fA([...e,{provide:Ho,useValue:this},{provide:Vc,useValue:this.componentFactoryResolver}],t||xb(),i,new Set(["environment"]));this.injector=s,s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function sg(n,e=null,t=null){return new IW(n,e,t).injector}function $I(n,e,t){const i=function Gn(){const n=ve.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}()+n,s=F();return s[i]===be?function sr(n,e,t){return n[e]=t}(s,i,t?e.call(t):e()):function Lh(n,e){return n[e]}(s,i)}function mx(n){return e=>{setTimeout(n,void 0,e)}}const ne=class iq extends fn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let s=e,r=t||(()=>null),o=i;if(e&&"object"==typeof e){const l=e;s=l.next?.bind(l),r=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(r=mx(r),s&&(s=mx(s)),o&&(o=mx(o)));const a=super.subscribe({next:s,error:r,complete:o});return e instanceof $t&&e.add(a),a}};function sq(){return this._results[ja()]()}class yx{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=ja(),i=yx.prototype;i[t]||(i[t]=sq)}get changes(){return this._changes||(this._changes=new ne)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const s=xi(e);(this._changesDetected=!function JG(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let s=n[i],r=e[i];if(t&&(s=t(s),r=t(r)),r!==s)return!1}return!0}(i._results,s,t))&&(i._results=s,i.length=s.length,i.last=s[this.length-1],i.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Kn=(()=>{class n{}return n.__NG_ELEMENT_ID__=aq,n})();const rq=Kn,oq=class extends rq{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e,t){const i=this._declarationTContainer.tViews,s=Wp(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,null,t||null);s[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(s[19]=o.createEmbeddedView(i)),qp(i,s,e),new Yh(s)}};function aq(){return rg(sn(),F())}function rg(n,e){return 4&n.type?new oq(e,n,Hc(n,e)):null}let Ts=(()=>{class n{}return n.__NG_ELEMENT_ID__=lq,n})();function lq(){return JI(sn(),F())}const cq=Ts,XI=class extends cq{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Hc(this._hostTNode,this._hostLView)}get injector(){return new cc(this._hostTNode,this._hostLView)}get parentInjector(){const e=Sp(this._hostTNode,this._hostLView);if(jM(e)){const t=lc(e,this._hostLView),i=ac(e);return new cc(t[1].data[i+8],t)}return new cc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=QI(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){let s,r;"number"==typeof i?s=i:null!=i&&(s=i.index,r=i.injector);const o=e.createEmbeddedView(t||{},r);return this.insert(o,s),o}createComponent(e,t,i,s,r){const o=e&&!function xh(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const h=t||{};a=h.index,i=h.injector,s=h.projectableNodes,r=h.environmentInjector||h.ngModuleRef}const l=o?e:new fx(bt(e)),c=i||this.parentInjector;if(!r&&null==l.ngModule){const d=(o?c:this.parentInjector).get(Ua,null);d&&(r=d)}const u=l.create(c,s,void 0,r);return this.insert(u.hostView,a),u}insert(e,t){const i=e._lView,s=i[1];if(function yG(n){return vs(n[3])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const h=i[3],d=new XI(h,h[6],h[3]);d.detach(d.indexOf(e))}}const r=this._adjustIndex(t),o=this._lContainer;!function A8(n,e,t,i){const s=10+i,r=t.length;i>0&&(t[s-1][4]=e),i<r-10?(e[4]=t[s],eE(t,10+i,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function I8(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(s,i,o,r);const a=db(r,o),l=i[11],c=Bp(l,o[7]);return null!==c&&function T8(n,e,t,i,s,r){i[0]=s,i[6]=e,Oh(n,i,t,1,s,r)}(s,o[6],l,i,c,a),e.attachToViewContainerRef(),eE(vx(o),r,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=QI(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=cb(this._lContainer,t);i&&(Ep(vx(this._lContainer),t),VE(i[1],i))}detach(e){const t=this._adjustIndex(e,-1),i=cb(this._lContainer,t);return i&&null!=Ep(vx(this._lContainer),t)?new Yh(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function QI(n){return n[8]}function vx(n){return n[8]||(n[8]=[])}function JI(n,e){let t;const i=e[n.index];if(vs(i))t=i;else{let s;if(8&n.type)s=Xt(i);else{const r=e[11];s=r.createComment("");const o=Gi(n,e);Ha(r,Bp(r,o),s,function O8(n,e){return n.nextSibling(e)}(r,o),!1)}e[n.index]=t=qA(i,e,s,n),Kp(e,t)}return new XI(t,n,e)}class _x{constructor(e){this.queryList=e,this.matches=null}clone(){return new _x(this.queryList)}setDirty(){this.queryList.setDirty()}}class bx{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,s=[];for(let r=0;r<i;r++){const o=t.getByIndex(r);s.push(this.queries[o.indexInDeclarationView].clone())}return new bx(s)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==sk(e,t).matches&&this.queries[t].setDirty()}}class ek{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class xx{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const s=null!==t?t.length:0,r=this.getByIndex(i).embeddedTView(e,s);r&&(r.indexInDeclarationView=i,null!==t?t.push(r):t=[r])}return null!==t?new xx(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class wx{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new wx(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const r=i[s];this.matchTNodeWithReadOption(e,t,dq(t,r)),this.matchTNodeWithReadOption(e,t,Mp(t,e,r,!1,!1))}else i===Kn?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Mp(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===It||s===Ts||s===Kn&&4&t.type)this.addMatch(t.index,-2);else{const r=Mp(t,e,s,!1,!1);null!==r&&this.addMatch(t.index,r)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function dq(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function pq(n,e,t,i){return-1===t?function fq(n,e){return 11&n.type?Hc(n,e):4&n.type?rg(n,e):null}(e,n):-2===t?function gq(n,e,t){return t===It?Hc(e,n):t===Kn?rg(e,n):t===Ts?JI(e,n):void 0}(n,e,i):_h(n,n[1],t,e)}function tk(n,e,t,i){const s=e[19].queries[i];if(null===s.matches){const r=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:pq(e,r[c],o[l+1],t.metadata.read))}s.matches=a}return s.matches}function Cx(n,e,t,i){const s=n.queries.getByIndex(t),r=s.matches;if(null!==r){const o=tk(n,e,s,t);for(let a=0;a<r.length;a+=2){const l=r[a];if(l>0)i.push(o[a/2]);else{const c=r[a+1],u=e[-l];for(let h=10;h<u.length;h++){const d=u[h];d[17]===d[3]&&Cx(d[1],d,c,i)}if(null!==u[9]){const h=u[9];for(let d=0;d<h.length;d++){const f=h[d];Cx(f[1],f,c,i)}}}}}return i}function ut(n){const e=F(),t=Ge(),i=RM();M_(i+1);const s=sk(t,i);if(n.dirty&&TM(e)===(2==(2&s.metadata.flags))){if(null===s.matches)n.reset([]);else{const r=s.crossesNgTemplate?Cx(t,e,i,[]):tk(t,e,s,i);n.reset(r,bW),n.notifyOnChanges()}return!0}return!1}function qi(n,e,t){const i=Ge();i.firstCreatePass&&(ik(i,new ek(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),nk(i,F(),e)}function yn(n,e,t,i){const s=Ge();if(s.firstCreatePass){const r=sn();ik(s,new ek(e,t,i),r.index),function yq(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(s,n),2==(2&t)&&(s.staticContentQueries=!0)}nk(s,F(),t)}function ht(){return function mq(n,e){return n[19].queries[e].queryList}(F(),RM())}function nk(n,e,t){const i=new yx(4==(4&t));HA(n,e,i,i.destroy),null===e[19]&&(e[19]=new bx),e[19].queries.push(new _x(i))}function ik(n,e,t){null===n.queries&&(n.queries=new xx),n.queries.track(new wx(e,t))}function sk(n,e){return n.queries.getByIndex(e)}function Dx(n,e){return rg(n,e)}function ag(...n){}const lg=new U("Application Initializer");let cg=(()=>{class n{constructor(t){this.appInits=t,this.resolve=ag,this.reject=ag,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const r=this.appInits[s]();if(Hh(r))t.push(r);else if(tx(r)){const o=new Promise((a,l)=>{r.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{i()}).catch(s=>{this.reject(s)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(P(lg,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jh=new U("AppId",{providedIn:"root",factory:function Ck(){return`${Ax()}${Ax()}${Ax()}`}});function Ax(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Dk=new U("Platform Initializer"),ug=new U("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Sk=new U("appBootstrapListener"),hg=new U("AnimationModuleType");let Lq=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Zn=new U("LocaleId",{providedIn:"root",factory:()=>tr(Zn,ce.Optional|ce.SkipSelf)||function Bq(){return typeof $localize<"u"&&$localize.locale||Lc}()});class Hq{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Ix=(()=>{class n{compileModuleSync(t){return new px(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),r=Fr(vi(t).declarations).reduce((o,a)=>{const l=bt(a);return l&&o.push(new fx(l)),o},[]);return new Hq(i,r)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jq=(()=>Promise.resolve(0))();function kx(n){typeof Zone>"u"?jq.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Re{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ne(!1),this.onMicrotaskEmpty=new ne(!1),this.onStable=new ne(!1),this.onError=new ne(!1),typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&t,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function Gq(){let n=ft.requestAnimationFrame,e=ft.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function qq(n){const e=()=>{!function Wq(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ft,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Rx(n),n.isCheckStableRunning=!0,Px(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Rx(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,s,r,o,a)=>{try{return Ek(n),t.invokeTask(s,r,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||n.shouldCoalesceRunChangeDetection)&&e(),Ak(n)}},onInvoke:(t,i,s,r,o,a,l)=>{try{return Ek(n),t.invoke(s,r,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),Ak(n)}},onHasTask:(t,i,s,r)=>{t.hasTask(s,r),i===s&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,Rx(n),Px(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:(t,i,s,r)=>(t.handleError(s,r),n.runOutsideAngular(()=>n.onError.emit(r)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Re.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(Re.isInAngularZone())throw new R(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,s){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+s,e,$q,ag,ag);try{return r.runTask(o,t,i)}finally{r.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const $q={};function Px(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Rx(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Ek(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Ak(n){n._nesting--,Px(n)}class Kq{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ne,this.onMicrotaskEmpty=new ne,this.onStable=new ne,this.onError=new ne}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,s){return e.apply(t,i)}}const Ik=new U(""),dg=new U("");let Fx,Ox=(()=>{class n{constructor(t,i,s){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Fx||(function Yq(n){Fx=n}(s),s.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Re.assertNotInAngularZone(),kx(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())kx(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,s){let r=-1;i&&i>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==r),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:s})}whenStable(t,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,s){return[]}}return n.\u0275fac=function(t){return new(t||n)(P(Re),P(Nx),P(dg))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),Nx=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return Fx?.findTestabilityInTree(this,t,i)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),zo=null;const kk=new U("AllowMultipleToken"),Lx=new U("PlatformDestroyListeners");class Pk{constructor(e,t){this.name=e,this.token=t}}function Ok(n,e,t=[]){const i=`Platform: ${e}`,s=new U(i);return(r=[])=>{let o=Bx();if(!o||o.injector.get(kk,!1)){const a=[...t,...r,{provide:s,useValue:!0}];n?n(a):function Qq(n){if(zo&&!zo.get(kk,!1))throw new R(400,!1);zo=n;const e=n.get(Fk);(function Rk(n){const e=n.get(Dk,null);e&&e.forEach(t=>t())})(n)}(function Nk(n=[],e){return Tn.create({name:e,providers:[{provide:_b,useValue:"platform"},{provide:Lx,useValue:new Set([()=>zo=null])},...n]})}(a,i))}return function e9(n){const e=Bx();if(!e)throw new R(401,!1);return e}()}}function Bx(){return zo?.get(Fk)??null}let Fk=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const s=function t9(n,e){let t;return t="noop"===n?new Kq:("zone.js"===n?void 0:n)||new Re(e),t}(i?.ngZone,function Lk(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),r=[{provide:Re,useValue:s}];return s.run(()=>{const o=Tn.create({providers:r,parent:this.injector,name:t.moduleType.name}),a=t.create(o),l=a.injector.get(vc,null);if(!l)throw new R(402,!1);return s.runOutsideAngular(()=>{const c=s.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{fg(this._modules,a),c.unsubscribe()})}),function Bk(n,e,t){try{const i=t();return Hh(i)?i.catch(s=>{throw e.runOutsideAngular(()=>n.handleError(s)),s}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(l,s,()=>{const c=a.injector.get(cg);return c.runInitializers(),c.donePromise.then(()=>(function cI(n){yi(n,"Expected localeId to be defined"),"string"==typeof n&&(lI=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Zn,Lc)||Lc),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,i=[]){const s=Vk({},i);return function Zq(n,e,t){const i=new px(t);return Promise.resolve(i)}(0,0,t).then(r=>this.bootstrapModuleFactory(r,s))}_moduleDoBootstrap(t){const i=t.injector.get(Gc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!t.instance.ngDoBootstrap)throw new R(403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new R(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(Lx,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(P(Tn))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Vk(n,e){return Array.isArray(e)?e.reduce(Vk,n):{...n,...e}}let Gc=(()=>{class n{constructor(t,i,s){this._zone=t,this._injector=i,this._exceptionHandler=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const r=new _t(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new _t(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Re.assertNotInAngularZone(),kx(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Re.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=Ql(r,o.pipe(function Jl(n={}){const{connector:e=(()=>new fn),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:s=!0}=n;return r=>{let o,a,l,c=0,u=!1,h=!1;const d=()=>{a?.unsubscribe(),a=void 0},f=()=>{d(),o=l=void 0,u=h=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return Ce((g,y)=>{c++,!h&&!u&&d();const b=l=l??e();y.add(()=>{c--,0===c&&!h&&!u&&(a=zn(p,s))}),b.subscribe(y),!o&&c>0&&(o=new qs({next:w=>b.next(w),error:w=>{h=!0,d(),a=zn(f,t,w),b.error(w)},complete:()=>{u=!0,d(),a=zn(f,i),b.complete()}}),An(g).subscribe(o))})(r)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const s=t instanceof FI;if(!this._injector.get(cg).done)throw!s&&function Uc(n){const e=bt(n)||Un(n)||jn(n);return null!==e&&e.standalone}(t),new R(405,false);let o;o=s?t:this._injector.get(Vc).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function Xq(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Ho),c=o.create(Tn.NULL,[],i||o.selector,a),u=c.location.nativeElement,h=c.injector.get(Ik,null);return h?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),fg(this.components,c),h?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new R(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;fg(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Sk,[]).concat(this._bootstrapListeners).forEach(s=>s(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>fg(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new R(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(P(Re),P(Tn),P(vc))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fg(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let zk=!0,Uk=!1;function Vx(){return Uk=!0,zk}let zr=(()=>{class n{}return n.__NG_ELEMENT_ID__=s9,n})();function s9(n){return function r9(n,e,t){if(gp(n)&&!t){const i=bi(n.index,e);return new Yh(i,i)}return 47&n.type?new Yh(e[16],e):null}(sn(),F(),16==(16&n))}class Wk{constructor(){}supports(e){return Fh(e)}create(e){return new h9(e)}}const u9=(n,e)=>e;class h9{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||u9}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,s=0,r=null;for(;t||i;){const o=!i||t&&t.currentIndex<Kk(i,s,r)?t:i,a=Kk(o,s,r),l=o.currentIndex;if(o===i)s--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)s++;else{r||(r=[]);const c=a-s,u=l-s;if(c!=u){for(let d=0;d<c;d++){const f=d<r.length?r[d]:r[d]=0,p=f+d;u<=p&&p<c&&(r[d]=f+1)}r[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Fh(e))throw new R(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let s,r,o,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)r=e[a],o=this._trackByFn(a,r),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,r,o,a)),Object.is(t.item,r)||this._addIdentityChange(t,r)):(t=this._mismatch(t,r,o,a),i=!0),t=t._next}else s=0,function C5(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[ja()]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{o=this._trackByFn(s,a),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,a,o,s)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,s),i=!0),t=t._next,s++}),this.length=s;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,s){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,s)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,s)):e=this._addAfter(new d9(t,i),r,s),e}_verifyReinsertion(e,t,i,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?e=this._reinsertAfter(r,e._prev,s):e.currentIndex!=s&&(e.currentIndex=s,this._addToMoves(e,s)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const s=e._prevRemoved,r=e._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const s=null===t?this._itHead:t._next;return e._next=s,e._prev=t,null===s?this._itTail=e:s._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new qk),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class d9{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class f9{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class qk{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new f9,this.map.set(t,i)),i.add(e)}get(e,t){const s=this.map.get(e);return s?s.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Kk(n,e,t){const i=n.previousIndex;if(null===i)return i;let s=0;return t&&i<t.length&&(s=t[i]),i+e+s}class Yk{constructor(){}supports(e){return e instanceof Map||Jb(e)}create(){return new p9}}class p9{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Jb(e)))throw new R(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,s)=>{if(t&&t.key===s)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(s,i);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const s=this._records.get(e);this._maybeAddToChanges(s,t);const r=s._prev,o=s._next;return r&&(r._next=o),o&&(o._prev=r),s._next=null,s._prev=null,s}const i=new g9(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class g9{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Zk(){return new mg([new Wk])}let mg=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const s=i.factories.slice();t=t.concat(s)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||Zk()),deps:[[n,new Th,new Fo]]}}find(t){const i=this.factories.find(s=>s.supports(t));if(null!=i)return i;throw new R(901,!1)}}return n.\u0275prov=j({token:n,providedIn:"root",factory:Zk}),n})();function Xk(){return new ed([new Yk])}let ed=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const s=i.factories.slice();t=t.concat(s)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||Xk()),deps:[[n,new Th,new Fo]]}}find(t){const i=this.factories.find(s=>s.supports(t));if(i)return i;throw new R(901,!1)}}return n.\u0275prov=j({token:n,providedIn:"root",factory:Xk}),n})();const v9=Ok(null,"core",[]);let _9=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(P(Gc))},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({}),n})();let yg=null;function or(){return yg}const kt=new U("DocumentToken");let vg=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:function(){return function C9(){return P(Qk)}()},providedIn:"platform"}),n})();const D9=new U("Location Initialized");let Qk=(()=>{class n extends vg{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return or().getBaseHref(this._doc)}onPopState(t){const i=or().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=or().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,s){Jk()?this._history.pushState(t,i,s):this.location.hash=s}replaceState(t,i,s){Jk()?this._history.replaceState(t,i,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(P(kt))},n.\u0275prov=j({token:n,factory:function(){return function S9(){return new Qk(P(kt))}()},providedIn:"platform"}),n})();function Jk(){return!!window.history.pushState}function Gx(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function eP(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function jr(n){return n&&"?"!==n[0]?"?"+n:n}let Za=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:function(){return function T9(){const n=P(kt).location;return new nP(P(vg),n&&n.origin||"")}()},providedIn:"root"}),n})();const tP=new U("appBaseHref");let nP=(()=>{class n extends Za{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Gx(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+jr(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${i}${s}`:i}pushState(t,i,s,r){const o=this.prepareExternalUrl(s+jr(r));this._platformLocation.pushState(t,i,o)}replaceState(t,i,s,r){const o=this.prepareExternalUrl(s+jr(r));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(P(vg),P(tP,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),M9=(()=>{class n extends Za{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Gx(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,s,r){let o=this.prepareExternalUrl(s+jr(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,s,r){let o=this.prepareExternalUrl(s+jr(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(P(vg),P(tP,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),$x=(()=>{class n{constructor(t){this._subject=new ne,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=eP(iP(i)),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+jr(i))}normalize(t){return n.stripTrailingSlash(function A9(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,iP(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",s=null){this._locationStrategy.pushState(s,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+jr(i)),s)}replaceState(t,i="",s=null){this._locationStrategy.replaceState(s,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+jr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(s=>s(t,i))}subscribe(t,i,s){return this._subject.subscribe({next:t,error:i,complete:s})}}return n.normalizeQueryParams=jr,n.joinWithSlash=Gx,n.stripTrailingSlash=eP,n.\u0275fac=function(t){return new(t||n)(P(Za))},n.\u0275prov=j({token:n,factory:function(){return function E9(){return new $x(P(Za))}()},providedIn:"root"}),n})();function iP(n){return n.replace(/\/index.html$/,"")}function dP(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[s,r]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(s.trim()===e)return decodeURIComponent(r)}return null}let t0=(()=>{class n{constructor(t,i,s,r){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=s,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Fh(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${nt(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(t){return new(t||n)(_(mg),_(ed),_(It),_(Di))},n.\u0275dir=ee({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class p7{constructor(e,t,i,s){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let n0=(()=>{class n{constructor(t,i,s){this._viewContainer=t,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((s,r,o)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new p7(s.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===r?void 0:r);else if(null!==r){const a=i.get(r);i.move(a,o),gP(a,s)}});for(let s=0,r=i.length;s<r;s++){const a=i.get(s).context;a.index=s,a.count=r,a.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{gP(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(_(Ts),_(Kn),_(mg))},n.\u0275dir=ee({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function gP(n,e){n.context.$implicit=e.item}let Eg=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new m7,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){mP("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){mP("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(_(Ts),_(Kn))},n.\u0275dir=ee({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class m7{constructor(){this.$implicit=null,this.ngIf=null}}function mP(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${nt(e)}'.`)}let Ag=(()=>{class n{constructor(t,i,s){this._ngEl=t,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[s,r]=t.split("."),o=-1===s.indexOf("-")?void 0:li.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,s,r?`${i}${r}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,s,o)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(_(It),_(ed),_(Di))},n.\u0275dir=ee({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),Ig=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:s,ngTemplateOutletContext:r,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(s,r,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(_(Ts))},n.\u0275dir=ee({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[On]}),n})(),$c=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({}),n})();const _P="browser";let $7=(()=>{class n{}return n.\u0275prov=j({token:n,providedIn:"root",factory:()=>new W7(P(kt),window)}),n})();class W7{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function q7(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const r=s.shadowRoot;if(r){const o=r.getElementById(e)||r.querySelector(`[name="${e}"]`);if(o)return o}s=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(i-r[0],s-r[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=bP(this.window.history)||bP(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function bP(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class xP{}class l0 extends class K7 extends class w9{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function x9(n){yg||(yg=n)}(new l0)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Y7(){return id=id||document.querySelector("base"),id?id.getAttribute("href"):null}();return null==t?null:function Z7(n){kg=kg||document.createElement("a"),kg.setAttribute("href",n);const e=kg.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){id=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return dP(document.cookie,e)}}let kg,id=null;const wP=new U("TRANSITION_ID"),Q7=[{provide:lg,useFactory:function X7(n,e,t){return()=>{t.get(cg).donePromise.then(()=>{const i=or(),s=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let r=0;r<s.length;r++)i.remove(s[r])})}},deps:[wP,kt,Tn],multi:!0}];let eK=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const Pg=new U("EventManagerPlugins");let Rg=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(s=>s.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,s){return this._findPluginFor(i).addEventListener(t,i,s)}addGlobalEventListener(t,i,s){return this._findPluginFor(i).addGlobalEventListener(t,i,s)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const s=this._plugins;for(let r=0;r<s.length;r++){const o=s[r];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(P(Pg),P(Re))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();class CP{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const s=or().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,i)}}let DP=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),sd=(()=>{class n extends DP{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,s){t.forEach(r=>{const o=this._doc.createElement("style");o.textContent=r,s.push(i.appendChild(o))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(SP),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(t,s,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(SP))}}return n.\u0275fac=function(t){return new(t||n)(P(kt))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();function SP(n){or().remove(n)}const c0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},u0=/%COMP%/g;function Og(n,e,t){for(let i=0;i<e.length;i++){let s=e[i];Array.isArray(s)?Og(n,s,t):(s=s.replace(u0,n),t.push(s))}return t}function EP(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ng=(()=>{class n{constructor(t,i,s){this.eventManager=t,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new h0(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case ms.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new oK(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(t),s}case 1:case ms.ShadowDom:return new aK(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const s=Og(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(P(Rg),P(sd),P(Jh))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();class h0{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(c0[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(IP(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(IP(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,s){if(s){t=s+":"+t;const r=c0[s];r?e.setAttributeNS(r,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const s=c0[i];s?e.removeAttributeNS(s,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,s){s&(li.DashCase|li.Important)?e.style.setProperty(t,i,s&li.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&li.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,EP(i)):this.eventManager.addEventListener(e,t,EP(i))}}function IP(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class oK extends h0{constructor(e,t,i,s){super(e),this.component=i;const r=Og(s+"-"+i.id,i.styles,[]);t.addStyles(r),this.contentAttr=function iK(n){return"_ngcontent-%COMP%".replace(u0,n)}(s+"-"+i.id),this.hostAttr=function sK(n){return"_nghost-%COMP%".replace(u0,n)}(s+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class aK extends h0{constructor(e,t,i,s){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=Og(s.id,s.styles,[]);for(let o=0;o<r.length;o++){const a=document.createElement("style");a.textContent=r[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let lK=(()=>{class n extends CP{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,s){return t.addEventListener(i,s,!1),()=>this.removeEventListener(t,i,s)}removeEventListener(t,i,s){return t.removeEventListener(i,s)}}return n.\u0275fac=function(t){return new(t||n)(P(kt))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const kP=["alt","control","meta","shift"],uK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PP={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},hK={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let dK=(()=>{class n extends CP{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,s){const r=n.parseEventName(i),o=n.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>or().onAndCancel(t,r.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const r=n._normalizeKey(i.pop());let o="";if(kP.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),o+=l+".")}),o+=r,0!=i.length||0===r.length)return null;const a={};return a.domEventName=s,a.fullKey=o,a}static getEventFullKey(t){let i="",s=function fK(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&PP.hasOwnProperty(e)&&(e=PP[e]))}return uK[e]||e}(t);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),kP.forEach(r=>{r!=s&&hK[r](t)&&(i+=r+".")}),i+=s,i}static eventCallback(t,i,s){return r=>{n.getEventFullKey(r)===t&&s.runGuarded(()=>i(r))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(P(kt))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const RP=[{provide:ug,useValue:_P},{provide:Dk,useValue:function pK(){l0.makeCurrent()},multi:!0},{provide:kt,useFactory:function mK(){return function S4(n){j_=n}(document),document},deps:[]}],yK=Ok(v9,"browser",RP),OP=new U(""),NP=[{provide:dg,useClass:class J7{addToWindow(e){ft.getAngularTestability=(i,s=!0)=>{const r=e.findTestabilityInTree(i,s);if(null==r)throw new Error("Could not find testability for element.");return r},ft.getAllAngularTestabilities=()=>e.getAllTestabilities(),ft.getAllAngularRootElements=()=>e.getAllRootElements(),ft.frameworkStabilizers||(ft.frameworkStabilizers=[]),ft.frameworkStabilizers.push(i=>{const s=ft.getAllAngularTestabilities();let r=s.length,o=!1;const a=function(l){o=o||l,r--,0==r&&i(o)};s.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?or().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:Ik,useClass:Ox,deps:[Re,Nx,dg]},{provide:Ox,useClass:Ox,deps:[Re,Nx,dg]}],FP=[{provide:_b,useValue:"root"},{provide:vc,useFactory:function gK(){return new vc},deps:[]},{provide:Pg,useClass:lK,multi:!0,deps:[kt,Re,ug]},{provide:Pg,useClass:dK,multi:!0,deps:[kt]},{provide:Ng,useClass:Ng,deps:[Rg,sd,Jh]},{provide:Kh,useExisting:Ng},{provide:DP,useExisting:sd},{provide:sd,useClass:sd,deps:[kt]},{provide:Rg,useClass:Rg,deps:[Pg,Re]},{provide:xP,useClass:eK,deps:[]},[]];let LP=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Jh,useValue:t.appId},{provide:wP,useExisting:Jh},Q7]}}}return n.\u0275fac=function(t){return new(t||n)(P(OP,12))},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({providers:[...FP,...NP],imports:[$c,_9]}),n})(),BP=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(P(kt))},n.\u0275prov=j({token:n,factory:function(t){let i=null;return i=t?new t:function _K(){return new BP(P(kt))}(),i},providedIn:"root"}),n})();function xe(...n){return At(n,kr(n))}typeof window<"u"&&window;class Xn extends fn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const{isArray:EK}=Array,{getPrototypeOf:AK,prototype:IK,keys:kK}=Object;function zP(n){if(1===n.length){const e=n[0];if(EK(e))return{args:e,keys:null};if(function PK(n){return n&&"object"==typeof n&&AK(n)===IK}(e)){const t=kK(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:RK}=Array;function p0(n){return Ee(e=>function OK(n,e){return RK(e)?n(...e):n(e)}(n,e))}function UP(n,e){return n.reduce((t,i,s)=>(t[i]=e[s],t),{})}function Fg(...n){const e=kr(n),t=Ia(n),{args:i,keys:s}=zP(n);if(0===i.length)return At([],e);const r=new _t(function NK(n,e,t=Ks){return i=>{jP(e,()=>{const{length:s}=n,r=new Array(s);let o=s,a=s;for(let l=0;l<s;l++)jP(e,()=>{const c=At(n[l],e);let u=!1;c.subscribe(Pe(i,h=>{r[l]=h,u||(u=!0,a--),a||i.next(t(r.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,s?o=>UP(s,o):Ks));return t?r.pipe(p0(t)):r}function jP(n,e,t){n?hs(t,n,e):e()}function rd(n,e){const t=Ke(n)?n:()=>n,i=s=>s.error(t());return new _t(e?s=>e.schedule(i,0,s):i)}const od=Xu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Lg(...n){return function FK(){return Er(1)}()(At(n,kr(n)))}function GP(n){return new _t(e=>{An(n()).subscribe(e)})}function g0(){return Ce((n,e)=>{let t=null;n._refCount++;const i=Pe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,r=t;t=null,s&&(!r||s===r)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class $P extends _t{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ys(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $t;const t=this.getSubject();e.add(this.source.subscribe(Pe(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$t.EMPTY)}return e}refCount(){return g0()(this)}}function Xa(n,e){return Ce((t,i)=>{let s=null,r=0,o=!1;const a=()=>o&&!s&&i.complete();t.subscribe(Pe(i,l=>{s?.unsubscribe();let c=0;const u=r++;An(n(l,u)).subscribe(s=Pe(i,h=>i.next(e?e(l,h,u,c++):h),()=>{s=null,a()}))},()=>{o=!0,a()}))})}function Wc(n){return n<=0?()=>Hi:Ce((e,t)=>{let i=0;e.subscribe(Pe(t,s=>{++i<=n&&(t.next(s),n<=i&&t.complete())}))})}function WP(...n){const e=kr(n);return Ce((t,i)=>{(e?Lg(n,t,e):Lg(n,t)).subscribe(i)})}function LK(n,e,t,i,s){return(r,o)=>{let a=t,l=e,c=0;r.subscribe(Pe(o,u=>{const h=c++;l=a?n(l,u,h):(a=!0,u),i&&o.next(l)},s&&(()=>{a&&o.next(l),o.complete()})))}}function qP(n,e){return Ce(LK(n,e,arguments.length>=2,!0))}function ar(n,e){return Ce((t,i)=>{let s=0;t.subscribe(Pe(i,r=>n.call(e,r,s++)&&i.next(r)))})}function Qa(n){return Ce((e,t)=>{let r,i=null,s=!1;i=e.subscribe(Pe(t,void 0,void 0,o=>{r=An(n(o,Qa(n)(e))),i?(i.unsubscribe(),i=null,r.subscribe(t)):s=!0})),s&&(i.unsubscribe(),i=null,r.subscribe(t))})}function qc(n,e){return Ke(e)?Wt(n,e,1):Wt(n,1)}function m0(n){return n<=0?()=>Hi:Ce((e,t)=>{let i=[];e.subscribe(Pe(t,s=>{i.push(s),n<i.length&&i.shift()},()=>{for(const s of i)t.next(s);t.complete()},void 0,()=>{i=null}))})}function KP(n=BK){return Ce((e,t)=>{let i=!1;e.subscribe(Pe(t,s=>{i=!0,t.next(s)},()=>i?t.complete():t.error(n())))})}function BK(){return new od}function y0(n){return Ce((e,t)=>{let i=!1;e.subscribe(Pe(t,s=>{i=!0,t.next(s)},()=>{i||t.next(n),t.complete()}))})}function Ja(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ar((s,r)=>n(s,r,i)):Ks,Wc(1),t?y0(e):KP(()=>new od))}function vn(n,e,t){const i=Ke(n)||e||t?{next:n,error:e,complete:t}:n;return i?Ce((s,r)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;s.subscribe(Pe(r,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),r.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),r.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),r.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Ks}function v0(n){return Ce((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class $r{constructor(e,t){this.id=e,this.url=t}}class _0 extends $r{constructor(e,t,i="imperative",s=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class el extends $r{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Bg extends $r{constructor(e,t,i){super(e,t),this.reason=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class YP extends $r{constructor(e,t,i){super(e,t),this.error=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zK extends $r{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UK extends $r{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jK extends $r{constructor(e,t,i,s,r){super(e,t),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=r,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class GK extends $r{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $K extends $r{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WK{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qK{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class KK{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YK{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZK{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XK{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZP{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ke="primary";class JK{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Kc(n){return new JK(n)}const b0="Redirecting to ",XP="ngNavigationCancelingError";function x0(n){const e=Error("NavigationCancelingError: "+(n||""));return e[XP]=!0,e}function tY(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const s={};for(let r=0;r<i.length;r++){const o=i[r],a=n[r];if(o.startsWith(":"))s[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:s}}function lr(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let s;for(let r=0;r<t.length;r++)if(s=t[r],!QP(n[s],e[s]))return!1;return!0}function QP(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((s,r)=>i[r]===s)}return n===e}function JP(n){return Array.prototype.concat.apply([],n)}function eR(n){return n.length>0?n[n.length-1]:null}function Mn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function jo(n){return tx(n)?n:Hh(n)?At(Promise.resolve(n)):xe(n)}const sY={exact:function iR(n,e,t){if(!nl(n.segments,e.segments)||!Vg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!iR(n.children[i],e.children[i],t))return!1;return!0},subset:sR},tR={exact:function rY(n,e){return lr(n,e)},subset:function oY(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>QP(n[t],e[t]))},ignored:()=>!0};function nR(n,e,t){return sY[t.paths](n.root,e.root,t.matrixParams)&&tR[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function sR(n,e,t){return rR(n,e,e.segments,t)}function rR(n,e,t,i){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!nl(s,t)||e.hasChildren()||!Vg(s,t,i))}if(n.segments.length===t.length){if(!nl(n.segments,t)||!Vg(n.segments,t,i))return!1;for(const s in e.children)if(!n.children[s]||!sR(n.children[s],e.children[s],i))return!1;return!0}{const s=t.slice(0,n.segments.length),r=t.slice(n.segments.length);return!!(nl(n.segments,s)&&Vg(n.segments,s,i)&&n.children[ke])&&rR(n.children[ke],e,r,i)}}function Vg(n,e,t){return e.every((i,s)=>tR[t](n[s].parameters,i.parameters))}class tl{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kc(this.queryParams)),this._queryParamMap}toString(){return cY.serialize(this)}}class Le{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Mn(t,(i,s)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hg(this)}}class ad{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Kc(this.parameters)),this._parameterMap}toString(){return uR(this)}}function nl(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class oR{}class aR{parse(e){const t=new vY(e);return new tl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ld(e.root,!0)}`,i=function dY(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(s=>`${zg(t)}=${zg(s)}`).join("&"):`${zg(t)}=${zg(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function uY(n){return encodeURI(n)}(e.fragment)}`:""}`}}const cY=new aR;function Hg(n){return n.segments.map(e=>uR(e)).join("/")}function ld(n,e){if(!n.hasChildren())return Hg(n);if(e){const t=n.children[ke]?ld(n.children[ke],!1):"",i=[];return Mn(n.children,(s,r)=>{r!==ke&&i.push(`${r}:${ld(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function lY(n,e){let t=[];return Mn(n.children,(i,s)=>{s===ke&&(t=t.concat(e(i,s)))}),Mn(n.children,(i,s)=>{s!==ke&&(t=t.concat(e(i,s)))}),t}(n,(i,s)=>s===ke?[ld(n.children[ke],!1)]:[`${s}:${ld(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ke]?`${Hg(n)}/${t[0]}`:`${Hg(n)}/(${t.join("//")})`}}function lR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zg(n){return lR(n).replace(/%3B/gi,";")}function C0(n){return lR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ug(n){return decodeURIComponent(n)}function cR(n){return Ug(n.replace(/\+/g,"%20"))}function uR(n){return`${C0(n.path)}${function hY(n){return Object.keys(n).map(e=>`;${C0(e)}=${C0(n[e])}`).join("")}(n.parameters)}`}const fY=/^[^\/()?;=#]+/;function jg(n){const e=n.match(fY);return e?e[0]:""}const pY=/^[^=?&#]+/,mY=/^[^&#]+/;class vY{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Le([],{}):new Le([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[ke]=new Le(e,t)),i}parseSegment(){const e=jg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new R(4009,!1);return this.capture(e),new ad(Ug(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=jg(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=jg(this.remaining);s&&(i=s,this.capture(i))}e[Ug(t)]=Ug(i)}parseQueryParam(e){const t=function gY(n){const e=n.match(pY);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function yY(n){const e=n.match(mY);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const s=cR(t),r=cR(i);if(e.hasOwnProperty(s)){let o=e[s];Array.isArray(o)||(o=[o],e[s]=o),o.push(r)}else e[s]=r}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=jg(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new R(4010,!1);let r;i.indexOf(":")>-1?(r=i.slice(0,i.indexOf(":")),this.capture(r),this.capture(":")):e&&(r=ke);const o=this.parseChildren();t[r]=1===Object.keys(o).length?o[ke]:new Le([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new R(4011,!1)}}class hR{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=D0(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=D0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=S0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return S0(e,this._root).map(t=>t.value)}}function D0(n,e){if(n===e.value)return e;for(const t of e.children){const i=D0(n,t);if(i)return i}return null}function S0(n,e){if(n===e.value)return[e];for(const t of e.children){const i=S0(n,t);if(i.length)return i.unshift(e),i}return[]}class Wr{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Yc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class dR extends hR{constructor(e,t){super(e),this.snapshot=t,T0(this,e)}toString(){return this.snapshot.toString()}}function fR(n,e){const t=function _Y(n,e){const o=new Gg([],{},{},"",{},ke,e,null,n.root,-1,{});return new gR("",new Wr(o,[]))}(n,e),i=new Xn([new ad("",{})]),s=new Xn({}),r=new Xn({}),o=new Xn({}),a=new Xn(""),l=new Zc(i,s,o,a,r,ke,e,t.root);return l.snapshot=t.root,new dR(new Wr(l,[]),t)}class Zc{constructor(e,t,i,s,r,o,a,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=s,this.data=r,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ee(e=>Kc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ee(e=>Kc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function pR(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const s=t[i],r=t[i-1];if(s.routeConfig&&""===s.routeConfig.path)i--;else{if(r.component)break;i--}}return function bY(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Gg{constructor(e,t,i,s,r,o,a,l,c,u,h,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=s,this.data=r,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._correctedLastPathIndex=d??u,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Kc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class gR extends hR{constructor(e,t){super(t),this.url=e,T0(this,t)}toString(){return mR(this._root)}}function T0(n,e){e.value._routerState=n,e.children.forEach(t=>T0(n,t))}function mR(n){const e=n.children.length>0?` { ${n.children.map(mR).join(", ")} } `:"";return`${n.value}${e}`}function M0(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,lr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),lr(e.params,t.params)||n.params.next(t.params),function nY(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!lr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),lr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function E0(n,e){const t=lr(n.params,e.params)&&function aY(n,e){return nl(n,e)&&n.every((t,i)=>lr(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||E0(n.parent,e.parent))}function cd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const s=function wY(n,e,t){return e.children.map(i=>{for(const s of t.children)if(n.shouldReuseRoute(i.value,s.value.snapshot))return cd(n,i,s);return cd(n,i)})}(n,e,t);return new Wr(i,s)}{if(n.shouldAttach(e.value)){const r=n.retrieve(e.value);if(null!==r){const o=r.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>cd(n,a)),o}}const i=function CY(n){return new Zc(new Xn(n.url),new Xn(n.params),new Xn(n.queryParams),new Xn(n.fragment),new Xn(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(r=>cd(n,r));return new Wr(i,s)}}function $g(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ud(n){return"object"==typeof n&&null!=n&&n.outlets}function I0(n,e,t,i,s){let r={};if(i&&Mn(i,(a,l)=>{r[l]=Array.isArray(a)?a.map(c=>`${c}`):`${a}`}),n===e)return new tl(t,r,s);const o=yR(n,e,t);return new tl(o,r,s)}function yR(n,e,t){const i={};return Mn(n.children,(s,r)=>{i[r]=s===e?t:yR(s,e,t)}),new Le(n.segments,i)}class vR{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&$g(i[0]))throw new R(4003,false);const s=i.find(ud);if(s&&s!==eR(i))throw new R(4004,false)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class k0{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function _R(n,e,t){if(n||(n=new Le([],{})),0===n.segments.length&&n.hasChildren())return Wg(n,e,t);const i=function AY(n,e,t){let i=0,s=e;const r={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(i>=t.length)return r;const o=n.segments[s],a=t[i];if(ud(a))break;const l=`${a}`,c=i<t.length-1?t[i+1]:null;if(s>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!xR(l,c,o))return r;i+=2}else{if(!xR(l,{},o))return r;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(n,e,t),s=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const r=new Le(n.segments.slice(0,i.pathIndex),{});return r.children[ke]=new Le(n.segments.slice(i.pathIndex),n.children),Wg(r,0,s)}return i.match&&0===s.length?new Le(n.segments,{}):i.match&&!n.hasChildren()?P0(n,e,t):i.match?Wg(n,0,s):P0(n,e,t)}function Wg(n,e,t){if(0===t.length)return new Le(n.segments,{});{const i=function EY(n){return ud(n[0])?n[0].outlets:{[ke]:n}}(t),s={};return Mn(i,(r,o)=>{"string"==typeof r&&(r=[r]),null!==r&&(s[o]=_R(n.children[o],e,r))}),Mn(n.children,(r,o)=>{void 0===i[o]&&(s[o]=r)}),new Le(n.segments,s)}}function P0(n,e,t){const i=n.segments.slice(0,e);let s=0;for(;s<t.length;){const r=t[s];if(ud(r)){const l=IY(r.outlets);return new Le(i,l)}if(0===s&&$g(t[0])){i.push(new ad(n.segments[e].path,bR(t[0]))),s++;continue}const o=ud(r)?r.outlets[ke]:`${r}`,a=s<t.length-1?t[s+1]:null;o&&a&&$g(a)?(i.push(new ad(o,bR(a))),s+=2):(i.push(new ad(o,{})),s++)}return new Le(i,{})}function IY(n){const e={};return Mn(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=P0(new Le([],{}),0,t))}),e}function bR(n){const e={};return Mn(n,(t,i)=>e[i]=`${t}`),e}function xR(n,e,t){return n==t.path&&lr(e,t.parameters)}class kY{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new hd,this.attachRef=null}}class hd{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new kY,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}const qg=!1;let R0=(()=>{class n{constructor(t,i,s,r,o){this.parentContexts=t,this.location=i,this.changeDetector=r,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new ne,this.deactivateEvents=new ne,this.attachEvents=new ne,this.detachEvents=new ne,this.name=s||ke,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,qg);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,qg);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,qg);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new R(4013,qg);this._activatedRoute=t;const s=this.location,o=t._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new PY(t,a,s.injector);if(i&&function RY(n){return!!n.resolveComponentFactory}(i)){const c=i.resolveComponentFactory(o);this.activated=s.createComponent(c,s.length,l)}else this.activated=s.createComponent(o,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(_(hd),_(Ts),uc("name"),_(zr),_(Ua))},n.\u0275dir=ee({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class PY{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Zc?this.route:e===hd?this.childContexts:this.parent.get(e,t)}}let wR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=k({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&Wi(0,"router-outlet")},dependencies:[R0],encapsulation:2}),n})();function CR(n,e){return n.providers&&!n._injector&&(n._injector=sg(n.providers,e,`Route: ${n.path}`)),n._injector??e}function N0(n){const e=n.children&&n.children.map(N0),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ke&&(t.component=wR),t}function Zi(n){return n.outlet||ke}function DR(n,e){const t=n.filter(i=>Zi(i)===e);return t.push(...n.filter(i=>Zi(i)!==e)),t}function SR(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class BY{constructor(e,t,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=s}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),M0(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const s=Yc(t);e.children.forEach(r=>{const o=r.value.outlet;this.deactivateRoutes(r,s[o],i),delete s[o]}),Mn(s,(r,o)=>{this.deactivateRouteAndItsChildren(r,i)})}deactivateRoutes(e,t,i){const s=e.value,r=t?t.value:null;if(s===r)if(s.component){const o=i.getContext(s.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else r&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),s=i&&e.value.component?i.children:t,r=Yc(e);for(const o of Object.keys(r))this.deactivateRouteAndItsChildren(r[o],s);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),s=i&&e.value.component?i.children:t,r=Yc(e);for(const o of Object.keys(r))this.deactivateRouteAndItsChildren(r[o],s);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const s=Yc(t);e.children.forEach(r=>{this.activateRoutes(r,s[r.value.outlet],i),this.forwardEvent(new XK(r.value.snapshot))}),e.children.length&&this.forwardEvent(new YK(e.value.snapshot))}activateRoutes(e,t,i){const s=e.value,r=t?t.value:null;if(M0(s),s===r)if(s.component){const o=i.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(s.component){const o=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const a=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),M0(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=SR(s.snapshot),l=a?.get(Vc)??null;o.attachRef=null,o.route=s,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(s,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}function Kg(n){return"function"==typeof n}function il(n){return n instanceof tl}const dd=Symbol("INITIAL_VALUE");function fd(){return Xa(n=>Fg(n.map(e=>e.pipe(Wc(1),WP(dd)))).pipe(qP((e,t)=>{let i=!1;return t.reduce((s,r,o)=>s!==dd?s:(r===dd&&(i=!0),i||!1!==r&&o!==t.length-1&&!il(r)?s:r),e)},dd),ar(e=>e!==dd),Ee(e=>il(e)?e:!0===e),Wc(1)))}const TR={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yg(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...TR}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||tY)(t,n,e);if(!s)return{...TR};const r={};Mn(s.posParams,(a,l)=>{r[l]=a.path});const o=s.consumed.length>0?{...r,...s.consumed[s.consumed.length-1].parameters}:r;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:o,positionalParamSegments:s.posParams??{}}}function Zg(n,e,t,i,s="corrected"){if(t.length>0&&function WY(n,e,t){return t.some(i=>Xg(n,e,i)&&Zi(i)!==ke)}(n,t,i)){const o=new Le(e,function $Y(n,e,t,i){const s={};s[ke]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const r of t)if(""===r.path&&Zi(r)!==ke){const o=new Le([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,s[Zi(r)]=o}return s}(n,e,i,new Le(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function qY(n,e,t){return t.some(i=>Xg(n,e,i))}(n,t,i)){const o=new Le(n.segments,function GY(n,e,t,i,s,r){const o={};for(const a of i)if(Xg(n,t,a)&&!s[Zi(a)]){const l=new Le([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===r?n.segments.length:e.length,o[Zi(a)]=l}return{...s,...o}}(n,e,t,i,n.children,s));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const r=new Le(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function Xg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function MR(n,e,t,i){return!!(Zi(n)===i||i!==ke&&Xg(e,t,n))&&("**"===n.path||Yg(e,n,t).matched)}function ER(n,e,t){return 0===e.length&&!n.children[t]}const Qg=!1;class Jg{constructor(e){this.segmentGroup=e||null}}class AR{constructor(e){this.urlTree=e}}function pd(n){return rd(new Jg(n))}function IR(n){return rd(new AR(n))}class XY{constructor(e,t,i,s,r){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=s,this.config=r,this.allowRedirects=!0}apply(){const e=Zg(this.urlTree.root,[],[],this.config).segmentGroup,t=new Le(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ke).pipe(Ee(r=>this.createUrlTree(F0(r),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Qa(r=>{if(r instanceof AR)return this.allowRedirects=!1,this.match(r.urlTree);throw r instanceof Jg?this.noMatchError(r):r}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ke).pipe(Ee(s=>this.createUrlTree(F0(s),e.queryParams,e.fragment))).pipe(Qa(s=>{throw s instanceof Jg?this.noMatchError(s):s}))}noMatchError(e){return new R(4002,Qg)}createUrlTree(e,t,i){const s=e.segments.length>0?new Le([],{[ke]:e}):e;return new tl(s,t,i)}expandSegmentGroup(e,t,i,s){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(Ee(r=>new Le([],r))):this.expandSegment(e,i,t,i.segments,s,!0)}expandChildren(e,t,i){const s=[];for(const r of Object.keys(i.children))"primary"===r?s.unshift(r):s.push(r);return At(s).pipe(qc(r=>{const o=i.children[r],a=DR(t,r);return this.expandSegmentGroup(e,a,o,r).pipe(Ee(l=>({segment:l,outlet:r})))}),qP((r,o)=>(r[o.outlet]=o.segment,r),{}),function VK(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ar((s,r)=>n(s,r,i)):Ks,m0(1),t?y0(e):KP(()=>new od))}())}expandSegment(e,t,i,s,r,o){return At(i).pipe(qc(a=>this.expandSegmentAgainstRoute(e,t,i,a,s,r,o).pipe(Qa(c=>{if(c instanceof Jg)return xe(null);throw c}))),Ja(a=>!!a),Qa((a,l)=>{if(a instanceof od||"EmptyError"===a.name)return ER(t,s,r)?xe(new Le([],{})):pd(t);throw a}))}expandSegmentAgainstRoute(e,t,i,s,r,o,a){return MR(s,t,r,o)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,r,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,s,r,o):pd(t):pd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,s,r,o){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,s,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,s,r,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,s){const r=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?IR(r):this.lineralizeSegments(i,r).pipe(Wt(o=>{const a=new Le(o,{});return this.expandSegment(e,a,t,o,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,s,r,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=Yg(t,s,r);if(!a)return pd(t);const h=this.applyRedirectCommands(l,s.redirectTo,u);return s.redirectTo.startsWith("/")?IR(h):this.lineralizeSegments(s,h).pipe(Wt(d=>this.expandSegment(e,t,i,d.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,i,s,r){if("**"===i.path)return e=CR(i,e),i.loadChildren?(i._loadedRoutes?xe({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe(Ee(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new Le(s,{})))):xe(new Le(s,{}));const{matched:o,consumedSegments:a,remainingSegments:l}=Yg(t,i,s);return o?(e=CR(i,e),this.getChildConfig(e,i,s).pipe(Wt(u=>{const h=u.injector??e,d=u.routes,{segmentGroup:f,slicedSegments:p}=Zg(t,a,l,d),g=new Le(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(h,d,g).pipe(Ee(D=>new Le(a,D)));if(0===d.length&&0===p.length)return xe(new Le(a,{}));const y=Zi(i)===r;return this.expandSegment(h,g,d,p,y?ke:r,!0).pipe(Ee(w=>new Le(a.concat(w.segments),w.children)))}))):pd(t)}getChildConfig(e,t,i){return t.children?xe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?xe({routes:t._loadedRoutes,injector:t._loadedInjector}):this.runCanLoadGuards(e,t,i).pipe(Wt(s=>s?this.configLoader.loadChildren(e,t).pipe(vn(r=>{t._loadedRoutes=r.routes,t._loadedInjector=r.injector})):function YY(n){return rd(x0(Qg))}())):xe({routes:[],injector:e})}runCanLoadGuards(e,t,i){const s=t.canLoad;return s&&0!==s.length?xe(s.map(o=>{const a=e.get(o);return jo(function HY(n){return n&&Kg(n.canLoad)}(a)?a.canLoad(t,i):a(t,i))})).pipe(fd(),vn(o=>{if(!il(o))return;const a=x0(b0+this.urlSerializer.serialize(o));throw a.url=o,a}),Ee(o=>!0===o)):xe(!0)}lineralizeSegments(e,t){let i=[],s=t.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return xe(i);if(s.numberOfChildren>1||!s.children[ke])return rd(new R(4e3,Qg));s=s.children[ke]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,s){const r=this.createSegmentGroup(e,t.root,i,s);return new tl(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Mn(e,(s,r)=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(e,t,i,s){const r=this.createSegments(e,t.segments,i,s);let o={};return Mn(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,i,s)}),new Le(r,o)}createSegments(e,t,i,s){return t.map(r=>r.path.startsWith(":")?this.findPosParam(e,r,s):this.findOrReturn(r,i))}findPosParam(e,t,i){const s=i[t.path.substring(1)];if(!s)throw new R(4001,Qg);return s}findOrReturn(e,t){let i=0;for(const s of t){if(s.path===e.path)return t.splice(i),s;i++}return e}}function F0(n){const e={};for(const i of Object.keys(n.children)){const r=F0(n.children[i]);(r.segments.length>0||r.hasChildren())&&(e[i]=r)}return function QY(n){if(1===n.numberOfChildren&&n.children[ke]){const e=n.children[ke];return new Le(n.segments.concat(e.segments),e.children)}return n}(new Le(n.segments,e))}class kR{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class em{constructor(e,t){this.component=e,this.route=t}}function eZ(n,e,t){const i=n._root;return gd(i,e?e._root:null,t,[i.value])}function tm(n,e,t){return(SR(e)??t).get(n)}function gd(n,e,t,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=Yc(e);return n.children.forEach(o=>{(function nZ(n,e,t,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&r.routeConfig===o.routeConfig){const l=function iZ(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!nl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!nl(n.url,e.url)||!lr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!E0(n,e)||!lr(n.queryParams,e.queryParams);default:return!E0(n,e)}}(o,r,r.routeConfig.runGuardsAndResolvers);l?s.canActivateChecks.push(new kR(i)):(r.data=o.data,r._resolvedData=o._resolvedData),gd(n,e,r.component?a?a.children:null:t,i,s),l&&a&&a.outlet&&a.outlet.isActivated&&s.canDeactivateChecks.push(new em(a.outlet.component,o))}else o&&md(e,a,s),s.canActivateChecks.push(new kR(i)),gd(n,null,r.component?a?a.children:null:t,i,s)})(o,r[o.value.outlet],t,i.concat([o.value]),s),delete r[o.value.outlet]}),Mn(r,(o,a)=>md(o,t.getContext(a),s)),s}function md(n,e,t){const i=Yc(n),s=n.value;Mn(i,(r,o)=>{md(r,s.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new em(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}class dZ{}function PR(n){return new _t(e=>e.error(n))}class pZ{constructor(e,t,i,s,r,o){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=o}recognize(){const e=Zg(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,ke);if(null===t)return null;const i=new Gg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ke,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new Wr(i,t),r=new gR(this.url,s);return this.inheritParamsAndData(r._root),r}inheritParamsAndData(e){const t=e.value,i=pR(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const r of Object.keys(t.children)){const o=t.children[r],a=DR(e,r),l=this.processSegmentGroup(a,o,r);if(null===l)return null;i.push(...l)}const s=RR(i);return function gZ(n){n.sort((e,t)=>e.value.outlet===ke?-1:t.value.outlet===ke?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}processSegment(e,t,i,s){for(const r of e){const o=this.processSegmentAgainstRoute(r,t,i,s);if(null!==o)return o}return ER(t,i,s)?[]:null}processSegmentAgainstRoute(e,t,i,s){if(e.redirectTo||!MR(e,t,i,s))return null;let r,o=[],a=[];if("**"===e.path){const f=i.length>0?eR(i).parameters:{},p=NR(t)+i.length;r=new Gg(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,LR(e),Zi(e),e.component??e._loadedComponent??null,e,OR(t),p,BR(e),p)}else{const f=Yg(t,e,i);if(!f.matched)return null;o=f.consumedSegments,a=f.remainingSegments;const p=NR(t)+o.length;r=new Gg(o,f.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,LR(e),Zi(e),e.component??e._loadedComponent??null,e,OR(t),p,BR(e),p)}const l=function mZ(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:c,slicedSegments:u}=Zg(t,o,a,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const f=this.processChildren(l,c);return null===f?null:[new Wr(r,f)]}if(0===l.length&&0===u.length)return[new Wr(r,[])];const h=Zi(e)===s,d=this.processSegment(l,c,u,h?ke:s);return null===d?null:[new Wr(r,d)]}}function yZ(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function RR(n){const e=[],t=new Set;for(const i of n){if(!yZ(i)){e.push(i);continue}const s=e.find(r=>i.value.routeConfig===r.value.routeConfig);void 0!==s?(s.children.push(...i.children),t.add(s)):e.push(i)}for(const i of t){const s=RR(i.children);e.push(new Wr(i.value,s))}return e.filter(i=>!t.has(i))}function OR(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function NR(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function LR(n){return n.data||{}}function BR(n){return n.resolve||{}}const B0=Symbol("RouteTitle");function VR(n){return"string"==typeof n.title||null===n.title}function V0(n){return Xa(e=>{const t=n(e);return t?At(t).pipe(Ee(()=>e)):xe(e)})}class TZ extends class SZ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const H0=new U("ROUTES");let z0=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return xe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=jo(t.loadComponent()).pipe(vn(r=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=r}),v0(()=>{this.componentLoaders.delete(t)})),s=new $P(i,()=>new fn).pipe(g0());return this.componentLoaders.set(t,s),s}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return xe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const r=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(Ee(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(t).injector,c=JP(l.get(H0,[],ce.Self|ce.Optional)));return{routes:c.map(N0),injector:l}}),v0(()=>{this.childrenLoaders.delete(i)})),o=new $P(r,()=>new fn).pipe(g0());return this.childrenLoaders.set(i,o),o}loadModuleFactoryOrRoutes(t){return jo(t()).pipe(Wt(i=>i instanceof NI||Array.isArray(i)?xe(i):At(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(P(Tn),P(Ix))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();class EZ{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function AZ(n){throw n}function IZ(n,e,t){return e.parse("/")}const kZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},PZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ln=(()=>{class n{constructor(t,i,s,r,o,a,l){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=s,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new fn,this.errorHandler=AZ,this.malformedUriErrorHandler=IZ,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>xe(void 0),this.urlHandlingStrategy=new EZ,this.routeReuseStrategy=new TZ,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(z0),this.configLoader.onLoadEndListener=d=>this.triggerEvent(new qK(d)),this.configLoader.onLoadStartListener=d=>this.triggerEvent(new WK(d)),this.ngModule=o.get(Ho),this.console=o.get(Lq);const h=o.get(Re);this.isNgZoneEnabled=h instanceof Re&&Re.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function iY(){return new tl(new Le([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=fR(this.currentUrlTree,this.rootComponentType),this.transitions=new Xn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(ar(s=>0!==s.id),Ee(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Xa(s=>{let r=!1,o=!1;return xe(s).pipe(vn(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Xa(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return UR(a.source)&&(this.browserUrlTree=a.extractedUrl),xe(a).pipe(Xa(h=>{const d=this.transitions.getValue();return i.next(new _0(h.id,this.serializeUrl(h.extractedUrl),h.source,h.restoredState)),d!==this.transitions.getValue()?Hi:Promise.resolve(h)}),function JY(n,e,t,i){return Xa(s=>function ZY(n,e,t,i,s){return new XY(n,e,t,i,s).apply()}(n,e,t,s.extractedUrl,i).pipe(Ee(r=>({...s,urlAfterRedirects:r}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),vn(h=>{this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects}}),function vZ(n,e,t,i,s){return Wt(r=>function fZ(n,e,t,i,s="emptyOnly",r="legacy"){try{const o=new pZ(n,e,t,i,s,r).recognize();return null===o?PR(new dZ):xe(o)}catch(o){return PR(o)}}(n,e,r.urlAfterRedirects,t(r.urlAfterRedirects),i,s).pipe(Ee(o=>({...r,targetSnapshot:o}))))}(this.rootComponentType,this.config,h=>this.serializeUrl(h),this.paramsInheritanceStrategy,this.relativeLinkResolution),vn(h=>{if("eager"===this.urlUpdateStrategy){if(!h.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl);this.setBrowserUrl(f,h)}this.browserUrlTree=h.urlAfterRedirects}const d=new zK(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);i.next(d)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:d,extractedUrl:f,source:p,restoredState:g,extras:y}=a,b=new _0(d,this.serializeUrl(f),p,g);i.next(b);const w=fR(f,this.rootComponentType).snapshot;return xe({...a,targetSnapshot:w,urlAfterRedirects:f,extras:{...y,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),Hi}),vn(a=>{const l=new UK(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),Ee(a=>({...a,guards:eZ(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function sZ(n,e){return Wt(t=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:r,canDeactivateChecks:o}}=t;return 0===o.length&&0===r.length?xe({...t,guardsResult:!0}):function rZ(n,e,t,i){return At(n).pipe(Wt(s=>function hZ(n,e,t,i,s){const r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return r&&0!==r.length?xe(r.map(a=>{const l=tm(a,e,s);return jo(function jY(n){return n&&Kg(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,i):l(n,e,t,i)).pipe(Ja())})).pipe(fd()):xe(!0)}(s.component,s.route,t,e,i)),Ja(s=>!0!==s,!0))}(o,i,s,n).pipe(Wt(a=>a&&function VY(n){return"boolean"==typeof n}(a)?function oZ(n,e,t,i){return At(e).pipe(qc(s=>Lg(function lZ(n,e){return null!==n&&e&&e(new KK(n)),xe(!0)}(s.route.parent,i),function aZ(n,e){return null!==n&&e&&e(new ZK(n)),xe(!0)}(s.route,i),function uZ(n,e,t){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(o=>function tZ(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>GP(()=>xe(o.guards.map(l=>{const c=tm(l,o.node,t);return jo(function UY(n){return n&&Kg(n.canActivateChild)}(c)?c.canActivateChild(i,n):c(i,n)).pipe(Ja())})).pipe(fd())));return xe(r).pipe(fd())}(n,s.path,t),function cZ(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return xe(!0);const s=i.map(r=>GP(()=>{const o=tm(r,e,t);return jo(function zY(n){return n&&Kg(n.canActivate)}(o)?o.canActivate(e,n):o(e,n)).pipe(Ja())}));return xe(s).pipe(fd())}(n,s.route,t))),Ja(s=>!0!==s,!0))}(i,r,n,e):xe(a)),Ee(a=>({...t,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),vn(a=>{if(il(a.guardsResult)){const c=x0(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new jK(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),ar(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),V0(a=>{if(a.guards.canActivateChecks.length)return xe(a).pipe(vn(l=>{const c=new GK(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),Xa(l=>{let c=!1;return xe(l).pipe(function _Z(n,e){return Wt(t=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=t;if(!s.length)return xe(t);let r=0;return At(s).pipe(qc(o=>function bZ(n,e,t,i){const s=n.routeConfig,r=n._resolve;return void 0!==s?.title&&!VR(s)&&(r[B0]=s.title),function xZ(n,e,t,i){const s=function wZ(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===s.length)return xe({});const r={};return At(s).pipe(Wt(o=>function CZ(n,e,t,i){const s=tm(n,e,i);return jo(s.resolve?s.resolve(e,t):s(e,t))}(n[o],e,t,i).pipe(Ja(),vn(a=>{r[o]=a}))),m0(1),function HK(n){return Ee(()=>n)}(r),Qa(o=>o instanceof od?Hi:rd(o)))}(r,n,e,i).pipe(Ee(o=>(n._resolvedData=o,n.data=pR(n,t).resolve,s&&VR(s)&&(n.data[B0]=s.title),null)))}(o.route,i,n,e)),vn(()=>r++),m0(1),Wt(o=>r===s.length?xe(t):Hi))})}(this.paramsInheritanceStrategy,this.ngModule.injector),vn({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),vn(l=>{const c=new $K(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),V0(a=>{const l=c=>{const u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(vn(h=>{c.component=h}),Ee(()=>{})));for(const h of c.children)u.push(...l(h));return u};return Fg(l(a.targetSnapshot.root)).pipe(y0(),Wc(1))}),V0(()=>this.afterPreactivation()),Ee(a=>{const l=function xY(n,e,t){const i=cd(n,e._root,t?t._root:void 0);return new dR(i,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return{...a,targetRouterState:l}}),vn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>Ee(i=>(new BY(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),vn({next(){r=!0},complete(){r=!0}}),v0(()=>{r||o||this.cancelNavigationTransition(s,`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Qa(a=>{if(o=!0,function eY(n){return n&&n[XP]}(a)){const l=il(a.url);l||(this.navigated=!0,this.restoreHistory(s,!0));const c=new Bg(s.id,this.serializeUrl(s.extractedUrl),a.message);if(i.next(c),l){const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),h={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||UR(s.source)};this.scheduleNavigation(u,"imperative",null,h,{resolve:s.resolve,reject:s.reject,promise:s.promise})}else s.resolve(!1)}else{this.restoreHistory(s,!0);const l=new YP(s.id,this.serializeUrl(s.extractedUrl),a);i.next(l);try{s.resolve(this.errorHandler(a))}catch(c){s.reject(c)}}return Hi}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const s={replaceUrl:!0},r=t.state?.navigationId?t.state:null;if(r){const a={...r};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(s.state=a)}const o=this.parseUrl(t.url);this.scheduleNavigation(o,i,r,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(N0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:s,queryParams:r,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=s||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...r};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}return null!==h&&(h=this.removeEmptyProps(h)),function DY(n,e,t,i,s){if(0===t.length)return I0(e.root,e.root,e.root,i,s);const r=function SY(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new vR(!0,0,n);let e=0,t=!1;const i=n.reduce((s,r,o)=>{if("object"==typeof r&&null!=r){if(r.outlets){const a={};return Mn(r.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...s,{outlets:a}]}if(r.segmentPath)return[...s,r.segmentPath]}return"string"!=typeof r?[...s,r]:0===o?(r.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&s.push(a))}),s):[...s,r]},[]);return new vR(t,e,i)}(t);return r.toRoot()?I0(e.root,e.root,new Le([],{}),i,s):function o(l){const c=function TY(n,e,t,i){return n.isAbsolute?new k0(e.root,!0,0):-1===i?new k0(t,t===e.root,0):function MY(n,e,t){let i=n,s=e,r=t;for(;r>s;){if(r-=s,i=i.parent,!i)throw new R(4005,!1);s=i.segments.length}return new k0(i,!1,s-r)}(t,i+($g(n.commands[0])?0:1),n.numberOfDoubleDots)}(r,e,n.snapshot?._urlSegment,l),u=c.processChildren?Wg(c.segmentGroup,c.index,r.commands):_R(c.segmentGroup,c.index,r.commands);return I0(e.root,c.segmentGroup,u,i,s)}(n.snapshot?._lastPathIndex)}(c,this.currentUrlTree,t,h,u??null)}navigateByUrl(t,i={skipLocationChange:!1}){const s=il(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function RZ(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new R(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return i}isActive(t,i){let s;if(s=!0===i?{...kZ}:!1===i?{...PZ}:i,il(t))return nR(this.currentUrlTree,t,s);const r=this.parseUrl(t);return nR(this.currentUrlTree,r,s)}removeEmptyProps(t){return Object.keys(t).reduce((i,s)=>{const r=t[s];return null!=r&&(i[s]=r),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new el(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,s,r,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,f)=>{a=d,l=f});const u=++this.navigationId;let h;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),h=s&&s.\u0275routerPageId?s.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):h=0,this.setTransition({id:u,targetPageId:h,source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,i){const s=this.urlSerializer.serialize(t),r={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl?this.location.replaceState(s,"",r):this.location.go(s,"",r)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===s?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const s=new Bg(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){Cc()},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();function UR(n){return"imperative"!==n}class jR{buildTitle(e){let t,i=e.root;for(;void 0!==i;)t=this.getResolvedTitleForRoute(i)??t,i=i.children.find(s=>s.outlet===ke);return t}getResolvedTitleForRoute(e){return e.data[B0]}}let FZ=(()=>{class n extends jR{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(P(BP))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class GR{}let $R=(()=>{class n{constructor(t,i,s,r,o){this.router=t,this.injector=s,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ar(t=>t instanceof el),qc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const s=[];for(const r of i){r.providers&&!r._injector&&(r._injector=sg(r.providers,t,`Route: ${r.path}`));const o=r._injector??t,a=r._loadedInjector??o;r.loadChildren&&!r._loadedRoutes||r.loadComponent&&!r._loadedComponent?s.push(this.preloadConfig(o,r)):(r.children||r._loadedRoutes)&&s.push(this.processRoutes(a,r.children??r._loadedRoutes))}return At(s).pipe(Er())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):xe(null);const r=s.pipe(Wt(o=>null===o?xe(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return i.loadComponent&&!i._loadedComponent?At([r,this.loader.loadComponent(i)]).pipe(Er()):r})}}return n.\u0275fac=function(t){return new(t||n)(P(Ln),P(Ix),P(Ua),P(GR),P(z0))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const WR=new U("");let LZ=(()=>{class n{constructor(t,i,s={}){this.router=t,this.viewportScroller=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof el&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ZP&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new ZP(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){Cc()},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const G0=new U("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),qR=new U("ROUTER_FORROOT_GUARD"),KR=new U(""),BZ=[$x,{provide:oR,useClass:aR},{provide:Ln,useFactory:function GZ(n,e,t,i,s,r,o={},a,l,c,u){const h=new Ln(null,n,e,t,i,s,JP(r));return c&&(h.urlHandlingStrategy=c),u&&(h.routeReuseStrategy=u),h.titleStrategy=l??a,function $Z(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,h),h},deps:[oR,hd,$x,Tn,Ix,H0,G0,FZ,[jR,new Fo],[class MZ{},new Fo],[class DZ{},new Fo]]},hd,{provide:Zc,useFactory:function WZ(n){return n.routerState.root},deps:[Ln]},z0];function VZ(){return new Pk("Router",Ln)}let YR=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[BZ,[],ZR(t),{provide:qR,useFactory:jZ,deps:[[Ln,new Fo,new Th]]},{provide:G0,useValue:i||{}},i?.useHash?{provide:Za,useClass:M9}:{provide:Za,useClass:nP},{provide:WR,useFactory:()=>{const n=tr(Ln),e=tr($7),t=tr(G0);return t.scrollOffset&&e.setOffset(t.scrollOffset),new LZ(n,e,t)}},i?.preloadingStrategy?JZ(i.preloadingStrategy):[],{provide:Pk,multi:!0,useFactory:VZ},i?.initialNavigation?KZ(i):[],[{provide:XR,useFactory:qZ},{provide:Sk,multi:!0,useExisting:XR}]]}}static forChild(t){return{ngModule:n,providers:[ZR(t)]}}}return n.\u0275fac=function(t){return new(t||n)(P(qR,8),P(Ln,8))},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({}),n})();function jZ(n){return"guarded"}function ZR(n){return[{provide:QG,multi:!0,useValue:n},{provide:H0,multi:!0,useValue:n}]}function qZ(){const n=tr(Tn);return e=>{const t=n.get(Gc);if(e!==t.components[0])return;const i=n.get(Ln),s=n.get(QR);null===n.get($0,null,ce.Optional)&&i.initialNavigation(),n.get(KR,null,ce.Optional)?.setUpPreloading(),n.get(WR,null,ce.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),s.next(),s.complete()}}const XR=new U("");function KZ(n){return["disabled"===n.initialNavigation?[{provide:lg,multi:!0,useFactory:()=>{const n=tr(Ln);return()=>{n.setUpLocationChangeListener()}}},{provide:$0,useValue:"disabled"}]:[],"enabledBlocking"===n.initialNavigation?[{provide:$0,useValue:"enabledBlocking"},{provide:lg,multi:!0,deps:[Tn],useFactory:n=>{const e=n.get(D9,Promise.resolve(null));let t=!1;return()=>e.then(()=>new Promise(s=>{const r=n.get(Ln),o=n.get(QR);(function i(s){const r=n.get(Ln);r.events.pipe(ar(o=>o instanceof el||o instanceof Bg||o instanceof YP),Ee(o=>{if(o instanceof el)return!0;const a=r.navigationId!==o.id,l=o instanceof Bg&&-1!==o.reason.indexOf(b0);return!(!a&&!l)&&null}),ar(o=>null!==o),Wc(1)).subscribe(()=>{s()})})(()=>{s(!0),t=!0}),r.afterPreactivation=()=>(s(!0),t||o.closed?xe(void 0):o),r.initialNavigation()}))}}]:[]]}const QR=new U("",{factory:()=>new fn}),$0=new U("");function JZ(n){return[$R,{provide:KR,useExisting:$R},{provide:GR,useExisting:n}]}const eX=[];let tX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({imports:[YR.forRoot(eX),YR]}),n})();class JR{}class eO{}class cr{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const s=t.slice(0,i),r=s.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(s,r),this.headers.has(r)?this.headers.get(r).push(o):this.headers.set(r,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const s=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(s,i),this.maybeSetNormalizedName(t,s))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof cr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new cr;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof cr?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const s=("a"===e.op?this.headers.get(t):void 0)||[];s.push(...i),this.headers.set(t,s);break;case"d":const r=e.value;if(r){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===r.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class nX{encodeKey(e){return tO(e)}encodeValue(e){return tO(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const sX=/%(\d[a-f0-9])/gi,rX={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function tO(n){return encodeURIComponent(n).replace(sX,(e,t)=>rX[t]??e)}function nm(n){return`${n}`}class Go{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new nX,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function iX(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const r=s.indexOf("="),[o,a]=-1==r?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,r)),e.decodeValue(s.slice(r+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],s=Array.isArray(i)?i.map(nm):[nm(i)];this.map.set(t,s)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const s=e[i];Array.isArray(s)?s.forEach(r=>{t.push({param:i,value:r,op:"a"})}):t.push({param:i,value:s,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Go({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(nm(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const s=i.indexOf(nm(e.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class oX{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function nO(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function iO(n){return typeof Blob<"u"&&n instanceof Blob}function sO(n){return typeof FormData<"u"&&n instanceof FormData}class yd{constructor(e,t,i,s){let r;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function aX(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,r=s):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new cr),this.context||(this.context=new oX),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Go,this.urlWithParams=t}serializeBody(){return null===this.body?null:nO(this.body)||iO(this.body)||sO(this.body)||function lX(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Go?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||sO(this.body)?null:iO(this.body)?this.body.type||null:nO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Go?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,r=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((h,d)=>h.set(d,e.setHeaders[d]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((h,d)=>h.set(d,e.setParams[d]),c)),new yd(t,i,r,{params:c,headers:l,context:u,reportProgress:a,responseType:s,withCredentials:o})}}var tn=(()=>((tn=tn||{})[tn.Sent=0]="Sent",tn[tn.UploadProgress=1]="UploadProgress",tn[tn.ResponseHeader=2]="ResponseHeader",tn[tn.DownloadProgress=3]="DownloadProgress",tn[tn.Response=4]="Response",tn[tn.User=5]="User",tn))();class W0{constructor(e,t=200,i="OK"){this.headers=e.headers||new cr,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class q0 extends W0{constructor(e={}){super(e),this.type=tn.ResponseHeader}clone(e={}){return new q0({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class im extends W0{constructor(e={}){super(e),this.type=tn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new im({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class rO extends W0{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function K0(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let oO=(()=>{class n{constructor(t){this.handler=t}request(t,i,s={}){let r;if(t instanceof yd)r=t;else{let l,c;l=s.headers instanceof cr?s.headers:new cr(s.headers),s.params&&(c=s.params instanceof Go?s.params:new Go({fromObject:s.params})),r=new yd(t,i,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:c,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const o=xe(r).pipe(qc(l=>this.handler.handle(l)));if(t instanceof yd||"events"===s.observe)return o;const a=o.pipe(ar(l=>l instanceof im));switch(s.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(Ee(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Ee(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Ee(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Ee(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Go).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,s={}){return this.request("PATCH",t,K0(s,i))}post(t,i,s={}){return this.request("POST",t,K0(s,i))}put(t,i,s={}){return this.request("PUT",t,K0(s,i))}}return n.\u0275fac=function(t){return new(t||n)(P(JR))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();class aO{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const lO=new U("HTTP_INTERCEPTORS");let cX=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const uX=/^\)\]\}',?\n/;let cO=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new _t(i=>{const s=this.xhrFactory.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((f,p)=>s.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&s.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();s.responseType="json"!==f?f:"text"}const r=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=s.statusText||"OK",p=new cr(s.getAllResponseHeaders()),g=function hX(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return o=new q0({headers:p,status:s.status,statusText:f,url:g}),o},l=()=>{let{headers:f,status:p,statusText:g,url:y}=a(),b=null;204!==p&&(b=typeof s.response>"u"?s.responseText:s.response),0===p&&(p=b?200:0);let w=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof b){const D=b;b=b.replace(uX,"");try{b=""!==b?JSON.parse(b):null}catch(E){b=D,w&&(w=!1,b={error:E,text:b})}}w?(i.next(new im({body:b,headers:f,status:p,statusText:g,url:y||void 0})),i.complete()):i.error(new rO({error:b,headers:f,status:p,statusText:g,url:y||void 0}))},c=f=>{const{url:p}=a(),g=new rO({error:f,status:s.status||0,statusText:s.statusText||"Unknown Error",url:p||void 0});i.error(g)};let u=!1;const h=f=>{u||(i.next(a()),u=!0);let p={type:tn.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&!!s.responseText&&(p.partialText=s.responseText),i.next(p)},d=f=>{let p={type:tn.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),i.next(p)};return s.addEventListener("load",l),s.addEventListener("error",c),s.addEventListener("timeout",c),s.addEventListener("abort",c),t.reportProgress&&(s.addEventListener("progress",h),null!==r&&s.upload&&s.upload.addEventListener("progress",d)),s.send(r),i.next({type:tn.Sent}),()=>{s.removeEventListener("error",c),s.removeEventListener("abort",c),s.removeEventListener("load",l),s.removeEventListener("timeout",c),t.reportProgress&&(s.removeEventListener("progress",h),null!==r&&s.upload&&s.upload.removeEventListener("progress",d)),s.readyState!==s.DONE&&s.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(P(xP))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const Y0=new U("XSRF_COOKIE_NAME"),Z0=new U("XSRF_HEADER_NAME");class uO{}let dX=(()=>{class n{constructor(t,i,s){this.doc=t,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=dP(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(P(kt),P(ug),P(Y0))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),X0=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const s=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||s.startsWith("http://")||s.startsWith("https://"))return i.handle(t);const r=this.tokenService.getToken();return null!==r&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,r)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(P(uO),P(Z0))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),fX=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(lO,[]);this.chain=i.reduceRight((s,r)=>new aO(s,r),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(P(eO),P(Tn))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),pX=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:X0,useClass:cX}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:Y0,useValue:t.cookieName}:[],t.headerName?{provide:Z0,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({providers:[X0,{provide:lO,useExisting:X0,multi:!0},{provide:uO,useClass:dX},{provide:Y0,useValue:"XSRF-TOKEN"},{provide:Z0,useValue:"X-XSRF-TOKEN"}]}),n})(),gX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({providers:[oO,{provide:JR,useClass:fX},cO,{provide:eO,useExisting:cO}],imports:[pX.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();let hO=(()=>{class n{constructor(t){this.http=t,this.httpOptions={headers:(new cr).set("Content-Type","application/json").set("X-API-KEY","NjU4UkMogG8ad1tthie626TYkVcIaSc11YuEwtk6")}}getDollar(){return this.http.get("https://yfapi.net/v6/finance/quote?region=US&lang=es&symbols=USDCLP%3DX",this.httpOptions)}getChartData(t,i,s,r){return this.http.get(`https://yfapi.net/v8/finance/chart/USDCLP%3DX?range=${t}&region=${i}&interval=${s}&lang=${r}`,this.httpOptions)}}return n.\u0275fac=function(t){return new(t||n)(P(oO))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();class mX extends $t{constructor(e,t){super()}schedule(e,t=0){return this}}const rm={setInterval(n,e,...t){const{delegate:i}=rm;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=rm;return(e?.clearInterval||clearInterval)(n)},delegate:void 0},dO={now:()=>(dO.delegate||Date).now(),delegate:void 0};class vd{constructor(e,t=vd.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}vd.now=dO.now;const om=new class vX extends vd{constructor(e,t=vd.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}(class yX extends mX{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return rm.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;rm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let s,i=!1;try{this.work(e)}catch(r){i=!0,s=r||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,cs(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),_X=om;function fO(n=0,e,t=_X){let i=-1;return null!=e&&(Ao(e)?t=e:i=e),new _t(s=>{let r=function bX(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;r<0&&(r=0);let o=0;return t.schedule(function(){s.closed||(s.next(o++),0<=i?this.schedule(void 0,i):s.complete())},r)})}let Q0;try{Q0=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Q0=!1}let _d,J0,sl=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function G7(n){return n===_P}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Q0)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(P(ug))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function am(n){return function wX(){if(null==_d&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>_d=!0}))}finally{_d=_d||!1}return _d}()?n:!!n.capture}function bd(n){return n.composedPath?n.composedPath()[0]:n.target}function gO(n){return ar((e,t)=>n<=t)}function PX(n,e){return n===e}function mO(n){return Ce((e,t)=>{An(n).subscribe(Pe(t,()=>t.complete(),zl)),!t.closed&&e.subscribe(t)})}function Qc(n){return null!=n&&"false"!=`${n}`}function yO(n){return Array.isArray(n)?n:[n]}function xd(n){return n instanceof It?n.nativeElement:n}let OX=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({providers:[OX]}),n})();const _O=new Set;let Jc,FX=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):BX}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function LX(n){if(!_O.has(n))try{Jc||(Jc=document.createElement("style"),Jc.setAttribute("type","text/css"),document.head.appendChild(Jc)),Jc.sheet&&(Jc.sheet.insertRule(`@media ${n} {body{ }}`,0),_O.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(P(sl))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function BX(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let VX=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new fn}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return bO(yO(t)).some(s=>this._registerQuery(s).mql.matches)}observe(t){let r=Fg(bO(yO(t)).map(o=>this._registerQuery(o).observable));return r=Lg(r.pipe(Wc(1)),r.pipe(gO(1),function NX(n,e=om){return Ce((t,i)=>{let s=null,r=null,o=null;const a=()=>{if(s){s.unsubscribe(),s=null;const c=r;r=null,i.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return s=this.schedule(void 0,c-u),void i.add(s);a()}t.subscribe(Pe(i,c=>{r=c,o=e.now(),s||(s=e.schedule(l,n),i.add(s))},()=>{a(),i.complete()},void 0,()=>{r=s=null}))})}(0))),r.pipe(Ee(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),r={observable:new _t(o=>{const a=l=>this._zone.run(()=>o.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(WP(i),Ee(({matches:o})=>({query:t,matches:o})),mO(this._destroySubject)),mql:i};return this._queries.set(t,r),r}}return n.\u0275fac=function(t){return new(t||n)(P(FX),P(Re))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bO(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function DO(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function SO(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const qX=new U("cdk-input-modality-detector-options"),KX={ignoreKeys:[18,17,224,91,16]},eu=am({passive:!0,capture:!0});let YX=(()=>{class n{constructor(t,i,s,r){this._platform=t,this._mostRecentTarget=null,this._modality=new Xn(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=bd(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(DO(o)?"keyboard":"mouse"),this._mostRecentTarget=bd(o))},this._onTouchstart=o=>{SO(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=bd(o))},this._options={...KX,...r},this.modalityDetected=this._modality.pipe(gO(1)),this.modalityChanged=this.modalityDetected.pipe(function kX(n,e=Ks){return n=n??PX,Ce((t,i)=>{let s,r=!0;t.subscribe(Pe(i,o=>{const a=e(o);(r||!n(s,a))&&(r=!1,s=a,i.next(o))}))})}()),t.isBrowser&&i.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,eu),s.addEventListener("mousedown",this._onMousedown,eu),s.addEventListener("touchstart",this._onTouchstart,eu)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,eu),document.removeEventListener("mousedown",this._onMousedown,eu),document.removeEventListener("touchstart",this._onTouchstart,eu))}}return n.\u0275fac=function(t){return new(t||n)(P(sl),P(Re),P(kt),P(qX,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const XX=new U("cdk-focus-monitor-default-options"),cm=am({passive:!0,capture:!0});let QX=(()=>{class n{constructor(t,i,s,r,o){this._ngZone=t,this._platform=i,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new fn,this._rootNodeFocusAndBlurListener=a=>{for(let c=bd(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=r,this._detectionMode=o?.detectionMode||0}monitor(t,i=!1){const s=xd(t);if(!this._platform.isBrowser||1!==s.nodeType)return xe(null);const r=function DX(n){if(function CX(){if(null==J0){const n=typeof document<"u"?document.head:null;J0=!(!n||!n.createShadowRoot&&!n.attachShadow)}return J0}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(s)||this._getDocument(),o=this._elementInfo.get(s);if(o)return i&&(o.checkChildren=!0),o.subject;const a={checkChildren:i,subject:new fn,rootNode:r};return this._elementInfo.set(s,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=xd(t),s=this._elementInfo.get(i);s&&(s.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(s))}focusVia(t,i,s){const r=xd(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof r.focus&&r.focus(s))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const s=this._elementInfo.get(i),r=bd(t);!s||!s.checkChildren&&i!==r||this._originChanged(i,this._getFocusOrigin(r),s)}_onBlur(t,i){const s=this._elementInfo.get(i);!s||s.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(s,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,s=this._rootNodeFocusListenerCount.get(i)||0;s||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,cm),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,cm)}),this._rootNodeFocusListenerCount.set(i,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(mO(this._stopInputModalityDetector)).subscribe(r=>{this._setOrigin(r,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const s=this._rootNodeFocusListenerCount.get(i);s>1?this._rootNodeFocusListenerCount.set(i,s-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,cm),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,cm),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,s){this._setClasses(t,i),this._emitOrigin(s,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((s,r)=>{(r===t||s.checkChildren&&r.contains(t))&&i.push([r,s])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:s}=this._inputModalityDetector;if("mouse"!==s||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const r=t.labels;if(r)for(let o=0;o<r.length;o++)if(r[o].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(P(Re),P(sl),P(YX),P(kt,8),P(XX,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const MO="cdk-high-contrast-black-on-white",EO="cdk-high-contrast-white-on-black",ew="cdk-high-contrast-active";let AO=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=tr(VX).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(t):null,r=(s&&s.backgroundColor||"").replace(/ /g,"");switch(t.remove(),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(ew,MO,EO),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(ew,MO):2===i&&t.add(ew,EO)}}}return n.\u0275fac=function(t){return new(t||n)(P(sl),P(kt))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JX=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(P(AO))},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({imports:[vO]}),n})(),IO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({}),n})();const iQ=new U("mat-sanity-checks",{providedIn:"root",factory:function nQ(){return!0}});let hi=(()=>{class n{constructor(t,i,s){this._sanityChecks=i,this._document=s,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function SX(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(P(AO),P(iQ,8),P(kt))},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({imports:[IO,IO]}),n})();function sQ(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function rQ(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Qc(e)}}}const oQ=new U("MAT_DATE_LOCALE",{providedIn:"root",factory:function aQ(){return tr(Zn)}});class RO{constructor(){this._localeChanges=new fn,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let i=this.isValid(e),s=this.isValid(t);return i&&s?!this.compareDate(e,t):i==s}return e==t}clampDate(e,t,i){return t&&this.compareDate(e,t)<0?t:i&&this.compareDate(e,i)>0?i:e}}const lQ=new U("mat-date-formats"),cQ=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function tw(n,e){const t=Array(n);for(let i=0;i<n;i++)t[i]=e(i);return t}let uQ=(()=>{class n extends RO{constructor(t,i){super(),this.useUtcForDisplay=!1,super.setLocale(t)}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){const i=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return tw(12,s=>this._format(i,new Date(2017,s,1)))}getDateNames(){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return tw(31,i=>this._format(t,new Date(2017,0,i+1)))}getDayOfWeekNames(t){const i=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return tw(7,s=>this._format(i,new Date(2017,0,s+1)))}getYearName(t){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,t)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,i,s){let r=this._createDateWithOverflow(t,i,s);return r.getMonth(),r}today(){return new Date}parse(t,i){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,i){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");const s=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(s,t)}addCalendarYears(t,i){return this.addCalendarMonths(t,12*i)}addCalendarMonths(t,i){let s=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+i,this.getDate(t));return this.getMonth(s)!=((this.getMonth(t)+i)%12+12)%12&&(s=this._createDateWithOverflow(this.getYear(s),this.getMonth(s),0)),s}addCalendarDays(t,i){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+i)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(cQ.test(t)){let i=new Date(t);if(this.isValid(i))return i}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,i,s){const r=new Date;return r.setFullYear(t,i,s),r.setHours(0,0,0,0),r}_2digit(t){return("00"+t).slice(-2)}_format(t,i){const s=new Date;return s.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),s.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),t.format(s)}}return n.\u0275fac=function(t){return new(t||n)(P(oQ,8),P(sl))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const hQ={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let dQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({providers:[{provide:RO,useClass:uQ}]}),n})(),fQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({providers:[{provide:lQ,useValue:hQ}],imports:[dQ]}),n})(),OO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({imports:[hi,hi]}),n})();class pQ{constructor(e,t,i,s=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=s,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const NO={enterDuration:225,exitDuration:150},nw=am({passive:!0}),FO=["mousedown","touchstart"],LO=["mouseup","mouseleave","touchend","touchcancel"];class mQ{constructor(e,t,i,s){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=xd(i))}fadeInRipple(e,t,i={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r={...NO,...i.animation};i.centered&&(e=s.left+s.width/2,t=s.top+s.height/2);const o=i.radius||function yQ(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),s=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+s*s)}(e,t,s),a=e-s.left,l=t-s.top,c=r.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const h=window.getComputedStyle(u),f=h.transitionDuration,p="none"===h.transitionProperty||"0s"===f||"0s, 0s"===f,g=new pQ(this,u,i,p);u.style.transform="scale3d(1, 1, 1)",g.state=0,i.persistent||(this._mostRecentTransientRipple=g);let y=null;return!p&&(c||r.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const b=()=>this._finishRippleTransition(g),w=()=>this._destroyRipple(g);u.addEventListener("transitionend",b),u.addEventListener("transitioncancel",w),y={onTransitionEnd:b,onTransitionCancel:w}}),this._activeRipples.set(g,y),(p||!c)&&this._finishRippleTransition(g),g}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...NO,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=xd(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(FO))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(LO),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=DO(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!SO(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,nw)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(FO.forEach(e=>{this._triggerElement.removeEventListener(e,this,nw)}),this._pointerUpEventsRegistered&&LO.forEach(e=>{this._triggerElement.removeEventListener(e,this,nw)}))}}const vQ=new U("mat-ripple-global-options");let _Q=(()=>{class n{constructor(t,i,s,r,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new mQ(this,i,t,s)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,s){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...s}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(_(It),_(Re),_(sl),_(vQ,8),_(hg,8))},n.\u0275dir=ee({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&Vr("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),BO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({imports:[hi,hi]}),n})();const bQ=["*",[["mat-toolbar-row"]]],xQ=["*","mat-toolbar-row"],wQ=sQ(class{constructor(n){this._elementRef=n}});let VO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),CQ=(()=>{class n extends wQ{constructor(t,i,s){super(t),this._platform=i,this._document=s}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(_(It),_(sl),_(kt))},n.\u0275cmp=k({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,s){if(1&t&&yn(s,VO,5),2&t){let r;ut(r=ht())&&(i._toolbarRows=r)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&Vr("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[T],ngContentSelectors:xQ,decls:2,vars:0,template:function(t,i){1&t&&(zh(bQ),$a(0),$a(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),DQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({imports:[hi,hi]}),n})();const SQ=["*",[["mat-card-footer"]]],TQ=["*","mat-card-footer"];let MQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),EQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),AQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),IQ=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(_(hg,8))},n.\u0275cmp=k({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,i){2&t&&Vr("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:TQ,decls:2,vars:0,template:function(t,i){1&t&&(zh(SQ),$a(0),$a(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),kQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({imports:[hi,hi]}),n})();class PQ{constructor(e=!1,t,i=!0){this._multiple=e,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new fn,t&&t.length&&(e?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}let HO=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(_(Di),_(It))},n.\u0275dir=ee({type:n}),n})(),ol=(()=>{class n extends HO{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=mn(n)))(i||n)}}(),n.\u0275dir=ee({type:n,features:[T]}),n})();const Is=new U("NgValueAccessor"),NQ={provide:Is,useExisting:tt(()=>iw),multi:!0},LQ=new U("CompositionEventMode");let iw=(()=>{class n extends HO{constructor(t,i,s){super(t,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function FQ(){const n=or()?or().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(_(Di),_(It),_(LQ,8))},n.\u0275dir=ee({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&Et("input",function(r){return i._handleInput(r.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(r){return i._compositionEnd(r.target.value)})},features:[fe([NQ]),T]}),n})();const Bn=new U("NgValidators"),Wo=new U("NgAsyncValidators");function XO(n){return null!=n}function QO(n){return Hh(n)?At(n):n}function JO(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function eN(n,e){return e.map(t=>t(n))}function tN(n){return n.map(e=>function HQ(n){return!n.validate}(e)?e:t=>e.validate(t))}function sw(n){return null!=n?function nN(n){if(!n)return null;const e=n.filter(XO);return 0==e.length?null:function(t){return JO(eN(t,e))}}(tN(n)):null}function rw(n){return null!=n?function iN(n){if(!n)return null;const e=n.filter(XO);return 0==e.length?null:function(t){return function RQ(...n){const e=Ia(n),{args:t,keys:i}=zP(n),s=new _t(r=>{const{length:o}=t;if(!o)return void r.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let h=!1;An(t[u]).subscribe(Pe(r,d=>{h||(h=!0,c--),a[u]=d},()=>l--,void 0,()=>{(!l||!h)&&(c||r.next(i?UP(i,a):a),r.complete())}))}});return e?s.pipe(p0(e)):s}(eN(t,e).map(QO)).pipe(Ee(JO))}}(tN(n)):null}function sN(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ow(n){return n?Array.isArray(n)?n:[n]:[]}function hm(n,e){return Array.isArray(n)?n.includes(e):n===e}function aN(n,e){const t=ow(e);return ow(n).forEach(s=>{hm(t,s)||t.push(s)}),t}function lN(n,e){return ow(e).filter(t=>!hm(n,t))}class cN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=sw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Qn extends cN{get formDirective(){return null}get path(){return null}}class qo extends cN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let hN=(()=>{class n extends class uN{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(_(qo,2))},n.\u0275dir=ee({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&Vr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[T]}),n})();const Cd="VALID",fm="INVALID",tu="PENDING",Dd="DISABLED";function fN(n){return Array.isArray(n)?sw(n):n||null}function pN(n){return Array.isArray(n)?rw(n):n||null}function pm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Sd(n,e){(function fw(n,e){const t=function rN(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(sN(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function oN(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(sN(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const s=()=>n.updateValueAndValidity();ym(e._rawValidators,s),ym(e._rawAsyncValidators,s)})(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function ZQ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&vN(n,e)})}(n,e),function QQ(n,e){const t=(i,s)=>{e.valueAccessor.writeValue(i),s&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function XQ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&vN(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function YQ(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ym(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function vN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function wN(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function CN(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const oJ={provide:qo,useExisting:tt(()=>yw)},MN=(()=>Promise.resolve(null))();let yw=(()=>{class n extends qo{constructor(t,i,s,r,o){super(),this._changeDetectorRef=o,this.control=new class extends class yN{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=fN(this._rawValidators),this._composedAsyncValidatorFn=pN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Cd}get invalid(){return this.status===fm}get pending(){return this.status==tu}get disabled(){return this.status===Dd}get enabled(){return this.status!==Dd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=fN(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=pN(e)}addValidators(e){this.setValidators(aN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(aN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(lN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(lN(e,this._rawAsyncValidators))}hasValidator(e){return hm(this._rawValidators,e)}hasAsyncValidator(e){return hm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=tu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Dd,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Cd,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Cd||this.status===tu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dd:Cd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=tu,this._hasOwnPendingAsyncValidator=!0;const t=QO(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,s)=>i&&i._find(s),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ne,this.statusChanges=new ne}_calculateStatus(){return this._allControlsDisabled()?Dd:this.errors?fm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(tu)?tu:this._anyControlsHaveStatus(fm)?fm:Cd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){pm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}{constructor(e=null,t,i){super(function uw(n){return(pm(n)?n.validators:n)||null}(t),function hw(n,e){return(pm(e)?e.asyncValidators:n)||null}(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=CN(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){wN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){wN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){CN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},this._registered=!1,this.update=new ne,this._parent=t,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function gw(n,e){if(!e)return null;let t,i,s;return Array.isArray(e),e.forEach(r=>{r.constructor===iw?t=r:function tJ(n){return Object.getPrototypeOf(n.constructor)===ol}(r)?i=r:s=r}),s||i||t||null}(0,r)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function pw(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Sd(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){MN.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,s=0!==i&&function Ur(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(i);MN.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function gm(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(_(Qn,9),_(Bn,10),_(Wo,10),_(Is,10),_(zr,8))},n.\u0275dir=ee({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[fe([oJ]),T,On]}),n})(),AN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({}),n})(),kJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({imports:[AN]}),n})(),PJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({imports:[kJ]}),n})();const OJ=["button"],NJ=["*"],qN=new U("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),KN=new U("MatButtonToggleGroup"),FJ={provide:Is,useExisting:tt(()=>XN),multi:!0};let YN=0;class ZN{constructor(e,t){this.source=e,this.value=t}}let XN=(()=>{class n{constructor(t,i){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+YN++,this.valueChange=new ne,this.change=new ne,this.appearance=i&&i.appearance?i.appearance:"standard"}get name(){return this._name}set name(t){this._name=t,this._buttonToggles&&this._buttonToggles.forEach(i=>{i.name=this._name,i._markForCheck()})}get vertical(){return this._vertical}set vertical(t){this._vertical=Qc(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(i=>i.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=Qc(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=Qc(t),this._buttonToggles&&this._buttonToggles.forEach(i=>i._markForCheck())}ngOnInit(){this._selectionModel=new PQ(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(){const t=this.selected,i=Array.isArray(t)?t[t.length-1]:t,s=new ZN(i,this.value);this._controlValueAccessorChangeFn(s.value),this.change.emit(s)}_syncButtonToggle(t,i,s=!1,r=!1){!this.multiple&&this.selected&&!t.checked&&(this.selected.checked=!1),this._selectionModel?i?this._selectionModel.select(t):this._selectionModel.deselect(t):r=!0,r?Promise.resolve().then(()=>this._updateModelValue(s)):this._updateModelValue(s)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(i=>null!=t.value&&i===t.value):t.value===this._rawValue)}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(i=>this._selectValue(i))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const i=this._buttonToggles.find(s=>null!=s.value&&s.value===t);i&&(i.checked=!0,this._selectionModel.select(i))}_updateModelValue(t){t&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return n.\u0275fac=function(t){return new(t||n)(_(zr),_(qN,8))},n.\u0275dir=ee({type:n,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,i,s){if(1&t&&yn(s,QN,5),2&t){let r;ut(r=ht())&&(i._buttonToggles=r)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,i){2&t&&(ci("aria-disabled",i.disabled),Vr("mat-button-toggle-vertical",i.vertical)("mat-button-toggle-group-appearance-standard","standard"===i.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[fe([FJ,{provide:KN,useExisting:n}])]}),n})();const LJ=rQ(class{});let QN=(()=>{class n extends LJ{constructor(t,i,s,r,o,a){super(),this._changeDetectorRef=i,this._elementRef=s,this._focusMonitor=r,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new ne;const l=Number(o);this.tabIndex=l||0===l?l:null,this.buttonToggleGroup=t,this.appearance=a&&a.appearance?a.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const i=Qc(t);i!==this._checked&&(this._checked=i,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=Qc(t)}ngOnInit(){const t=this.buttonToggleGroup;this._isSingleSelector=t&&!t.multiple,this.id=this.id||"mat-button-toggle-"+YN++,this._isSingleSelector&&(this.name=t.name),t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new ZN(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(_(KN,8),_(zr),_(It),_(QX),uc("tabindex"),_(qN,8))},n.\u0275cmp=k({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(t,i){if(1&t&&qi(OJ,5),2&t){let s;ut(s=ht())&&(i._buttonElement=s.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(t,i){1&t&&Et("focus",function(){return i.focus()}),2&t&&(ci("aria-label",null)("aria-labelledby",null)("id",i.id)("name",null),Vr("mat-button-toggle-standalone",!i.buttonToggleGroup)("mat-button-toggle-checked",i.checked)("mat-button-toggle-disabled",i.disabled)("mat-button-toggle-appearance-standard","standard"===i.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[T],ngContentSelectors:NJ,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,i){if(1&t&&(zh(),le(0,"button",0,1),Et("click",function(){return i._onButtonClick()}),le(2,"span",2),$a(3),_e()(),Wi(4,"span",3)(5,"span",4)),2&t){const s=function d1(n){return function rc(n,e){return n[e]}(function SG(){return ve.lFrame.contextLView}(),22+n)}(1);He("id",i.buttonId)("disabled",i.disabled||null),ci("tabindex",i.disabled?-1:i.tabIndex)("aria-pressed",i.checked)("name",i.name||null)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby),Ze(5),He("matRippleTrigger",s)("matRippleDisabled",i.disableRipple||i.disabled)}},dependencies:[_Q],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0}),n})(),BJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({imports:[hi,BO,hi]}),n})();function Md(n,e=om){return function VJ(n){return Ce((e,t)=>{let i=!1,s=null,r=null,o=!1;const a=()=>{if(r?.unsubscribe(),r=null,i){i=!1;const c=s;s=null,t.next(c)}o&&t.complete()},l=()=>{r=null,o&&t.complete()};e.subscribe(Pe(t,c=>{i=!0,s=c,r||An(n(c)).subscribe(r=Pe(t,a,l))},()=>{o=!0,(!i||!r||r.closed)&&t.complete()}))})}(()=>fO(n,e))}const HJ=["addListener","removeListener"],zJ=["addEventListener","removeEventListener"],UJ=["on","off"];function nu(n,e,t,i){if(Ke(t)&&(i=t,t=void 0),i)return nu(n,e,t).pipe(p0(i));const[s,r]=function $J(n){return Ke(n.addEventListener)&&Ke(n.removeEventListener)}(n)?zJ.map(o=>a=>n[o](e,a,t)):function jJ(n){return Ke(n.addListener)&&Ke(n.removeListener)}(n)?HJ.map(JN(n,e)):function GJ(n){return Ke(n.on)&&Ke(n.off)}(n)?UJ.map(JN(n,e)):[];if(!s&&rh(n))return Wt(o=>nu(o,e,t))(An(n));if(!s)throw new TypeError("Invalid event target");return new _t(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return s(a),()=>r(a)})}function JN(n,e){return t=>i=>n[t](e,i)}const Xi=()=>typeof document<"u",eF=n=>n&&n.observers.length>0;class sF{constructor(e){this.resizeBatchService=e,this.resize=new ne,this.acceptedSize=!1,this.state=0}acceptSize(e=this.measure()){this.lastWidth=e.width,this.lastHeight=e.height,this.acceptedSize=!0}checkChanges(){!Xi()||0===this.state&&(this.state=1,this.resizeBatchService.schedule(this,this.init))}destroy(){this.resizeBatchService.cancel(this)}checkSize(){if(!this.parentElement)return;const{width:e,height:t}=this.measure();return e!==this.lastWidth||t!==this.lastHeight?(this.lastWidth=e,this.lastHeight=t,this.acceptedSize=!1,this.resize.emit(),!0):void 0}initSize(){const e=this.measure();this.lastWidth=e.width,this.lastHeight=e.height}measure(){let e=0,t=0;return this.parentElement&&(t=this.parentElement.offsetHeight,e=this.parentElement.offsetWidth),{height:t,width:e}}}const _m=n=>{const e=document.createElement("div");return e.style.cssText=n,e},Tw="position: absolute; display: block; left: 0; top: 0; right: 0; bottom: 0; z-index: -1;overflow: hidden; visibility: hidden;";class JJ extends sF{constructor(e,t,i){super(e),this.element=t,this.ngZone=i}checkChanges(){2!==this.state?super.checkChanges():this.resizeBatchService.isScheduled(this)||this.resizeBatchService.schedule(this,this.checkSize)}destroy(){if(super.destroy(),this.subscription&&this.subscription.unsubscribe(),this.expand){const e=this.element.nativeElement;e.removeChild(this.expand),e.removeChild(this.shrink),this.expand.removeChild(this.expandChild),this.expand=this.expandChild=this.shrink=this.element=null}}checkSize(){if(super.checkSize())return this.reset(),!0}init(){const e=this.parentElement=this.element.nativeElement.parentElement;"static"===((n,e)=>getComputedStyle(n,null).getPropertyValue("position"))(e)&&(e.style.position="relative"),this.state=2,this.render(),this.reset(),this.initSize(),this.subscribe()}render(){const e=this.element.nativeElement;e.style.cssText=Tw,e.setAttribute("dir","ltr"),this.expand=_m(Tw),this.expandChild=_m("position: absolute; left: 0; top: 0; transition: 0s;"),this.expand.appendChild(this.expandChild),e.appendChild(this.expand),this.shrink=_m(Tw);const t=_m("position: absolute; left: 0; top: 0; transition: 0s;width: 200%; height: 200%;");this.shrink.appendChild(t),e.appendChild(this.shrink)}reset(){const e=this.expandChild;e.style.width="100000px",e.style.height="100000px";const t=this.expand;t.scrollLeft=1e5,t.scrollTop=1e5;const i=this.shrink;i.scrollLeft=1e5,i.scrollTop=1e5}subscribe(){this.ngZone.runOutsideAngular(()=>{this.subscription=Ql(nu(this.shrink,"scroll"),nu(this.expand,"scroll")).subscribe(()=>{this.checkSize()})})}}const eee=typeof ResizeObserver<"u";class oF extends sF{constructor(e,t,i){super(e),this.element=t,this.ngZone=i}static supported(){return eee}destroy(){super.destroy(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.parentElement=null}init(){this.parentElement=this.element.nativeElement.parentElement,this.initSize(),this.state=2,this.ngZone.runOutsideAngular(()=>{this.resizeObserver=new ResizeObserver(()=>{this.checkSize()}),this.resizeObserver.observe(this.parentElement)})}}let aF=(()=>{class n{constructor(t){this.ngZone=t,this.scheduled=[],this.resolvedPromise=Promise.resolve(null),this.flush=this.flush.bind(this)}schedule(t,i){this.scheduled.push({instance:t,method:i}),this.subscription||this.ngZone.runOutsideAngular(()=>{this.subscription=At(this.resolvedPromise).subscribe(this.flush)})}isScheduled(t){return Boolean(this.scheduled.find(i=>i.instance===t))}cancel(t){const i=this.scheduled,s=i.length;for(let r=0;r<s;r++)if(i[r].instance===t)return i.splice(r,1),void(i.length||this.unsubscribe())}ngOnDestroy(){this.unsubscribe()}unsubscribe(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}flush(){this.scheduled.forEach(t=>{t.method.call(t.instance)}),this.scheduled=[],this.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(P(Re))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),iu=(()=>{class n{constructor(t,i,s){this.rateLimit=10,this.resize=new ne;const r=oF.supported()?oF:JJ;this.resizeService=new r(t,i,s),this.subscription=this.resizeService.resize.pipe(Md(1e3/(this.rateLimit||10))).subscribe(()=>{this.resizeService.acceptedSize||this.resize.emit()})}ngAfterViewChecked(){this.resizeService.checkChanges()}ngOnDestroy(){this.subscription.unsubscribe(),this.resizeService.destroy()}acceptSize(t){this.resizeService.acceptSize(t)}}return n.\u0275fac=function(t){return new(t||n)(_(aF),_(It),_(Re))},n.\u0275cmp=k({type:n,selectors:[["kendo-resize-sensor"]],inputs:{rateLimit:"rateLimit"},outputs:{resize:"resize"},decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),bm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({providers:[aF]}),n})(),nee=(()=>{class n{constructor(){this.changes=new Xn({rtl:void 0})}notify(t){this.changes.next({rtl:t})}get(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const iee=new U("Kendo UI Right-to-Left token"),xm=new U("Localization key prefix");let Kr=(()=>{class n{constructor(t,i,s){this.prefix=t,this.messageService=i,this._rtl=s,this.changes=new Xn({rtl:this._rtl}),this.dictionary={},i&&(this.subscription=i.changes.pipe(Ee(({rtl:r})=>void 0!==r?r:this._rtl),vn(r=>this._rtl=r)).subscribe(r=>{this.dictionary={},this.changes.next({rtl:r})}))}get rtl(){return this._rtl}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}get(t){const i=this.key(t);return this.dictionary[i]}register(t,i,s=!1){const r=this.key(t);let o=i;if(!s){if(this.dictionary.hasOwnProperty(r))return;o=this.defaultValue(r,i)}this.dictionary[r]=o}notifyChanges(){this.changes.next({rtl:this.rtl})}key(t){return this.prefix+"."+t}defaultValue(t,i){if(!this.messageService)return i;const s=this.messageService.get(t);return void 0===s?i:s}}return n.\u0275fac=function(t){return new(t||n)(P(xm),P(nee,8),P(iee,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const Ko="arc",Rt="#000",st="bottom",ye="center",ks="circle",Yo="date",uF="12px sans-serif",fF=/\{\d+:?/,wm="height",Ew="inside",Oe="left",Ot=Number.MAX_VALUE,Kt=-Number.MAX_VALUE,Aw="none",Iw="object",Cm="outside",We="right",gF="roundedRect",kw="string",ze="top",Si="value",Ue="#fff",Dm="width",Q="x",J="y";function _n(n){return Array.isArray(n)}function Jn(n,e){const t=_n(e)?e:[e];for(let i=0;i<t.length;i++){const s=t[i];-1===n.className.indexOf(s)&&(n.className+=" "+s)}}const uee=/\s+/g;function oe(n){return void 0!==n}function Qi(n){let e=.5;n.options.stroke&&oe(n.options.stroke.width)&&n.options.stroke.width%2==0&&(e=0);for(let t=0;t<n.segments.length;t++)n.segments[t].anchor().round(0).translate(e,e);return n}function yF(n,e){return-n.x*e.y+n.y*e.x<0}function we(n){return"number"==typeof n&&!isNaN(n)}function Yr(n){return typeof n===kw}function vF(n){return we(n)||Yr(n)&&isFinite(n)}function Ct(n){return"function"==typeof n}function bF(n,e){for(let t in e){let r,i=e[t],s=typeof i;if(r="object"===s&&null!==i?i.constructor:null,r&&r!==Array)if(i instanceof Date)n[t]=new Date(i.getTime());else if(Ct(i.clone))n[t]=i.clone();else{let o=n[t];n[t]="object"==typeof o&&o||{},bF(n[t],i)}else"undefined"!==s&&(n[t]=i)}return n}function C(n){const e=arguments.length;for(let t=1;t<e;t++)bF(n,arguments[t]);return n}function Ps(n){return"object"==typeof n}function su(n){return we(n)?n+"px":n}const pee=/width|height|top|left|bottom|right/i;function gee(n){return pee.test(n)}function Dt(n,e){const t=Yr(e)?[e]:e;if(_n(t)){const i={},s=window.getComputedStyle(n);for(let r=0;r<t.length;r++){let o=t[r];i[o]=gee(o)?parseFloat(s[o]):s[o]}return i}if(Ps(e))for(let i in e)n.style[i]=su(e[i])}function at(n,e=0){const t={top:0,right:0,bottom:0,left:0};return"number"==typeof n?t.top=t[We]=t[st]=t[Oe]=n:(t.top=n.top||e,t[We]=n[We]||e,t[st]=n[st]||e,t[Oe]=n[Oe]||e),t}let xF={compile:function(n){return n}};const wF=class mee{static register(e){xF=e}static compile(e){return xF.compile(e)}};function bn(n={}){let e;return n.template?n.template=e=wF.compile(n.template):Ct(n.content)&&(e=n.content),e}const yee=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,Ed={};function Zr(n){if(Ed[n])return Ed[n];const e=[];return n.replace(yee,function(t,i,s,r){e.push(oe(i)?i:s||r)}),Ed[n]=function(t){let i=t;for(let s=0;s<e.length&&i;s++)i=i[e[s]];return i},Ed[n]}function Ti(n,e){const t=n.length,i=[];for(let s=0;s<t;s++)e(n[s])&&i.push(n[s]);return i}function Ad(n,e){if(n.className){const t=e.split(" ");for(let i=0;i<t.length;i++)if(-1!==n.className.indexOf(t[i]))return!0}}Ed.undefined=function(n){return n};class CF{constructor(){this._map={}}get(e){return this._map[this._key(e)]}set(e,t){this._map[this._key(e)]=t}_key(e){return e instanceof Date?e.getTime():e}}function Se(n,e){if(e)return-1!==e.indexOf(n)}function yt(n,e){const t=function vee(n){return n?Math.pow(10,n):1}(e);return Math.round(n*t)/t}function Ji(n,e,t){return yt(n+(e-n)*t,3)}const DF="trigger",Pw=class _ee{constructor(e,t){this.observer=e,this.handlerMap=C({},this.handlerMap,t)}trigger(e,t){const{observer:i,handlerMap:s}=this;let r;return s[e]?r=this.callObserver(s[e],t):i[DF]&&(r=this.callObserver(DF,e,t)),r}callObserver(e,...t){return this.observer[e].apply(this.observer,t)}requiresHandlers(e){if(this.observer.requiresHandlers)return this.observer.requiresHandlers(e);for(let t=0;t<e.length;t++)if(this.handlerMap[e[t]])return!0}};function SF(n,e){const t=n.length,i=[];for(let s=0;s<t;s++){let r=e(n[s]);oe(r)&&i.push(r)}return i}let Sm=null;const ru={get browser(){return typeof window>"u"||Sm||(Sm=function bee(n){const e={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+))/i};let t={};for(let i in e)if(e.hasOwnProperty(i)){const s=n.match(e[i]);if(s){t[i]=!0,t[s[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||s[2],10);break}}return t}(window.navigator.userAgent)),Sm}},xee=ru.browser||{};function Rw(n){let e=0;return n.wheelDelta?(e=-n.wheelDelta/120,xee.webkit&&(e/=2*Math.max(window.devicePixelRatio,.625))):n.detail&&(e=n.detail/3),e=e>0?Math.ceil(e):Math.floor(e),e}class Y{}function TF(n){const e=window.console;typeof e<"u"&&e.log&&e.log(n)}function Id(n,e){return n.push.apply(n,e),n}const wee={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"};function Cee(n){const e=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1];let t="";for(;n>0;)n<e[0]?e.shift():(t+=wee[e[0]],n-=e[0]);return t}function kd(){let n,e;const t=new Promise((i,s)=>{n=r=>(t._state="resolved",i(r),t),e=r=>(t._state="rejected",s(r),t)});return t._state="pending",t.resolve=n,t.reject=e,t.state=()=>t._state,t}let Dee=1;function Tm(){return"kdef"+Dee++}const Ow=Math.PI/180,ou=Number.MAX_VALUE,au=-Number.MAX_VALUE;function Zo(n){return n/Ow}const es=String.fromCharCode,Mm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function MF(n){let e="",t=0;const i=function See(n){let e="";for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(55296<=i&&i<=56319){const s=i,r=n.charCodeAt(++t);isNaN(r)||(i=1024*(s-55296)+(r-56320)+65536)}i<128?e+=es(i):i<2048?(e+=es(192|i>>>6),e+=es(128|63&i)):i<65536?(e+=es(224|i>>>12),e+=es(128|i>>>6&63),e+=es(128|63&i)):i<1114111&&(e+=es(240|i>>>18),e+=es(128|i>>>12&63),e+=es(128|i>>>6&63),e+=es(128|63&i))}return e}(n);for(;t<i.length;){let s=i.charCodeAt(t++),r=i.charCodeAt(t++),o=i.charCodeAt(t++),a=s>>2,l=(3&s)<<4|r>>4,c=(15&r)<<2|o>>6,u=63&o;isNaN(r)?c=u=64:isNaN(o)&&(u=64),e=e+Mm.charAt(a)+Mm.charAt(l)+Mm.charAt(c)+Mm.charAt(u)}return e}function EF(n){return oe((n.x||{}).location)?{x:n.x.location,y:n.y.location}:{x:n.pageX||n.clientX||0,y:n.pageY||n.clientY||0}}function AF(n={}){return n.touch?n.touch.initialTouch:n.target}function ll(n){return""===n||null===n||"none"===n||"transparent"===n||!oe(n)}function Mi(n){if(n)return n[n.length-1]}function Em(n,e,t){return Math.max(Math.min(n,t),e)}function Tee(n,e){return n.length<2?n.slice():function i(s){if(s.length<=1)return s;var r=Math.floor(s.length/2),o=s.slice(0,r),a=s.slice(r);return function t(i,s){for(var r=[],o=0,a=0,l=0;o<i.length&&a<s.length;)e(i[o],s[a])<=0?r[l++]=i[o++]:r[l++]=s[a++];return o<i.length&&r.push.apply(r,i.slice(o)),a<s.length&&r.push.apply(r,s.slice(a)),r}(o=i(o),a=i(a))}(n)}const Pd=Date.now||function(){return(new Date).getTime()};function IF(n){return Promise.all(n)}function ur(n){return n*Ow}function Fw(n,e){return oe(n)?n:e}function Lw(n,e){for(let t in e){const i=t.trim().split(" ");for(let s=0;s<i.length;s++)n.addEventListener(i[s],e[t],!1)}}function kF(n){const e=n.getBoundingClientRect(),t=document.documentElement;return{top:e.top+(window.pageYOffset||t.scrollTop)-(t.clientTop||0),left:e.left+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}}function Am(n,e){const t={},i=window.getComputedStyle(n)||{},s=Array.isArray(e)?e:[e];for(let r=0;r<s.length;r++){let o=s[r];t[o]=i[o]}return t}function PF(n){return isNaN(n)?n:n+"px"}function Rd(n,e){if(!e){const t=Am(n,["width","height"]);return{width:parseInt(t.width,10),height:parseInt(t.height,10)}}{const{width:t,height:i}=e;oe(t)&&(n.style.width=PF(t)),oe(i)&&(n.style.height=PF(i))}}function Bw(n,e={}){for(let t in e){const i=t.trim().split(" ");for(let s=0;s<i.length;s++)n.removeEventListener(i[s],e[t],!1)}}function RF(n){const{paddingLeft:e,paddingTop:t}=Am(n,["paddingLeft","paddingTop"]);return{top:parseFloat(t),left:parseFloat(e)}}class Rs extends Y{constructor(e=0,t=0,i=0,s=0,r=0,o=0){super(),this.a=e,this.b=t,this.c=i,this.d=s,this.e=r,this.f=o}multiplyCopy(e){return new Rs(this.a*e.a+this.c*e.b,this.b*e.a+this.d*e.b,this.a*e.c+this.c*e.d,this.b*e.c+this.d*e.d,this.a*e.e+this.c*e.f+this.e,this.b*e.e+this.d*e.f+this.f)}invert(){const{a:e,b:t,c:i,d:s,e:r,f:o}=this,a=e*s-t*i;return 0===a?null:new Rs(s/a,-t/a,-i/a,e/a,(i*o-s*r)/a,(t*r-e*o)/a)}clone(){return new Rs(this.a,this.b,this.c,this.d,this.e,this.f)}equals(e){return!!e&&this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d&&this.e===e.e&&this.f===e.f}round(e){return this.a=yt(this.a,e),this.b=yt(this.b,e),this.c=yt(this.c,e),this.d=yt(this.d,e),this.e=yt(this.e,e),this.f=yt(this.f,e),this}toArray(e){const t=[this.a,this.b,this.c,this.d,this.e,this.f];if(oe(e))for(let i=0;i<t.length;i++)t[i]=yt(t[i],e);return t}toString(e,t=","){return this.toArray(e).join(t)}static translate(e,t){return new Rs(1,0,0,1,e,t)}static unit(){return new Rs(1,0,0,1,0,0)}static rotate(e,t,i){const s=new Rs;return s.a=Math.cos(ur(e)),s.b=Math.sin(ur(e)),s.c=-s.b,s.d=s.a,s.e=t-t*s.a+i*s.b||0,s.f=i-i*s.a-t*s.b||0,s}static scale(e,t){return new Rs(e,0,0,t,0,0)}}Rs.IDENTITY=Rs.unit();const di=Rs,Mee=/matrix\((.*)\)/;function OF(n){const e=getComputedStyle(n).transform;return"none"===e?di.unit():function Eee(n){const e=n.match(Mee);if(null===e||2!==e.length)return di.unit();const t=e[1].split(",").map(i=>parseFloat(i));return new di(...t)}(e)}function NF(n){if(!n)return di.unit();let e=OF(n),t=n.parentElement;for(;t;){const i=OF(t);e=e.multiplyCopy(i),t=t.parentElement}return e.b=e.c=e.e=e.f=0,e}const FF=class Aee extends Y{constructor(e){super(),this._size=e,this._length=0,this._map={}}put(e,t){const i=this._map,s={key:e,value:t};i[e]=s,this._head?(this._tail.newer=s,s.older=this._tail,this._tail=s):this._head=this._tail=s,this._length>=this._size?(i[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++}get(e){const t=this._map[e];if(t)return t===this._head&&t!==this._tail&&(this._head=t.newer,this._head.older=null),t!==this._tail&&(t.older&&(t.older.newer=t.newer,t.newer.older=t.older),t.older=this._tail,t.newer=null,this._tail.newer=t,this._tail=t),t.value}},Iee=/\r?\n|\r|\t/g;function Vw(n){return String(n).replace(Iee," ")}function LF(n){const e=[];for(let t in n)e.push(t+n[t]);return e.sort().join("")}function BF(n){let e=2166136261;for(let t=0;t<n.length;++t)e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24),e^=n.charCodeAt(t);return e>>>0}const Pee={baselineMarkerSize:1};let Hw;typeof document<"u"&&(Hw=document.createElement("div"),Hw.style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");class zw extends Y{constructor(e){super(),this._cache=new FF(1e3),this.options=Object.assign({},Pee,e)}measure(e,t,i={}){if(typeof e>"u"||null===e)return{width:0,height:0,baseline:0};const r=BF(e+LF(t)),o=this._cache.get(r);if(o)return o;const a={width:0,height:0,baseline:0},l=i.box||Hw,c=this._baselineMarker().cloneNode(!1);for(let h in t){let d=t[h];typeof d<"u"&&(l.style[h]=d)}const u=!1!==i.normalizeText?Vw(e):String(e);return l.textContent=u,l.appendChild(c),document.body.appendChild(l),u.length&&(a.width=l.offsetWidth-this.options.baselineMarkerSize,a.height=l.offsetHeight,a.baseline=c.offsetTop+this.options.baselineMarkerSize),a.width>0&&a.height>0&&this._cache.put(r,a),l.parentNode.removeChild(l),a}_baselineMarker(){const e=document.createElement("div");return e.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",e}}zw.current=new zw;const HF=zw;function Im(n,e,t){return HF.current.measure(n,e,t)}const{append:cl,bindEvents:Od,defined:N,deg:Xo,elementOffset:lu,elementSize:Xr,eventCoordinates:Ree,eventElement:Os,hashKey:Oee,last:Nt,limitValue:ie,objectKey:Nee,rad:Yt,round:H,unbindEvents:Nd,valueOrDefault:ge}=$s;class Fd{static fetchFonts(e,t,i={depth:0}){!e||i.depth>5||!document.fonts||Object.keys(e).forEach(function(r){const o=e[r];"dataSource"===r||"$"===r[0]||!o||("font"===r?t.push(o):"object"==typeof o&&(i.depth++,Fd.fetchFonts(o,t,i),i.depth--))})}static loadFonts(e,t){let i=[];if(e.length>0&&document.fonts){try{i=e.map(function(s){return document.fonts.load(s)})}catch(s){TF(s)}Promise.all(i).then(t,t)}else t()}static preloadFonts(e,t){const i=[];Fd.fetchFonts(e,i),Fd.loadFonts(i,t)}}const Fee=Fd;function B(n,e){const t=n.prototype;t.options=t.options?C({},t.options,e):e}function Uw(n){let e=Ot,t=Kt;for(let i=0,s=n.length;i<s;i++){const r=n[i];null!==r&&isFinite(r)&&(e=Math.min(e,r),t=Math.max(t,r))}return{min:e===Ot?void 0:e,max:t===Kt?void 0:t}}function zF(n,e){for(let t=0;t<n.length;t++){const i=n[t];if(e(i,t,n))return i}}const km=di,Lee=/matrix\((.*)\)/;function UF(n){const e=getComputedStyle(n).transform;return"none"===e?km.unit():function Bee(n){const e=n.match(Lee);if(null===e||2!==e.length)return km.unit();const t=e[1].split(",").map(i=>parseFloat(i));return new km(...t)}(e)}const jw={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},jF=ru.browser;let GF=n=>{const e=Object.keys(jw);e.push("transparent");const t=new RegExp("^("+e.join("|")+")(\\W|$)","i");return GF=i=>t.exec(i),t.exec(n)};class Pm extends Y{constructor(){super()}toHSV(){return this}toRGB(){return this}toHex(e){return this.toBytes().toHex(e)}toBytes(){return this}toCss(e){return"#"+this.toHex(e)}toCssRgba(){const e=this.toBytes();return`rgba(${e.r}, ${e.g}, ${e.b}, ${parseFloat(Number(this.a).toFixed(3))})`}toDisplay(){return jF.msie&&jF.version<9?this.toCss():this.toCssRgba()}equals(e){return e===this||null!==e&&this.toCssRgba()===Om(e).toCssRgba()}diff(e){if(null===e)return NaN;const t=this.toBytes(),i=e.toBytes();return Math.sqrt(Math.pow(.3*(t.r-i.r),2)+Math.pow(.59*(t.g-i.g),2)+Math.pow(.11*(t.b-i.b),2))}clone(){let e=this.toBytes();return e===this&&(e=new Qr(e.r,e.g,e.b,e.a)),e}}class Qo extends Pm{constructor(e,t,i,s){super(),this.r=e,this.g=t,this.b=i,this.a=s}toHSV(){const{r:e,g:t,b:i}=this,s=Math.min(e,t,i),r=Math.max(e,t,i),o=r-s,a=r;let l,c;return 0===o?new Gw(0,0,a,this.a):(0!==r?(c=o/r,l=e===r?(t-i)/o:t===r?2+(i-e)/o:4+(e-t)/o,l*=60,l<0&&(l+=360)):(c=0,l=-1),new Gw(l,c,a,this.a))}toHSL(){const{r:e,g:t,b:i}=this,s=Math.max(e,t,i),r=Math.min(e,t,i);let o,a,l=(s+r)/2;if(s===r)o=a=0;else{const c=s-r;switch(a=l>.5?c/(2-s-r):c/(s+r),s){case e:o=(t-i)/c+(t<i?6:0);break;case t:o=(i-e)/c+2;break;case i:o=(e-t)/c+4}}return new $F(60*o,100*a,100*l,this.a)}toBytes(){return new Qr(255*this.r,255*this.g,255*this.b,this.a)}}class Qr extends Qo{constructor(e,t,i,s){super(Math.round(e),Math.round(t),Math.round(i),s)}toRGB(){return new Qo(this.r/255,this.g/255,this.b/255,this.a)}toHSV(){return this.toRGB().toHSV()}toHSL(){return this.toRGB().toHSL()}toHex(e){let t=Rm(this.r,2)+Rm(this.g,2)+Rm(this.b,2);return e&&e.alpha&&(t+=Rm(Math.round(255*this.a),2)),t}toBytes(){return this}}function Rm(n,e,t="0"){let i=n.toString(16);for(;e>i.length;)i=t+i;return i}class Gw extends Pm{constructor(e,t,i,s){super(),this.h=e,this.s=t,this.v=i,this.a=s}toRGB(){let s,r,o,{h:e,s:t,v:i}=this;if(0===t)s=r=o=i;else{e/=60;const a=Math.floor(e),l=e-a,c=i*(1-t),u=i*(1-t*l),h=i*(1-t*(1-l));switch(a){case 0:s=i,r=h,o=c;break;case 1:s=u,r=i,o=c;break;case 2:s=c,r=i,o=h;break;case 3:s=c,r=u,o=i;break;case 4:s=h,r=c,o=i;break;default:s=i,r=c,o=u}}return new Qo(s,r,o,this.a)}toHSL(){return this.toRGB().toHSL()}toBytes(){return this.toRGB().toBytes()}}class $F extends Pm{constructor(e,t,i,s){super(),this.h=e,this.s=t,this.l=i,this.a=s}toRGB(){let s,r,o,e=this.h/360,t=this.s/100,i=this.l/100;if(0===t)s=r=o=i;else{const a=i<.5?i*(1+t):i+t-i*t,l=2*i-a;s=$w(l,a,e+1/3),r=$w(l,a,e),o=$w(l,a,e-1/3)}return new Qo(s,r,o,this.a)}toHSV(){return this.toRGB().toHSV()}toBytes(){return this.toRGB().toBytes()}}function $w(n,e,t){let i=t;return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+6*(e-n)*i:i<.5?e:i<2/3?n+(e-n)*(2/3-i)*6:n}function WF(n){return parseFloat(parseFloat(parseInt(n,16)/255).toFixed(3))}function Om(n,e){let t,i;if(null==n||"none"===n)return null;if(n instanceof Pm)return n;let s=n.toLowerCase();if(t=GF(s))return s="transparent"===t[1]?new Qo(1,1,1,0):Om(jw[t[1]],e),s.match=[t[1]],s;if((t=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(s))?i=new Qr(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),1):(t=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(s))?i=new Qr(parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),1):(t=/^#?([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(s))?i=new Qr(parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),WF(t[4]+t[4])):(t=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(s))?i=new Qr(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),WF(t[4])):(t=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(s))?i=new Qr(parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10),1):(t=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(s))?i=new Qr(parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10),parseFloat(t[4])):(t=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(s))?i=new Qo(parseFloat(t[1])/100,parseFloat(t[2])/100,parseFloat(t[3])/100,1):(t=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(s))&&(i=new Qo(parseFloat(t[1])/100,parseFloat(t[2])/100,parseFloat(t[3])/100,parseFloat(t[4]))),i)i.match=t;else if(!e)throw new Error("Cannot parse color: "+s);return i}const hr=(()=>{class n extends Y{constructor(t){if(super(),1===arguments.length){const i=n.formats,s=this.resolveColor(t);for(let r=0;r<i.length;r++){const a=i[r].process,l=i[r].re.exec(s);if(l){const c=a(l);this.r=c[0],this.g=c[1],this.b=c[2]}}}else this.r=arguments[0],this.g=arguments[1],this.b=arguments[2];this.r=this.normalizeByte(this.r),this.g=this.normalizeByte(this.g),this.b=this.normalizeByte(this.b)}toHex(){const t=this.padDigit,i=this.r.toString(16),s=this.g.toString(16),r=this.b.toString(16);return"#"+t(i)+t(s)+t(r)}resolveColor(t){let i=t||"black";return"#"===i.charAt(0)&&(i=i.substr(1,6)),i=i.replace(/ /g,""),i=i.toLowerCase(),i=n.namedColors[i]||i,i}normalizeByte(t){return t<0||isNaN(t)?0:t>255?255:t}padDigit(t){return 1===t.length?"0"+t:t}brightness(t){const i=Math.round;return this.r=i(this.normalizeByte(this.r*t)),this.g=i(this.normalizeByte(this.g*t)),this.b=i(this.normalizeByte(this.b*t)),this}percBrightness(){return Math.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)}isDark(){return this.percBrightness()<180}static fromBytes(t,i,s,r){return new Qr(t,i,s,r??1)}static fromRGB(t,i,s,r){return new Qo(t,i,s,r??1)}static fromHSV(t,i,s,r){return new Gw(t,i,s,r??1)}static fromHSL(t,i,s,r){return new $F(t,i,s,r??1)}}return n.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],n.namedColors=jw,n})(),Ww=function zee(n){return new hr(n).isDark()?Ue:Rt},qF={};class Uee{constructor(e){this._index={},this._values=e?e.slice(0):[];for(let t=0;t<this._values.length;t++)this._index[this._values[t]]=t}values(){return this._values.filter(e=>e!==qF)}has(e){return void 0!==this._index[e]}add(e){this.has(e)||(this._index[e]=this._values.length,this._values.push(e))}delete(e){const t=this._index[e];void 0!==t&&(this._values[t]=qF,delete this._index[e])}clear(){this._index={},this._values=[]}get size(){return this._values.length}}class jee{constructor(e){this._set=new Set(e)}values(){return Array.from(this._set)}has(e){return this._set.has(e)}add(e){this._set.add(e)}delete(e){this._set.delete(e)}clear(){this._set.clear()}get size(){return this._set.size}}function KF(n){return(()=>{let n=!1;return"function"==typeof Set&&(n=new Set([1]).has(1)),n})()?new jee(n):new Uee(n)}function YF(n){throw n}function Ld(n,e){let t=H(e-n,9);if(0===t){if(0===e)return.1;t=Math.abs(e)}const i=Math.pow(10,Math.floor(Math.log(t)/Math.log(10))),s=H(t/i,10);let r=1;return r=s<1.904762?.2:s<4.761904?.5:s<9.523809?1:2,H(i*r,10)}class Nm extends Y{constructor(e,t){super(),this.x=e||0,this.y=t||0}clone(){return new Nm(this.x,this.y)}equals(e){return e&&this.x===e.x&&this.y===e.y}rotate(e,t){const i=Yt(t),s=Math.cos(i),r=Math.sin(i),{x:o,y:a}=e,{x:l,y:c}=this;return this.x=H(o+(l-o)*s+(c-a)*r,3),this.y=H(a+(c-a)*s-(l-o)*r,3),this}multiply(e){return this.x*=e,this.y*=e,this}distanceTo(e){const t=this.x-e.x,i=this.y-e.y;return Math.sqrt(t*t+i*i)}static onCircle(e,t,i){const s=Yt(t);return new Nm(e.x-i*Math.cos(s),e.y-i*Math.sin(s))}}const ue=Nm,Ei=class $ee extends Y{observers(){return this._observers=this._observers||[],this._observers}addObserver(e){return this._observers?this._observers.push(e):this._observers=[e],this}removeObserver(e){const t=this.observers(),i=t.indexOf(e);return-1!==i&&t.splice(i,1),this}trigger(e,t){const i=this._observers;if(i&&!this._suspended)for(let s=0;s<i.length;s++){let r=i[s];r[e]&&r[e](t)}return this}optionsChange(e={}){e.element=this,this.trigger("optionsChange",e)}geometryChange(){this.trigger("geometryChange",{element:this})}suspend(){return this._suspended=(this._suspended||0)+1,this}resume(){return this._suspended=Math.max((this._suspended||0)-1,0),this}_observerField(e,t){this[e]&&this[e].removeObserver(this),this[e]=t,t.addObserver(this)}};function Wee(n){return function(e){return this[n]!==e&&(this[n]=e,this.geometryChange()),this}}function qee(n){return function(){return this[n]}}const Fm=(n,e)=>{const t=class extends n{};return function Kee(n,e){for(let t=0;t<e.length;t++){let i=e[t],s=i.charAt(0).toUpperCase()+i.substring(1,i.length);n["set"+s]=Wee(i),n["get"+s]=qee(i)}}(t.prototype,e),t};function ul(n){return n&&"function"==typeof n.matrix?n.matrix():n}class Ai extends(Fm(Ei,["x","y"])){constructor(e,t){super(),this.x=e||0,this.y=t||0}equals(e){return e&&e.x===this.x&&e.y===this.y}clone(){return new Ai(this.x,this.y)}rotate(e,t){const i=Ai.create(t)||Ai.ZERO;return this.transform(di.rotate(e,i.x,i.y))}translate(e,t){return this.x+=e,this.y+=t,this.geometryChange(),this}translateWith(e){return this.translate(e.x,e.y)}move(e,t){return this.x=this.y=0,this.translate(e,t)}scale(e,t=e){return this.x*=e,this.y*=t,this.geometryChange(),this}scaleCopy(e,t){return this.clone().scale(e,t)}transform(e){const t=ul(e),{x:i,y:s}=this;return this.x=t.a*i+t.c*s+t.e,this.y=t.b*i+t.d*s+t.f,this.geometryChange(),this}transformCopy(e){const t=this.clone();return e&&t.transform(e),t}distanceTo(e){const t=this.x-e.x,i=this.y-e.y;return Math.sqrt(t*t+i*i)}round(e){return this.x=yt(this.x,e),this.y=yt(this.y,e),this.geometryChange(),this}toArray(e){const t=oe(e);return[t?yt(this.x,e):this.x,t?yt(this.y,e):this.y]}toString(e,t=" "){let{x:i,y:s}=this;return oe(e)&&(i=yt(i,e),s=yt(s,e)),i+t+s}static create(e,t){if(oe(e))return e instanceof Ai?e:1===arguments.length&&2===e.length?new Ai(e[0],e[1]):new Ai(e,t)}static min(){let e=ou,t=ou;for(let i=0;i<arguments.length;i++){let s=arguments[i];e=Math.min(s.x,e),t=Math.min(s.y,t)}return new Ai(e,t)}static max(){let e=au,t=au;for(let i=0;i<arguments.length;i++){const s=arguments[i];e=Math.max(s.x,e),t=Math.max(s.y,t)}return new Ai(e,t)}static minPoint(){return new Ai(au,au)}static maxPoint(){return new Ai(ou,ou)}static get ZERO(){return new Ai(0,0)}}const L=Ai;class hl extends(Fm(Ei,["width","height"])){constructor(e,t){super(),this.width=e||0,this.height=t||0}equals(e){return e&&e.width===this.width&&e.height===this.height}clone(){return new hl(this.width,this.height)}toArray(e){const t=oe(e);return[t?yt(this.width,e):this.width,t?yt(this.height,e):this.height]}static create(e,t){if(oe(e))return e instanceof hl?e:1===arguments.length&&2===e.length?new hl(e[0],e[1]):new hl(e,t)}static get ZERO(){return new hl(0,0)}}const dl=hl;class Jo extends Ei{constructor(e=new L,t=new dl,i=0){super(),this.setOrigin(e),this.setSize(t),this.setCornerRadius(i)}clone(){return new Jo(this.origin.clone(),this.size.clone())}equals(e){return e&&e.origin.equals(this.origin)&&e.size.equals(this.size)}setOrigin(e){return this._observerField("origin",L.create(e)),this.geometryChange(),this}getOrigin(){return this.origin}setCornerRadius(e){return this.cornerRadius=Array.isArray(e)?e:[e,e],this.geometryChange(),this}getCornerRadius(){return this.cornerRadius}setSize(e){return this._observerField("size",dl.create(e)),this.geometryChange(),this}getSize(){return this.size}width(){return this.size.width}height(){return this.size.height}topLeft(){return this.origin.clone()}bottomRight(){return this.origin.clone().translate(this.width(),this.height())}topRight(){return this.origin.clone().translate(this.width(),0)}bottomLeft(){return this.origin.clone().translate(0,this.height())}center(){return this.origin.clone().translate(this.width()/2,this.height()/2)}bbox(e){const t=this.topLeft().transformCopy(e),i=this.topRight().transformCopy(e),s=this.bottomRight().transformCopy(e),r=this.bottomLeft().transformCopy(e);return Jo.fromPoints(t,i,s,r)}transformCopy(e){return Jo.fromPoints(this.topLeft().transform(e),this.bottomRight().transform(e))}expand(e,t=e){return this.size.width+=2*e,this.size.height+=2*t,this.origin.translate(-e,-t),this}expandCopy(e,t){return this.clone().expand(e,t)}containsPoint(e){const t=this.origin,i=this.bottomRight();return!(e.x<t.x||e.y<t.y||i.x<e.x||i.y<e.y)}_isOnPath(e,t){const i=this.expandCopy(t,t),s=this.expandCopy(-t,-t);return i.containsPoint(e)&&!s.containsPoint(e)}static fromPoints(){const e=L.min.apply(null,arguments),t=L.max.apply(null,arguments),i=new dl(t.x-e.x,t.y-e.y);return new Jo(e,i)}static union(e,t){return Jo.fromPoints(L.min(e.topLeft(),t.topLeft()),L.max(e.bottomRight(),t.bottomRight()))}static intersect(e,t){const i={left:e.topLeft().x,top:e.topLeft().y,right:e.bottomRight().x,bottom:e.bottomRight().y},s={left:t.topLeft().x,top:t.topLeft().y,right:t.bottomRight().x,bottom:t.bottomRight().y};if(i.left<=s.right&&s.left<=i.right&&i.top<=s.bottom&&s.top<=i.bottom)return Jo.fromPoints(new L(Math.max(i.left,s.left),Math.max(i.top,s.top)),new L(Math.min(i.right,s.right),Math.min(i.bottom,s.bottom)))}}const Be=Jo;class Lm extends Y{constructor(e,t,i,s){super(),this.x1=e||0,this.y1=t||0,this.x2=i||0,this.y2=s||0}equals(e){return this.x1===e.x1&&this.x2===e.x2&&this.y1===e.y1&&this.y2===e.y2}width(){return this.x2-this.x1}height(){return this.y2-this.y1}translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this}move(e,t){const i=this.height(),s=this.width();return N(e)&&(this.x1=e,this.x2=this.x1+s),N(t)&&(this.y1=t,this.y2=this.y1+i),this}wrap(e){return this.x1=Math.min(this.x1,e.x1),this.y1=Math.min(this.y1,e.y1),this.x2=Math.max(this.x2,e.x2),this.y2=Math.max(this.y2,e.y2),this}wrapPoint(e){const t=_n(e),i=t?e[0]:e.x,s=t?e[1]:e.y;return this.wrap(new Lm(i,s,i,s)),this}snapTo(e,t){return(t===Q||!t)&&(this.x1=e.x1,this.x2=e.x2),(t===J||!t)&&(this.y1=e.y1,this.y2=e.y2),this}alignTo(e,t){const i=this.height(),s=this.width(),r=t===ze||t===st?J:Q,o=r===J?i:s;if(t===ye){const a=e.center(),l=this.center();this.x1+=a.x-l.x,this.y1+=a.y-l.y}else this[r+1]=t===ze||t===Oe?e[r+1]-o:e[r+2];return this.x2=this.x1+s,this.y2=this.y1+i,this}shrink(e,t){return this.x2-=e,this.y2-=t,this}expand(e,t){return this.shrink(-e,-t),this}pad(e){const t=at(e);return this.x1-=t.left,this.x2+=t.right,this.y1-=t.top,this.y2+=t.bottom,this}unpad(e){const t=at(e);return t.left=-t.left,t.top=-t.top,t.right=-t.right,t.bottom=-t.bottom,this.pad(t)}clone(){return new Lm(this.x1,this.y1,this.x2,this.y2)}center(){return new ue(this.x1+this.width()/2,this.y1+this.height()/2)}containsPoint(e){return e.x>=this.x1&&e.x<=this.x2&&e.y>=this.y1&&e.y<=this.y2}points(){return[new ue(this.x1,this.y1),new ue(this.x2,this.y1),new ue(this.x2,this.y2),new ue(this.x1,this.y2)]}getHash(){return[this.x1,this.y1,this.x2,this.y2].join(",")}overlaps(e){return!(e.y2<this.y1||this.y2<e.y1||e.x2<this.x1||this.x2<e.x1)}rotate(e){let t=this.width(),i=this.height();const{x:s,y:r}=this.center(),o=Bm(0,0,s,r,e),a=Bm(t,0,s,r,e),l=Bm(t,i,s,r,e),c=Bm(0,i,s,r,e);return t=Math.max(o.x,a.x,l.x,c.x)-Math.min(o.x,a.x,l.x,c.x),i=Math.max(o.y,a.y,l.y,c.y)-Math.min(o.y,a.y,l.y,c.y),this.x2=this.x1+t,this.y2=this.y1+i,this}toRect(){return new Be([this.x1,this.y1],[this.width(),this.height()])}hasSize(){return 0!==this.width()&&0!==this.height()}align(e,t,i){const s=t+1,r=t+2,o=t===Q?Dm:wm,a=this[o]();Se(i,[Oe,ze])?(this[s]=e[s],this[r]=this[s]+a):Se(i,[We,st])?(this[r]=e[r],this[s]=this[r]-a):i===ye&&(this[s]=e[s]+(e[o]()-a)/2,this[r]=this[s]+a)}}function Bm(n,e,t,i,s){const r=Yt(s);return new ue(t+(n-t)*Math.cos(r)+(e-i)*Math.sin(r),i-(n-t)*Math.sin(r)+(e-i)*Math.cos(r))}const z=Lm;class qw extends Y{constructor(e,t,i,s,r){super(),this.center=e,this.innerRadius=t,this.radius=i,this.startAngle=s,this.angle=r}clone(){return new qw(this.center,this.innerRadius,this.radius,this.startAngle,this.angle)}middle(){return this.startAngle+this.angle/2}setRadius(e,t){return t?this.innerRadius=e:this.radius=e,this}point(e,t){const i=Yt(e),s=Math.cos(i),r=Math.sin(i),o=t?this.innerRadius:this.radius,a=H(this.center.x-s*o,3),l=H(this.center.y-r*o,3);return new ue(a,l)}adjacentBox(e,t,i){const s=this.clone().expand(e),r=s.middle(),o=s.point(r),a=t/2,l=i/2,c=Math.sin(Yt(r)),u=Math.cos(Yt(r));let h=o.x-a,d=o.y-l;return Math.abs(c)<.9&&(h+=a*-u/Math.abs(u)),Math.abs(u)<.9&&(d+=l*-c/Math.abs(c)),new z(h,d,h+t,d+i)}containsPoint(e){const t=this.center,i=this.innerRadius,s=this.radius,r=this.startAngle,o=this.startAngle+this.angle,a=e.x-t.x,l=e.y-t.y,c=new ue(a,l),u=this.point(r),h=new ue(u.x-t.x,u.y-t.y),d=this.point(o),f=new ue(d.x-t.x,d.y-t.y),p=H(a*a+l*l,3);return(h.equals(c)||yF(h,c))&&!yF(f,c)&&p>=i*i&&p<=s*s}getBBox(){const e=new z(Ot,Ot,Kt,Kt),t=H(this.startAngle%360),i=H((t+this.angle)%360),s=this.innerRadius,r=[0,90,180,270,t,i].sort(Yee),o=r.indexOf(t),a=r.indexOf(i);let l;l=t===i?r:o<a?r.slice(o,a+1):[].concat(r.slice(0,a+1),r.slice(o,r.length));for(let c=0;c<l.length;c++){let u=this.point(l[c]);e.wrapPoint(u),e.wrapPoint(u,s)}return s||e.wrapPoint(this.center),e}expand(e){return this.radius+=e,this}}function Yee(n,e){return n-e}const Vm=qw,Zee=[].push,Xee=[].pop,Qee=[].splice,Jee=[].shift,XF=[].slice,ete=[].unshift,QF=class tte extends Ei{constructor(e=[]){super(),this.length=0,this._splice(0,e.length,e)}elements(e){return e?(this._splice(0,this.length,e),this._change(),this):this.slice(0)}push(){const e=arguments,t=Zee.apply(this,e);return this._add(e),t}slice(){return XF.call(this)}pop(){const e=this.length,t=Xee.apply(this);return e&&this._remove([t]),t}splice(e,t){const i=XF.call(arguments,2),s=this._splice(e,t,i);return this._change(),s}shift(){const e=this.length,t=Jee.apply(this);return e&&this._remove([t]),t}unshift(){const e=arguments,t=ete.apply(this,e);return this._add(e),t}indexOf(e){const t=this.length;for(let i=0;i<t;i++)if(this[i]===e)return i;return-1}_splice(e,t,i){const s=Qee.apply(this,[e,t].concat(i));return this._clearObserver(s),this._setObserver(i),s}_add(e){this._setObserver(e),this._change()}_remove(e){this._clearObserver(e),this._change()}_setObserver(e){for(let t=0;t<e.length;t++)e[t].addObserver(this)}_clearObserver(e){for(let t=0;t<e.length;t++)e[t].removeObserver(this)}_change(){}},JF=class nte extends QF{_change(){this.geometryChange()}},ite={}.toString;class Bd extends Ei{constructor(e,t=""){super(),this.prefix=t;for(let i in e){let s=e[i];s=this._wrap(s,i),this[i]=s}}get(e){const t=e.split(".");let i=this;for(;t.length&&i;)i=i[t.shift()];return i}set(e,t){this.get(e)!==t&&(this._set(e,this._wrap(t,e)),this.optionsChange({field:this.prefix+e,value:t}))}_set(e,t){const i=e.indexOf(".")>=0;let s=this,r=e;if(i){const o=r.split(".");let a=this.prefix;for(;o.length>1;){r=o.shift(),a+=r+".";let l=s[r];l||(l=new Bd({},a),l.addObserver(this),s[r]=l),s=l}r=o[0]}s._clear(r),s[r]=t}_clear(e){const t=this[e];t&&t.removeObserver&&t.removeObserver(this)}_wrap(e,t){const i=ite.call(e);let s=e;return null!==s&&oe(s)&&"[object Object]"===i&&(!(e instanceof Bd)&&!(e instanceof Y)&&(s=new Bd(s,this.prefix+t+".")),s.addObserver(this)),s}}const Kw=Bd;class Yw extends Ei{constructor(e=di.unit()){super(),this._matrix=e}clone(){return new Yw(this._matrix.clone())}equals(e){return e&&e._matrix.equals(this._matrix)}translate(e,t){return this._matrix=this._matrix.multiplyCopy(di.translate(e,t)),this._optionsChange(),this}scale(e,t=e,i=null){let s=i;return s&&(s=L.create(s),this._matrix=this._matrix.multiplyCopy(di.translate(s.x,s.y))),this._matrix=this._matrix.multiplyCopy(di.scale(e,t)),s&&(this._matrix=this._matrix.multiplyCopy(di.translate(-s.x,-s.y))),this._optionsChange(),this}rotate(e,t){const i=L.create(t)||L.ZERO;return this._matrix=this._matrix.multiplyCopy(di.rotate(e,i.x,i.y)),this._optionsChange(),this}multiply(e){const t=ul(e);return this._matrix=this._matrix.multiplyCopy(t),this._optionsChange(),this}matrix(e){return e?(this._matrix=e,this._optionsChange(),this):this._matrix}_optionsChange(){this.optionsChange({field:"transform",value:this})}}const eL=Yw;function Xe(n){return null===n?null:n instanceof eL?n:new eL(n)}const dr=class ste extends Ei{get nodeType(){return"Rect"}constructor(e){super(),this._initOptions(e)}_initOptions(e={}){const{clip:t,transform:i}=e;i&&(e.transform=Xe(i)),t&&!t.id&&(t.id=Tm()),this.options=new Kw(e),this.options.addObserver(this)}transform(e){if(!oe(e))return this.options.get("transform");this.options.set("transform",Xe(e))}parentTransform(){let t,e=this;for(;e.parent;){e=e.parent;let i=e.transform();i&&(t=i.matrix().multiplyCopy(t||di.unit()))}if(t)return Xe(t)}currentTransform(e=this.parentTransform()){const i=ul(this.transform());let r,s=ul(e);if(r=i&&s?s.multiplyCopy(i):i||s,r)return Xe(r)}visible(e){return oe(e)?(this.options.set("visible",e),this):!1!==this.options.get("visible")}clip(e){const t=this.options;return oe(e)?(e&&!e.id&&(e.id=Tm()),t.set("clip",e),this):t.get("clip")}opacity(e){return oe(e)?(this.options.set("opacity",e),this):Fw(this.options.get("opacity"),1)}clippedBBox(e){const t=this._clippedBBox(e);if(t){const i=this.clip();return i?Be.intersect(t,i.bbox(e)):t}}containsPoint(e,t){if(this.visible()){const i=this.currentTransform(t);let s=e;return i&&(s=e.transformCopy(i.matrix().invert())),this._hasFill()&&this._containsPoint(s)||this._isOnPath&&this._hasStroke()&&this._isOnPath(s)}return!1}_hasFill(){const e=this.options.fill;return e&&!ll(e.color)}_hasStroke(){const e=this.options.stroke;return e&&e.width>0&&!ll(e.color)}_clippedBBox(e){return this.bbox(e)}},uu=n=>class extends n{fill(e,t){const i=this.options;if(oe(e)){if(e&&"Gradient"!==e.nodeType){const s={color:e};oe(t)&&(s.opacity=t),i.set("fill",s)}else i.set("fill",e);return this}return i.get("fill")}stroke(e,t,i){return oe(e)?(this.options.set("stroke.color",e),oe(t)&&this.options.set("stroke.width",t),oe(i)&&this.options.set("stroke.opacity",i),this):this.options.get("stroke")}},ote=di.IDENTITY.toString(),Vd=n=>class extends n{bbox(e){const t=ul(this.currentTransform(e)),i=t?t.toString():ote;let s;this._bboxCache&&this._matrixHash===i?s=this._bboxCache.clone():(s=this._bbox(t),this._bboxCache=s?s.clone():null,this._matrixHash=i);const r=this.options.get("stroke.width");return r&&s&&s.expand(r/2),s}geometryChange(){delete this._bboxCache,this.trigger("geometryChange",{element:this})}};function tL(n,e,t=10){return 0===yt(Math.abs(n-e),t)}function Zw(n,e,t){return n<e||tL(n,e,t)}function nL(n,e,t,i){let s=0,r=0;return i&&(s=Math.atan2(i.c*t,i.a*e),0!==i.b&&(r=Math.atan2(i.d*t,i.b*e))),{x:s,y:r}}const Hm=Math.pow,cte=["radiusX","radiusY","startAngle","endAngle","anticlockwise"];class zm extends(Fm(Ei,cte)){constructor(e=new L,t={}){super(),this.setCenter(e),this.radiusX=t.radiusX,this.radiusY=t.radiusY||t.radiusX,this.startAngle=t.startAngle,this.endAngle=t.endAngle,this.anticlockwise=t.anticlockwise||!1,this.xRotation=t.xRotation}clone(){return new zm(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})}setCenter(e){return this._observerField("center",L.create(e)),this.geometryChange(),this}getCenter(){return this.center}pointAt(e){const t=this.center,i=ur(e);return new L(t.x+this.radiusX*Math.cos(i),t.y+this.radiusY*Math.sin(i))}curvePoints(){const e=this.startAngle,t=this.anticlockwise?-1:1,i=[this.pointAt(e)],s=this._arcInterval(),r=s.endAngle-s.startAngle,o=Math.ceil(r/45),a=r/o;let c,l=e;this.xRotation&&(c=Xe().rotate(this.xRotation,this.center));for(let u=1;u<=o;u++){const h=l+t*a,d=this._intervalCurvePoints(l,h,c);i.push(d.cp1,d.cp2,d.p2),l=h}return i}bbox(e){const t=this._arcInterval(),i=t.startAngle,s=t.endAngle,r=nL(0,this.radiusX,this.radiusY,e),o=Zo(r.x),a=Zo(r.y),l=this.pointAt(s).transformCopy(e);let c=sL(o,i),u=sL(a,i),h=this.pointAt(i).transformCopy(e),d=L.min(h,l),f=L.max(h,l);for(;c<s||u<s;){let p,g;c<s&&(p=this.pointAt(c).transformCopy(e),c+=90),u<s&&(g=this.pointAt(u).transformCopy(e),u+=90),h=new L(p.x,g.y),d=L.min(d,h),f=L.max(f,h)}return Be.fromPoints(d,f)}_arcInterval(){let{startAngle:e,endAngle:t,anticlockwise:i}=this;if(i){let s=e;e=t,t=s}return(e>t||i&&e===t)&&(t+=360),{startAngle:e,endAngle:t}}_intervalCurvePoints(e,t,i){const s=this.pointAt(e),r=this.pointAt(t),o=this._derivativeAt(e),a=this._derivativeAt(t),l=(ur(t)-ur(e))/3,c=new L(s.x+l*o.x,s.y+l*o.y),u=new L(r.x-l*a.x,r.y-l*a.y);return i&&(s.transform(i),r.transform(i),c.transform(i),u.transform(i)),{p1:s,cp1:c,cp2:u,p2:r}}_derivativeAt(e){const t=ur(e);return new L(-this.radiusX*Math.sin(t),this.radiusY*Math.cos(t))}containsPoint(e){const t=this._arcInterval(),i=t.endAngle-t.startAngle,{center:s,radiusX:r,radiusY:o}=this,a=s.distanceTo(e),l=Math.atan2(e.y-s.y,e.x-s.x),c=r*o/Math.sqrt(Hm(r,2)*Hm(Math.sin(l),2)+Hm(o,2)*Hm(Math.cos(l),2)),u=this.pointAt(this.startAngle).round(10),h=this.pointAt(this.endAngle).round(10),d=function ate(n,e,t,i){const s=e.x-n.x,r=i.x-t.x,o=e.y-n.y,a=i.y-t.y,l=n.x-t.x,c=n.y-t.y,u=s*a-r*o,h=(s*c-o*l)/u,d=(r*c-a*l)/u;if(h>=0&&h<=1&&d>=0&&d<=1)return new L(n.x+d*s,n.y+d*o)}(s,e.round(10),u,h);let f;if(i<180)f=d&&Zw(s.distanceTo(d),a)&&Zw(a,c);else{let p=iL(s.x,s.y,r,o,e.x,e.y);360!==p&&(p=(360+p)%360);let g=t.startAngle<=p&&p<=t.endAngle;f=g&&Zw(a,c)||!g&&(!d||d.equals(e))}return f}_isOnPath(e,t){const i=this._arcInterval(),s=this.center;let r=iL(s.x,s.y,this.radiusX,this.radiusY,e.x,e.y);return 360!==r&&(r=(360+r)%360),i.startAngle<=r&&r<=i.endAngle&&this.pointAt(r).distanceTo(e)<=t}static fromPoints(e,t,i,s,r,o,a){const l=function ute(n){let{x1:e,y1:t,x2:i,y2:s,rx:r,ry:o,largeArc:a,swipe:l,rotation:c=0}=n;const u=ur(c),h=Math.cos(u),d=Math.sin(u),f=h*(e-i)/2+d*(t-s)/2,p=-d*(e-i)/2+h*(t-s)/2,g=a!==l?1:-1,y=Math.pow(f,2),b=Math.pow(p,2);let w=Math.pow(r,2),D=Math.pow(o,2),E=y/w+b/D;E>1&&(E=Math.sqrt(y/w+b/D),r*=E,w=Math.pow(r,2),o*=E,D=Math.pow(o,2));let V=g*Math.sqrt((w*D-w*b-D*y)/(w*b+D*y));isNaN(V)&&(V=0);const q=V*(r*p)/o,re=o*f*-V/r,Me=h*q-d*re+(e+i)/2,gt=d*q+h*re+(t+s)/2,Ne=(f-q)/r,hn=(p-re)/o,Zt=-(f+q)/r,Cn=-(p+re)/o,Gs=(hn>=0?1:-1)*Zo(Math.acos(Ne/Math.sqrt(Ne*Ne+hn*hn))),wr=yt((Ne*Zt+hn*Cn)/(Math.sqrt(Ne*Ne+hn*hn)*Math.sqrt(Zt*Zt+Cn*Cn)),10);let G=(Ne*Cn-hn*Zt>=0?1:-1)*Zo(Math.acos(wr));!l&&G>0&&(G-=360),l&&G<0&&(G+=360);let te=Gs+G;const de=te>=0?1:-1;return te=Math.abs(te)%360*de,{center:new L(Me,gt),startAngle:Gs,endAngle:te,radiusX:r,radiusY:o,xRotation:c}}({x1:e.x,y1:e.y,x2:t.x,y2:t.y,rx:i,ry:s,largeArc:r,swipe:o,rotation:a});return new zm(l.center,{startAngle:l.startAngle,endAngle:l.endAngle,radiusX:l.radiusX,radiusY:l.radiusY,xRotation:l.xRotation,anticlockwise:0===o})}}function iL(n,e,t,i,s,r){const o=yt((s-n)/t,3),a=yt((r-e)/i,3);return yt(Zo(Math.atan2(a,o)))}function sL(n,e){let t=n;for(;t<e;)t+=90;return t}const ea=zm;function rL(n,e,t){const i=Zo(Math.atan2(e.y-n.y,e.x-n.x));return t.transformCopy(Xe().rotate(-i,n)).x<n.x}function Um(n,e,t){const i=1-n;return Math.pow(i,3)*t[0][e]+3*Math.pow(i,2)*n*t[1][e]+3*Math.pow(n,2)*i*t[2][e]+Math.pow(n,3)*t[3][e]}function oL(n,e){return[3*n[1][e]-n[0][e]-3*n[2][e]+n[3][e],3*(n[0][e]-2*n[1][e]+n[2][e]),3*(-n[0][e]+n[1][e]),n[0][e]]}class ta extends Y{constructor(e=0,t=0){super(),this.real=e,this.img=t}add(e){return new ta(yt(this.real+e.real,10),yt(this.img+e.img,10))}addConstant(e){return new ta(this.real+e,this.img)}negate(){return new ta(-this.real,-this.img)}multiply(e){return new ta(this.real*e.real-this.img*e.img,this.real*e.img+this.img*e.real)}multiplyConstant(e){return new ta(this.real*e,this.img*e)}nthRoot(e){const t=Math.atan2(this.img,this.real),i=Math.sqrt(Math.pow(this.img,2)+Math.pow(this.real,2)),s=Math.pow(i,1/e);return new ta(s*Math.cos(t/e),s*Math.sin(t/e))}equals(e){return this.real===e.real&&this.img===e.img}isReal(){return 0===this.img}}const Hd=ta;function aL(n){return n<0?-1:1}function lL(n,e,t,i){if(0===n)return function hte(n,e,t){const i=Math.sqrt(Math.pow(e,2)-4*n*t);return[(-e+i)/(2*n),(-e-i)/(2*n)]}(e,t,i);const s=(3*n*t-Math.pow(e,2))/(3*Math.pow(n,2)),r=(2*Math.pow(e,3)-9*n*e*t+27*Math.pow(n,2)*i)/(27*Math.pow(n,3)),o=Math.pow(s/3,3)+Math.pow(r/2,2),a=new Hd(0,1),l=-e/(3*n);let c,u,h,d,f,p,g;o<0?(c=new Hd(-r/2,Math.sqrt(-o)).nthRoot(3),u=new Hd(-r/2,-Math.sqrt(-o)).nthRoot(3)):(c=-r/2+Math.sqrt(o),c=new Hd(aL(c)*Math.pow(Math.abs(c),1/3)),u=-r/2-Math.sqrt(o),u=new Hd(aL(u)*Math.pow(Math.abs(u),1/3))),h=c.add(u),p=c.add(u).multiplyConstant(-.5),g=c.add(u.negate()).multiplyConstant(Math.sqrt(3)/2),d=p.add(a.multiply(g)),f=p.add(a.negate().multiply(g));const y=[];return h.isReal()&&y.push(yt(h.real+l,10)),d.isReal()&&y.push(yt(d.real+l,10)),f.isReal()&&y.push(yt(f.real+l,10)),y}function jm(n,e,t,i,s){const r=oL(n,i),o=lL(r[0],r[1],r[2],r[3]-e[i]);let a;for(let l=0;l<o.length;l++)if(0<=o[l]&&o[l]<=1&&(a=Um(o[l],t,n),Math.abs(a-e[t])<=s))return!0}function cL(n,e,t){let i;if(n.x!==e.x){const s=Math.min(n.x,e.x),r=Math.max(n.x,e.x),o=Math.min(n.y,e.y),a=Math.max(n.y,e.y),l=s<=t.x&&t.x<r;i=o===a?t.y<=o&&l:l&&(a-o)*((n.x-e.x)*(n.y-e.y)>0?t.x-s:r-t.x)/(r-s)+o-t.y>=0}return i?1:0}function fte(n){const e="_"+n;return function(t){return oe(t)?(this._observerField(e,L.create(t)),this.geometryChange(),this):this[e]}}const Gm=(n,e)=>{const t=class extends n{};return function pte(n,e){for(let t=0;t<e.length;t++)n[e[t]]=fte(e[t])}(t.prototype,e),t},gte=["anchor","controlIn","controlOut"];class mte extends(Gm(Ei,gte)){constructor(e,t,i){super(),this.anchor(e||new L),this.controlIn(t),this.controlOut(i)}bboxTo(e,t){const i=this.anchor().transformCopy(t),s=e.anchor().transformCopy(t);let r;return r=this.controlOut()&&e.controlIn()?this._curveBoundingBox(i,this.controlOut().transformCopy(t),e.controlIn().transformCopy(t),s):this._lineBoundingBox(i,s),r}_lineBoundingBox(e,t){return Be.fromPoints(e,t)}_curveBoundingBox(e,t,i,s){const r=[e,t,i,s],o=this._curveExtremesFor(r,"x"),a=this._curveExtremesFor(r,"y"),l=uL([o.min,o.max,e.x,s.x]),c=uL([a.min,a.max,e.y,s.y]);return Be.fromPoints(new L(l.min,c.min),new L(l.max,c.max))}_curveExtremesFor(e,t){const i=this._curveExtremes(e[0][t],e[1][t],e[2][t],e[3][t]);return{min:Um(i.min,t,e),max:Um(i.max,t,e)}}_curveExtremes(e,t,i,s){const r=e-3*t+3*i-s,o=-2*(e-2*t+i),a=e-t,l=Math.sqrt(o*o-4*r*a);let c=0,u=1;0===r?0!==o&&(c=u=-a/o):isNaN(l)||(c=(-o+l)/(2*r),u=(-o-l)/(2*r));let h=Math.max(Math.min(c,u),0);(h<0||h>1)&&(h=0);let d=Math.min(Math.max(c,u),1);return(d>1||d<0)&&(d=1),{min:h,max:d}}_intersectionsTo(e,t){let i;return i=this.controlOut()&&e.controlIn()?function dte(n,e,t){const i=oL(n,"x"),s=lL(i[0],i[1],i[2],i[3]-e.x);let r,o,a=0;for(let l=0;l<s.length;l++)r=Um(s[l],"y",n),o=tL(r,e.y)||r>e.y,o&&((0===s[l]||1===s[l])&&t.bottomRight().x>e.x||0<s[l]&&s[l]<1)&&a++;return a}([this.anchor(),this.controlOut(),e.controlIn(),e.anchor()],t,this.bboxTo(e)):cL(this.anchor(),e.anchor(),t),i}_isOnCurveTo(e,t,i,s){if(this.bboxTo(e).expand(i,i).containsPoint(t)){const o=this.anchor(),a=this.controlOut(),l=e.controlIn(),c=e.anchor();if("start"===s&&o.distanceTo(t)<=i)return!rL(o,a,t);if("end"===s&&c.distanceTo(t)<=i)return!rL(c,l,t);const u=[o,a,l,c];if(jm(u,t,"x","y",i)||jm(u,t,"y","x",i))return!0;const h=Xe().rotate(45,t),d=[o.transformCopy(h),a.transformCopy(h),l.transformCopy(h),c.transformCopy(h)];return jm(d,t,"x","y",i)||jm(d,t,"y","x",i)}}_isOnLineTo(e,t,i){const s=this.anchor(),r=e.anchor(),o=Zo(Math.atan2(r.y-s.y,r.x-s.x));return new Be([s.x,s.y-i/2],[s.distanceTo(r),i]).containsPoint(t.transformCopy(Xe().rotate(-o,s)))}_isOnPathTo(e,t,i,s){let r;return r=this.controlOut()&&e.controlIn()?this._isOnCurveTo(e,t,i/2,s):this._isOnLineTo(e,t,i),r}}function uL(n){let e=n.length,t=ou,i=au;for(let s=0;s<e;s++)i=Math.max(i,n[s]),t=Math.min(t,n[s]);return{min:t,max:i}}const Ns=mte,yte={l:function(n,e){const{parameters:t,position:i}=e;for(let s=0;s<t.length;s+=2){let r=new L(t[s],t[s+1]);e.isRelative&&r.translateWith(i),n.lineTo(r.x,r.y),i.x=r.x,i.y=r.y}},c:function(n,e){const{parameters:t,position:i}=e;for(let s=0;s<t.length;s+=6){let r=new L(t[s],t[s+1]),o=new L(t[s+2],t[s+3]),a=new L(t[s+4],t[s+5]);e.isRelative&&(o.translateWith(i),r.translateWith(i),a.translateWith(i)),n.curveTo(r,o,a),i.x=a.x,i.y=a.y}},v:function(n,e){hL(e.parameters,!0,e.isRelative?0:e.position.x),this.l(n,e)},h:function(n,e){hL(e.parameters,!1,e.isRelative?0:e.position.y),this.l(n,e)},a:function(n,e){const{parameters:t,position:i}=e;for(let s=0;s<t.length;s+=7){const r=t[s],o=t[s+1],a=t[s+2],l=t[s+3],c=t[s+4],u=new L(t[s+5],t[s+6]);e.isRelative&&u.translateWith(i),(i.x!==u.x||i.y!==u.y)&&(n.arcTo(u,r,o,l,c,a),i.x=u.x,i.y=u.y)}},s:function(n,e){const{parameters:t,position:i,previousCommand:s}=e;let r;("s"===s||"c"===s)&&(r=Mi(Mi(n.paths).segments).controlIn());for(let o=0;o<t.length;o+=4){let c,a=new L(t[o],t[o+1]),l=new L(t[o+2],t[o+3]);e.isRelative&&(a.translateWith(i),l.translateWith(i)),c=r?dL(r,i):i.clone(),r=a,n.curveTo(c,a,l),i.x=l.x,i.y=l.y}},q:function(n,e){const{parameters:t,position:i}=e;for(let s=0;s<t.length;s+=4){let r=new L(t[s],t[s+1]),o=new L(t[s+2],t[s+3]);e.isRelative&&(r.translateWith(i),o.translateWith(i));let a=pL(i,r,o);n.curveTo(a.controlOut,a.controlIn,o),i.x=o.x,i.y=o.y}},t:function(n,e){const{parameters:t,position:i,previousCommand:s}=e;let r;("q"===s||"t"===s)&&(r=Mi(Mi(n.paths).segments).controlIn().clone().translateWith(i.scaleCopy(-1/3)).scale(1.5));for(let o=0;o<t.length;o+=2){let a=new L(t[o],t[o+1]);e.isRelative&&a.translateWith(i),r=r?dL(r,i):i.clone();let l=pL(i,r,a);n.curveTo(l.controlOut,l.controlIn,a),i.x=a.x,i.y=a.y}}};function hL(n,e,t){const i=e?0:1;for(let s=0;s<n.length;s+=2)n.splice(s+i,0,t)}function dL(n,e){if(n&&e)return e.scaleCopy(2).translate(-n.x,-n.y)}const fL=1/3;function pL(n,e,t){const i=e.clone().scale(.6666666666666666);return{controlOut:i.clone().translateWith(n.scaleCopy(fL)),controlIn:i.translateWith(t.scaleCopy(fL))}}const gL=yte,vte=/([a-df-z]{1})([^a-df-z]*)(z)?/gi,_te=/[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g,Xw=function wte(n,e){const t=new L;let i;return e.replace(vte,(s,r,o,a)=>{let l=r.toLowerCase();const c=l===r,u=function xte(n){const e=[];return n.replace(_te,function(t,i){e.push(parseFloat(i))}),e}(o.trim());if("m"===l&&(c?(t.x+=u[0],t.y+=u[1]):(t.x=u[0],t.y=u[1]),n.moveTo(t.x,t.y),u.length>2&&(l="l",u.splice(0,2))),gL[l])gL[l](n,{parameters:u,position:t,isRelative:c,previousCommand:i}),a&&"z"===a.toLowerCase()&&n.close();else if("m"!==l)throw new Error("Error while parsing SVG path. Unsupported command: "+l);i=l}),n};function $m(n,e,t){let i;for(let s=0;s<n.length;s++){let r=n[s];if(r.visible()){let o=e?r.bbox(t):r.rawBBox();o&&(i=i?Be.union(i,o):o)}}return i}function yL(n,e){let t;for(let i=0;i<n.length;i++){let s=n[i];if(s.visible()){let r=s.clippedBBox(e);r&&(t=t?Be.union(t,r):r)}}return t}class ae extends(uu(Vd(dr))){static parse(e,t){return fr.parse(e,t)}get nodeType(){return"Path"}constructor(e){super(e),this.segments=new JF,this.segments.addObserver(this),oe(this.options.stroke)||(this.stroke("#000"),oe(this.options.stroke.lineJoin)||this.options.set("stroke.lineJoin","miter"))}moveTo(e,t){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(e,t),this}lineTo(e,t){const i=oe(t)?new L(e,t):e,s=new Ns(i);return this.segments.push(s),this}curveTo(e,t,i){if(this.segments.length>0){const s=Mi(this.segments),r=new Ns(i,t);this.suspend(),s.controlOut(e),this.resume(),this.segments.push(r)}return this}arc(e,t,i,s,r){if(this.segments.length>0){const a=Mi(this.segments).anchor(),l=ur(e),c=new L(a.x-i*Math.cos(l),a.y-s*Math.sin(l)),u=new ea(c,{startAngle:e,endAngle:t,radiusX:i,radiusY:s,anticlockwise:r});this._addArcSegments(u)}return this}arcTo(e,t,i,s,r,o){if(this.segments.length>0){const l=Mi(this.segments).anchor(),c=ea.fromPoints(l,L.create(e),t,i,s,r,o);this._addArcSegments(c)}return this}_addArcSegments(e){this.suspend();const t=e.curvePoints();for(let i=1;i<t.length;i+=3)this.curveTo(t[i],t[i+1],t[i+2]);this.resume(),this.geometryChange()}close(){return this.options.closed=!0,this.geometryChange(),this}rawBBox(){return this._bbox()}_containsPoint(e){const t=this.segments,i=t.length;let r,o,s=0;for(let a=1;a<i;a++)r=t[a-1],o=t[a],s+=r._intersectionsTo(o,e);return(this.options.closed||!t[0].anchor().equals(t[i-1].anchor()))&&(s+=cL(t[0].anchor(),t[i-1].anchor(),e)),s%2!=0}_isOnPath(e,t){const i=this.segments,s=i.length,r=t||this.options.stroke.width;if(s>1){if(i[0]._isOnPathTo(i[1],e,r,"start"))return!0;for(let o=2;o<=s-2;o++)if(i[o-1]._isOnPathTo(i[o],e,r))return!0;if(i[s-2]._isOnPathTo(i[s-1],e,r,"end"))return!0}return!1}_bbox(e){const t=this.segments,i=t.length;let s;if(1===i){let r=t[0].anchor().transformCopy(e);s=new Be(r,dl.ZERO)}else if(i>0)for(let r=1;r<i;r++){let o=t[r-1].bboxTo(t[r],e);s=s?Be.union(s,o):o}return s}static fromRect(e,t){const i=new ae(t);let[s,r]=e.cornerRadius;if(0===s&&0===r)i.moveTo(e.topLeft()).lineTo(e.topRight()).lineTo(e.bottomRight()).lineTo(e.bottomLeft()).close();else{const o=e.origin,{x:a,y:l}=o,c=e.width(),u=e.height();s=Em(s,0,c/2),r=Em(r,0,u/2),i.moveTo(a+s,l).lineTo(a+c-s,l).arcTo([a+c,l+r],s,r,!1).lineTo(a+c,l+u-r).arcTo([a+c-s,l+u],s,r,!1).lineTo(a+s,l+u).arcTo([a,l+u-r],s,r,!1).lineTo(a,l+r).arcTo([a+s,l],s,r,!1)}return i}static fromPoints(e,t){if(e){const i=new ae(t);for(let s=0;s<e.length;s++){let r=L.create(e[s]);r&&(0===s?i.moveTo(r):i.lineTo(r))}return i}}static fromArc(e,t){const i=new ae(t),s=e.startAngle,r=e.pointAt(s);return i.moveTo(r.x,r.y),i.arc(s,e.endAngle,e.radiusX,e.radiusY,e.anticlockwise),i}}class fr extends(uu(Vd(dr))){static parse(e,t){const i=new fr(t);return Xw(i,e)}get nodeType(){return"MultiPath"}constructor(e){super(e),this.paths=new JF,this.paths.addObserver(this),oe(this.options.stroke)||this.stroke("#000")}moveTo(e,t){const i=new ae;return i.moveTo(e,t),this.paths.push(i),this}lineTo(e,t){return this.paths.length>0&&Mi(this.paths).lineTo(e,t),this}curveTo(e,t,i){return this.paths.length>0&&Mi(this.paths).curveTo(e,t,i),this}arc(e,t,i,s,r){return this.paths.length>0&&Mi(this.paths).arc(e,t,i,s,r),this}arcTo(e,t,i,s,r,o){return this.paths.length>0&&Mi(this.paths).arcTo(e,t,i,s,r,o),this}close(){return this.paths.length>0&&Mi(this.paths).close(),this}_bbox(e){return $m(this.paths,!0,e)}rawBBox(){return $m(this.paths,!1)}_containsPoint(e){const t=this.paths;for(let i=0;i<t.length;i++)if(t[i]._containsPoint(e))return!0;return!1}_isOnPath(e){const t=this.paths,i=this.options.stroke.width;for(let s=0;s<t.length;s++)if(t[s]._isOnPath(e,i))return!0;return!1}_clippedBBox(e){return yL(this.paths,this.currentTransform(e))}}class Qw extends Y{createRing(e,t){const i=e.startAngle+180;let s=e.angle+i;e.angle>0&&i===s&&(s+=.001);const r=new L(e.center.x,e.center.y),o=Math.max(e.radius,0),a=Math.max(e.innerRadius,0),l=new ea(r,{startAngle:i,endAngle:s,radiusX:o,radiusY:o}),c=ae.fromArc(l,t).close();if(a){l.radiusX=l.radiusY=a;const u=l.pointAt(s);c.lineTo(u.x,u.y),c.arc(s,i,a,a,!0)}else c.lineTo(r.x,r.y);return c}}Qw.current=new Qw;const Wm=Qw,vL=Math.PI/2;class Jw extends(Fm(Ei,["radius"])){constructor(e=new L,t=0){super(),this.setCenter(e),this.setRadius(t)}setCenter(e){return this._observerField("center",L.create(e)),this.geometryChange(),this}getCenter(){return this.center}equals(e){return e&&e.center.equals(this.center)&&e.radius===this.radius}clone(){return new Jw(this.center.clone(),this.radius)}pointAt(e){return this._pointAt(ur(e))}bbox(e){const t=nL(0,this.radius,this.radius,e);let i=L.maxPoint(),s=L.minPoint();for(let r=0;r<4;r++){let o=this._pointAt(t.x+r*vL).transformCopy(e),a=this._pointAt(t.y+r*vL).transformCopy(e),l=new L(o.x,a.y);i=L.min(i,l),s=L.max(s,l)}return Be.fromPoints(i,s)}_pointAt(e){const{center:t,radius:i}=this;return new L(t.x+i*Math.cos(e),t.y+i*Math.sin(e))}containsPoint(e){const{center:t,radius:i}=this;return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<=Math.pow(i,2)}_isOnPath(e,t){const{center:i,radius:s}=this,r=i.distanceTo(e);return s-t<=r&&r<=s+t}}const ts=Jw;function Dte(n){const e="_"+n;return function(t){return oe(t)?(this._observerField(e,t),this.geometryChange(),this):this[e]}}const qm=(n,e=["geometry"])=>{const t=class extends n{};return function Ste(n,e){for(let t=0;t<e.length;t++)n[e[t]]=Dte(e[t])}(t.prototype,e),t};class Mte extends(uu(Vd(qm(dr)))){get nodeType(){return"Circle"}constructor(e=new ts,t={}){super(t),this.geometry(e),oe(this.options.stroke)||this.stroke("#000")}rawBBox(){return this._geometry.bbox()}_bbox(e){return this._geometry.bbox(e)}_containsPoint(e){return this.geometry().containsPoint(e)}_isOnPath(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)}}const eo=Mte,eC=(n,e)=>class extends n{traverse(t){const i=this[e];for(let s=0;s<i.length;s++){let r=i[s];r.traverse?r.traverse(t):t(r)}return this}};class Ete extends(eC(dr,"children")){get nodeType(){return"Group"}constructor(e){super(e),this.children=[]}childrenChange(e,t,i){this.trigger("childrenChange",{action:e,items:t,index:i})}append(){return Id(this.children,arguments),this._reparent(arguments,this),this.childrenChange("add",arguments),this}insert(e,t){return this.children.splice(e,0,t),t.parent=this,this.childrenChange("add",[t],e),this}insertAt(e,t){return this.insert(t,e)}remove(e){const t=this.children.indexOf(e);return t>=0&&(this.children.splice(t,1),e.parent=null,this.childrenChange("remove",[e],t)),this}removeAt(e){if(0<=e&&e<this.children.length){let t=this.children[e];this.children.splice(e,1),t.parent=null,this.childrenChange("remove",[t],e)}return this}clear(){const e=this.children;return this.children=[],this._reparent(e,null),this.childrenChange("remove",e,0),this}bbox(e){return $m(this.children,!0,this.currentTransform(e))}rawBBox(){return $m(this.children,!1)}_clippedBBox(e){return yL(this.children,this.currentTransform(e))}currentTransform(e){return dr.prototype.currentTransform.call(this,e)||null}containsPoint(e,t){if(this.visible()){const i=this.children,s=this.currentTransform(t);for(let r=0;r<i.length;r++)if(i[r].containsPoint(e,s))return!0}return!1}_reparent(e,t){for(let i=0;i<e.length;i++){const s=e[i],r=s.parent;r&&r!==this&&r.remove&&r.remove(s),s.parent=t}}}const pt=Ete;function Ate(n){return.5-Math.cos(n*Math.PI)/2}function Ite(n){return n}function kte(n,e,t,i){let s=1.70158,r=0,o=i;return 0===n?t:1===n?t+i:(r||(r=.5),o<Math.abs(i)?(o=i,s=r/4):s=r/(2*Math.PI)*Math.asin(i/o),o*Math.pow(2,-10*n)*Math.sin((Number(n)-s)*(1.1*Math.PI)/r)+i+t)}let tC=n=>{const e=typeof window<"u"?window:{},t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(i){setTimeout(i,1e3/60)};tC=i=>t.call(e,i),tC(n)};const _L=tC;let nC;class iC extends Y{static get current(){return nC||(nC=new iC),nC}constructor(){super(),this._items=[]}register(e,t){this._items.push({name:e,type:t})}create(e,t){const i=this._items;let s;if(t&&t.type){const r=t.type.toLowerCase();for(let o=0;o<i.length;o++)if(i[o].name.toLowerCase()===r){s=i[o];break}}if(s)return new s.type(e,t)}}const Fs=iC,Ii=class Pte extends Y{static create(e,t,i){return Fs.current.create(e,t,i)}get options(){return this._options||{duration:500,easing:"swing"}}set options(e){this._options=e}constructor(e,t){super(),this.options=Object.assign({},this.options,t),this.element=e}setup(){}step(){}play(){const e=this.options,{duration:t,delay:i=0}=e,s=dn[e.easing],r=Pd()+i,o=r+t;0===t?(this.step(1),this.abort()):setTimeout(()=>{const a=()=>{if(this._stopped)return;const l=Pd(),c=Em(l-r,0,t),h=s(c/t,c,0,1,t);this.step(h),l<o?_L(a):this.abort()};a()},i)}abort(){this._stopped=!0}destroy(){this.abort()}};class bL extends Y{constructor(e){super(),this.children=[],this.options=C({},this.options,this.initUserOptions(e))}initUserOptions(e){return e}reflow(e){const t=this.children;let i;for(let s=0;s<t.length;s++){let r=t[s];r.reflow(e),i=i?i.wrap(r.box):r.box.clone()}this.box=i||e}destroy(){const e=this.children;this.animation&&this.animation.destroy();for(let t=0;t<e.length;t++)e[t].destroy()}getRoot(){const e=this.parent;return e?e.getRoot():null}getSender(){const e=this.getService();if(e)return e.sender}getService(){let e=this;for(;e;){if(e.chartService)return e.chartService;e=e.parent}}translateChildren(e,t){const i=this.children,s=i.length;for(let r=0;r<s;r++)i[r].box.translate(e,t)}append(){for(let e=0;e<arguments.length;e++){let t=arguments[e];this.children.push(t),t.parent=this}}renderVisual(){!1!==this.options.visible&&(this.createVisual(),this.addVisual(),this.renderChildren(),this.createAnimation(),this.renderComplete())}addVisual(){this.visual&&(this.visual.chartElement=this,this.parent&&this.parent.appendVisual(this.visual))}renderChildren(){const e=this.children,t=e.length;for(let i=0;i<t;i++)e[i].renderVisual()}createVisual(){this.visual=new pt({zIndex:this.options.zIndex,visible:ge(this.options.visible,!0)})}createAnimation(){this.visual&&this.options.animation&&(this.animation=Ii.create(this.visual,this.options.animation))}appendVisual(e){e.chartElement||(e.chartElement=this),e.options.noclip?this.clipRoot().visual.append(e):N(e.options.zIndex)?this.stackRoot().stackVisual(e):this.isStackRoot?this.stackVisual(e):this.visual?this.visual.append(e):this.parent.appendVisual(e)}clipRoot(){return this.parent?this.parent.clipRoot():this}stackRoot(){return this.parent?this.parent.stackRoot():this}stackVisual(e){const t=e.options.zIndex||0,i=this.visual.children,s=i.length;let r;for(r=0;r<s&&!(ge(i[r].options.zIndex,0)>t);r++);this.visual.insert(r,e)}traverse(e){const t=this.children,i=t.length;for(let s=0;s<i;s++){let r=t[s];e(r),r.traverse&&r.traverse(e)}}closest(e){let t=this,i=!1;for(;t&&!i;)i=e(t),i||(t=t.parent);if(i)return t}renderComplete(){}hasHighlight(){const e=(this.options||{}).highlight;return!(!this.createHighlight||e&&!1===e.visible)}toggleHighlight(e,t){const i=(this.options||{}).highlight||{},s=i.visual;let r=this._highlight;if(!r){const o={fill:{color:Ue,opacity:t||.2},stroke:{color:Ue,width:1,opacity:t||.2}};if(s){if(r=this._highlight=s(Object.assign(this.highlightVisualArgs(),{createVisual:()=>this.createHighlight(o),sender:this.getSender(),series:this.series,dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total})),!r)return}else r=this._highlight=this.createHighlight(o);N(r.options.zIndex)||(r.options.zIndex=ge(i.zIndex,this.options.zIndex)),this.appendVisual(r)}r.visible(e)}createGradientOverlay(e,t,i){const s=new ae(Object.assign({stroke:{color:"none"},fill:this.createGradient(i),closed:e.options.closed},t));return s.segments.elements(e.segments.elements()),s}createGradient(e){if(this.parent)return this.parent.createGradient(e)}supportsPointInactiveOpacity(){return!0}}bL.prototype.options={};const Qe=bL;class xL extends Qe{constructor(e){super(e),this.options.margin=at(this.options.margin),this.options.padding=at(this.options.padding)}reflow(e){const t=this.options,{width:i,height:s,shrinkToFit:r}=t,o=i&&s,a=t.margin,l=t.padding,c=t.border.width;let u;const h=()=>{this.align(e,Q,t.align),this.align(e,J,t.vAlign),this.paddingBox=u.clone().unpad(a).unpad(c)};let d=e.clone();o&&(d.x2=d.x1+i,d.y2=d.y1+s),r&&d.unpad(a).unpad(c).unpad(l),super.reflow(d),u=o?this.box=new z(0,0,i,s):this.box,r&&o?(h(),d=this.contentBox=this.paddingBox.clone().unpad(l)):(d=this.contentBox=u.clone(),u.pad(l).pad(c).pad(a),h()),this.translateChildren(u.x1-d.x1+a.left+c+l.left,u.y1-d.y1+a.top+c+l.top);const f=this.children;for(let p=0;p<f.length;p++){let g=f[p];g.reflow(g.box)}}align(e,t,i){this.box.align(e,t,i)}hasBox(){const e=this.options;return e.border.width||e.background}createVisual(){super.createVisual(),this.options.visible&&this.hasBox()&&this.visual.append(ae.fromRect(this.paddingBox.toRect(),this.visualStyle()))}visualStyle(){const e=this.options,t=e.border||{};return{stroke:{width:t.width,color:t.color,opacity:ge(t.opacity,e.opacity),dashType:t.dashType},fill:{color:e.background,opacity:e.opacity},cursor:e.cursor}}}B(xL,{align:Oe,vAlign:ze,margin:{},padding:{},border:{color:Rt,width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0});const fl=xL;class wL extends fl{constructor(e,t){super(e),this.pointData=t}getElement(){const{options:e,paddingBox:t}=this,{type:i,rotation:s}=e,r=t.center(),o=t.width()/2,a=t.height()/2;if(!e.visible||!this.hasBox())return null;const l=this.visualStyle();let c;if(i===ks)c=new eo(new ts([H(t.x1+o,3),H(t.y1+a,3)],Math.min(o,a)),l);else if("triangle"===i)c=ae.fromPoints([[t.x1+o,t.y1],[t.x1,t.y2],[t.x2,t.y2]],l).close();else if("cross"===i)c=new fr(l),c.moveTo(t.x1,t.y1).lineTo(t.x2,t.y2),c.moveTo(t.x1,t.y2).lineTo(t.x2,t.y1);else{const u=t.toRect();if(i===gF){const h=ge(e.borderRadius,u.width()/5);u.setCornerRadius(h)}c=ae.fromRect(u,l)}return s&&c.transform(Xe().rotate(-s,[r.x,r.y])),c.options.zIndex=e.zIndex,c}createElement(){const e=this.options.visual,t=this.pointData||{};let i;return i=e?e({value:t.value,dataItem:t.dataItem,sender:this.getSender(),series:t.series,category:t.category,rect:this.paddingBox.toRect(),options:this.visualOptions(),createVisual:()=>this.getElement()}):this.getElement(),i}visualOptions(){const e=this.options;return{background:e.background,border:e.border,margin:e.margin,padding:e.padding,type:e.type,size:e.width,visible:e.visible}}createVisual(){this.visual=this.createElement()}}B(wL,{type:ks,align:ye,vAlign:ye});const na=wL,Ote=class Rte extends QF{_change(){this.optionsChange({field:"stops"})}};function Nte(n){return function(e){return oe(e)?(this.options.set(n,e),this):this.options.get(n)}}const Bte=["offset","color","opacity"];class zd extends(((n,e)=>{const t=class extends n{};return function Fte(n,e){for(let t=0;t<e.length;t++)n[e[t]]=Nte(e[t])}(t.prototype,e),t})(Ei,Bte)){constructor(e,t,i){super(),this.options=new Kw({offset:e,color:t,opacity:oe(i)?i:1}),this.options.addObserver(this)}static create(e){if(oe(e)){let t;return t=e instanceof zd?e:e.length>1?new zd(e[0],e[1],e[2]):new zd(e.offset,e.color,e.opacity),t}}}const sC=zd,rC=class Vte extends Ei{get nodeType(){return"Gradient"}constructor(e={}){super(),this.stops=new Ote(this._createStops(e.stops)),this.stops.addObserver(this),this._userSpace=e.userSpace,this.id=Tm()}userSpace(e){return oe(e)?(this._userSpace=e,this.optionsChange(),this):this._userSpace}_createStops(e=[]){const t=[];for(let i=0;i<e.length;i++)t.push(sC.create(e[i]));return t}addStop(e,t,i){this.stops.push(new sC(e,t,i))}removeStop(e){const t=this.stops.indexOf(e);t>=0&&this.stops.splice(t,1)}optionsChange(e){this.trigger("optionsChange",{field:"gradient"+(e?"."+e.field:""),value:this})}geometryChange(){this.optionsChange()}},Hte=["start","end"];class zte extends(Gm(rC,Hte)){constructor(e={}){super(e),this.start(e.start||new L),this.end(e.end||new L(1,0))}}const Km=zte;class Ute extends(Gm(rC,["center"])){constructor(e={}){super(e),this.center(e.center||new L),this._radius=oe(e.radius)?e.radius:1,this._fallbackFill=e.fallbackFill}radius(e){return oe(e)?(this._radius=e,this.geometryChange(),this):this._radius}fallbackFill(e){return oe(e)?(this._fallbackFill=e,this.optionsChange(),this):this._fallbackFill}}const Ym=Ute,Ud="radial",Gte={glass:{type:"linear",rotation:0,stops:[{offset:0,color:Ue,opacity:0},{offset:.25,color:Ue,opacity:.3},{offset:1,color:Ue,opacity:0}]},sharpBevel:{type:Ud,stops:[{offset:0,color:Ue,opacity:.55},{offset:.65,color:Ue,opacity:0},{offset:.95,color:Ue,opacity:.25}]},roundedBevel:{type:Ud,stops:[{offset:.33,color:Ue,opacity:.06},{offset:.83,color:Ue,opacity:.2},{offset:.95,color:Ue,opacity:0}]},roundedGlass:{type:Ud,supportVML:!1,stops:[{offset:0,color:Ue,opacity:0},{offset:.5,color:Ue,opacity:.3},{offset:.99,color:Ue,opacity:0}]},sharpGlass:{type:Ud,supportVML:!1,stops:[{offset:0,color:Ue,opacity:.2},{offset:.15,color:Ue,opacity:.15},{offset:.17,color:Ue,opacity:.35},{offset:.85,color:Ue,opacity:.05},{offset:.87,color:Ue,opacity:.15},{offset:.99,color:Ue,opacity:0}]},bubbleShadow:{type:Ud,center:[.5,.5],radius:.5}};function $te(n,e){if(n.x1===e.x1&&n.y1===e.y1&&n.x2===e.x2&&n.y2===e.y2)return e;const t=Math.min(n.x1,e.x1),i=Math.max(n.x1,e.x1),s=Math.min(n.x2,e.x2),r=Math.max(n.x2,e.x2),o=Math.min(n.y1,e.y1),a=Math.max(n.y1,e.y1),l=Math.min(n.y2,e.y2),c=Math.max(n.y2,e.y2),u=[];return u[0]=new z(i,o,s,a),u[1]=new z(t,a,i,l),u[2]=new z(s,a,r,l),u[3]=new z(i,l,s,c),n.x1===t&&n.y1===o||e.x1===t&&e.y1===o?(u[4]=new z(t,o,i,a),u[5]=new z(s,l,r,c)):(u[4]=new z(s,o,r,a),u[5]=new z(t,l,i,c)),Ti(u,function(h){return h.height()>0&&h.width()>0})[0]}class CL extends Qe{constructor(e){super(e);const t=this.options;t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),this.gradients={}}reflow(){const{options:e,children:t}=this;let i=new z(0,0,e.width,e.height);this.box=i.unpad(e.margin);for(let s=0;s<t.length;s++)t[s].reflow(i),i=$te(i,t[s].box)||new z}createVisual(){this.visual=new pt,this.createBackground()}createBackground(){const e=this.options,t=e.border||{},i=this.box.clone().pad(e.margin).unpad(t.width),s=ae.fromRect(i.toRect(),{stroke:{color:t.width?t.color:"",width:t.width,dashType:t.dashType},fill:{color:e.background,opacity:e.opacity},zIndex:-10});this.visual.append(s)}getRoot(){return this}createGradient(e){const t=this.gradients,i=Nee(e),s=Gte[e.gradient];let r;if(t[i])r=t[i];else{const o=Object.assign({},s,e);"linear"===s.type?r=new Km(o):(e.innerRadius&&(o.stops=function Wte(n){const e=n.stops,t=n.innerRadius/n.radius*100,i=e.length,s=[];for(let r=0;r<i;r++){let o=Object.assign({},e[r]);o.offset=(o.offset*(100-t)+t)/100,s.push(o)}return s}(o)),r=new Ym(o),r.supportVML=!1!==s.supportVML),t[i]=r}return r}cleanGradients(){const e=this.gradients;for(let t in e)e[t]._observers=[]}size(){const e=this.options;return new z(0,0,e.width,e.height)}}B(CL,{width:600,height:400,background:Ue,border:{color:Rt,width:0},margin:at(5),zIndex:-2});const qte=CL;class DL extends Qe{constructor(e){super(e),this._initDirection()}_initDirection(){const e=this.options;e.vertical?(this.groupAxis=Q,this.elementAxis=J,this.groupSizeField=Dm,this.elementSizeField=wm,this.groupSpacing=e.spacing,this.elementSpacing=e.vSpacing):(this.groupAxis=J,this.elementAxis=Q,this.groupSizeField=wm,this.elementSizeField=Dm,this.groupSpacing=e.vSpacing,this.elementSpacing=e.spacing)}reflow(e){this.box=e.clone(),this.reflowChildren()}reflowChildren(){const{box:e,elementAxis:t,groupAxis:i,elementSizeField:s,groupSizeField:r}=this,{groups:o,groupsSize:a,maxGroupElementsSize:l}=this.groupOptions(),c=o.length,u=e[i+1]+this.alignStart(a,e[r]());if(c){let h=u;for(let d=0;d<c;d++){let f=o[d],p=f.groupElements,g=e[t+1],y=p.length;for(let b=0;b<y;b++){let w=p[b],D=this.elementSize(w),E=h+this.alignStart(D[r],f.groupSize),V=new z;V[i+1]=E,V[i+2]=E+D[r],V[t+1]=g,V[t+2]=g+D[s],w.reflow(V),g+=D[s]+this.elementSpacing}h+=f.groupSize+this.groupSpacing}e[i+1]=u,e[i+2]=u+a,e[t+2]=e[t+1]+l}}alignStart(e,t){let i=0;const s=this.options.align;return s===We||s===st?i=t-e:s===ye&&(i=(t-e)/2),i}groupOptions(){const{box:e,children:t,elementSizeField:i,groupSizeField:s,elementSpacing:r,groupSpacing:o}=this,a=H(e[i]()),l=t.length,c=[];let u=0,h=0,d=0,f=0,p=[];for(let g=0;g<l;g++){let y=t[g];y.box||y.reflow(e);let b=this.elementSize(y);this.options.wrap&&H(h+r+b[i])>a&&(c.push({groupElements:p,groupSize:u,groupElementsSize:h}),f=Math.max(f,h),d+=o+u,u=0,h=0,p=[]),u=Math.max(u,b[s]),h>0&&(h+=r),h+=b[i],p.push(y)}return c.push({groupElements:p,groupSize:u,groupElementsSize:h}),f=Math.max(f,h),d+=u,{groups:c,groupsSize:d,maxGroupElementsSize:f}}elementSize(e){return{width:e.box.width(),height:e.box.height()}}createVisual(){}}B(DL,{vertical:!0,wrap:!0,vSpacing:0,spacing:0});const oC=DL;class Zte extends(uu(Gm(dr,["position"]))){get nodeType(){return"Text"}constructor(e,t=new L,i={}){super(i),this.content(e),this.position(t),this.options.font||(this.options.font="12px sans-serif"),oe(this.options.fill)||this.fill("#000")}content(e){return oe(e)?(this.options.set("content",e),this):this.options.get("content")}measure(){return Im(this.content(),{font:this.options.get("font")})}rect(){const e=this.measure(),t=this.position().clone();return new Be(t,[e.width,e.height])}bbox(e){const t=ul(this.currentTransform(e));return this.rect().bbox(t)}rawBBox(){return this.rect().bbox()}_containsPoint(e){return this.rect().containsPoint(e)}}const SL=Zte,Xte=SL;class TL extends Qe{constructor(e,t){super(t),this.content=e,this.reflow(new z)}reflow(e){const t=this.options,i=t.size=Im(this.content,{font:t.font});this.baseline=i.baseline,this.box=new z(e.x1,e.y1,e.x1+i.width,e.y1+i.height)}createVisual(){const{font:e,color:t,opacity:i,cursor:s}=this.options;this.visual=new Xte(this.content,this.box.toRect().topLeft(),{font:e,fill:{color:t,opacity:i},cursor:s})}}B(TL,{font:uF,color:Rt});const Qte=TL;function Zm(n){const e=n.origin,t=n.bottomRight();return new z(e.x,e.y,t.x,t.y)}const Jte=/\n/m,ki=class ene extends fl{constructor(e,t,i){super(t),this.content=e,this.data=i,this._initContainer(),!1!==this.options._autoReflow&&this.reflow(new z)}_initContainer(){const e=this.options,t=String(this.content).split(Jte),i=new oC({vertical:!0,align:e.align,wrap:!1}),s=C({},e,{opacity:1,animation:null});this.container=i,this.append(i);for(let r=0;r<t.length;r++){let o=new Qte(t[r].trim(),s);i.append(o)}}reflow(e){const t=this.options,i=t.visual;if(this.container.options.align=t.align,i&&!this._boxReflow){let s=e;s.hasSize()||(this._boxReflow=!0,this.reflow(s),this._boxReflow=!1,s=this.box);const r=this.visual=i(this.visualContext(s));r&&(s=Zm(r.clippedBBox()||new Be),r.options.zIndex=t.zIndex),this.box=this.contentBox=this.paddingBox=s}else if(super.reflow(e),t.rotation){const s=at(t.margin);let r=this.box.unpad(s);this.targetBox=e,this.normalBox=r.clone(),r=this.rotate(),r.translate(s.left-s.right,s.top-s.bottom),this.rotatedBox=r.clone(),r.pad(s)}}createVisual(){const e=this.options;if(this.visual=new pt({transform:this.rotationTransform(),zIndex:e.zIndex,noclip:e.noclip}),this.hasBox()){const t=ae.fromRect(this.paddingBox.toRect(),this.visualStyle());this.visual.append(t)}}renderVisual(){if(this.options.visible)if(this.options.visual){const e=this.visual;e&&!N(e.options.noclip)&&(e.options.noclip=this.options.noclip),this.addVisual(),this.createAnimation()}else super.renderVisual()}visualContext(e){const t={text:this.content,rect:e.toRect(),sender:this.getSender(),options:this.options,createVisual:()=>(this._boxReflow=!0,this.reflow(e),this._boxReflow=!1,this.getDefaultVisual())};return this.data&&Object.assign(t,this.data),t}getDefaultVisual(){this.createVisual(),this.renderChildren();const e=this.visual;return delete this.visual,e}rotate(){const e=this.options;return this.box.rotate(e.rotation),this.align(this.targetBox,Q,e.align),this.align(this.targetBox,J,e.vAlign),this.box}rotationTransform(){const e=this.options.rotation;if(!e)return null;const{x:t,y:i}=this.normalBox.center(),s=this.rotatedBox.center();return Xe().translate(s.x-t,s.y-i).rotate(e,[t,i])}};class Xm extends Qe{constructor(e){super(e),this.append(new ki(this.options.text,Object.assign({},this.options,{vAlign:this.options.position})))}reflow(e){super.reflow(e),this.box.snapTo(e,Q)}static buildTitle(e,t,i){let r,s=e;return"string"==typeof e&&(s={text:e}),s=Object.assign({visible:!0},i,s),s&&s.visible&&s.text&&(r=new Xm(s),t.append(r)),r}}B(Xm,{color:Rt,position:ze,align:ye,margin:at(5),padding:at(5)});const ML=Xm;class EL extends ki{constructor(e,t,i,s,r){super(t,r),this.text=t,this.value=e,this.index=i,this.dataItem=s,this.reflow(new z)}visualContext(e){const t=super.visualContext(e);return t.value=this.value,t.dataItem=this.dataItem,t.format=this.options.format,t.culture=this.options.culture,t}click(e,t){e.trigger("axisLabelClick",{element:Os(t),value:this.value,text:this.text,index:this.index,dataItem:this.dataItem,axis:this.parent.options})}rotate(){if(this.options.alignRotation!==ye){const e=this.normalBox.toRect(),t=this.rotationTransform();this.box=Zm(e.bbox(t.matrix()))}else super.rotate();return this.box}rotationTransform(){const e=this.options,t=e.rotation;if(!t)return null;if(e.alignRotation===ye)return super.rotationTransform();const i=Xe().rotate(t).matrix(),s=this.normalBox.toRect(),r=this.targetBox.toRect(),o=e.rotationOrigin||ze,a=o===ze||o===st?Q:J,l=o===ze||o===st?J:Q,c=o===ze||o===Oe?r.origin:r.bottomRight(),u=s.topLeft().transformCopy(i),h=s.topRight().transformCopy(i),d=s.bottomRight().transformCopy(i),f=s.bottomLeft().transformCopy(i),p=Be.fromPoints(u,h,d,f),g={[l]:r.origin[l]-p.origin[l]},y=Math.abs(u[l]+g[l]-c[l]),b=Math.abs(h[l]+g[l]-c[l]);let w,D;H(y,10)===H(b,10)?(w=u,D=h):b<y?(w=h,D=d):(w=u,D=f);const E=w[a]+(D[a]-w[a])/2;return g[a]=r.center()[a]-E,Xe().translate(g.x,g.y).rotate(t)}}B(EL,{_autoReflow:!1});const pl=EL;class IL extends fl{constructor(e,t,i){super(t),this.fields=e,this.chartService=i,this.render()}hide(){this.options.visible=!1}show(){this.options.visible=!0}render(){const e=this.options;if(e.visible){const{label:t,icon:i}=e,s=new z,r=()=>this;let l,c,o=i.size,a=this.fields.text;if(N(t)&&t.visible){const h=bn(t);h?a=h(this.fields):t.format&&(a=this.chartService.format.auto(t.format,a)),t.color||(t.color=t.position===Ew?"#fff":i.background),this.label=new ki(a,C({},t)),this.label.aliasFor=r,t.position===Ew&&!N(o)&&(i.type===ks?o=Math.max(this.label.box.width(),this.label.box.height()):(l=this.label.box.width(),c=this.label.box.height()),s.wrap(this.label.box))}i.width=l||o||7,i.height=c||o||7;const u=new na(C({},i));u.aliasFor=r,this.marker=u,this.append(u),this.label&&this.append(this.label),u.reflow(new z),this.wrapperBox=s.wrap(u.box)}}reflow(e){const{options:t,label:i,marker:s,wrapperBox:r}=this,o=e.center(),a=t.line.length,l=t.position;if(t.visible){let c,u,h;Se(l,[Oe,We])?l===Oe?(h=r.alignTo(e,l).translate(-a,e.center().y-r.center().y),t.line.visible&&(c=[e.x1,o.y],this.linePoints=[c,[h.x2,o.y]],u=h.clone().wrapPoint(c))):(h=r.alignTo(e,l).translate(a,e.center().y-r.center().y),t.line.visible&&(c=[e.x2,o.y],this.linePoints=[c,[h.x1,o.y]],u=h.clone().wrapPoint(c))):l===st?(h=r.alignTo(e,l).translate(e.center().x-r.center().x,a),t.line.visible&&(c=[o.x,e.y2],this.linePoints=[c,[o.x,h.y1]],u=h.clone().wrapPoint(c))):(h=r.alignTo(e,l).translate(e.center().x-r.center().x,-a),t.line.visible&&(c=[o.x,e.y1],this.linePoints=[c,[o.x,h.y2]],u=h.clone().wrapPoint(c))),s&&s.reflow(h),i&&(i.reflow(h),s&&(t.label.position===Cm&&i.box.alignTo(s.box,l),i.reflow(i.box))),this.contentBox=h,this.targetBox=e,this.box=u||h}}createVisual(){super.createVisual(),this.visual.options.noclip=this.options.noclip,this.options.visible&&this.createLine()}renderVisual(){const e=this.options,t=e.visual;e.visible&&t?(this.visual=t(Object.assign(this.fields,{sender:this.getSender(),rect:this.targetBox.toRect(),options:{background:e.background,border:e.background,icon:e.icon,label:e.label,line:e.line,position:e.position,visible:e.visible},createVisual:()=>{this.createVisual(),this.renderChildren();const i=this.visual;return delete this.visual,i}})),this.addVisual()):super.renderVisual()}createLine(){const e=this.options.line;if(this.linePoints){const t=ae.fromPoints(this.linePoints,{stroke:{color:e.color,width:e.width,dashType:e.dashType}});Qi(t),this.visual.append(t)}}click(e,t){const i=this.eventArgs(t);e.trigger("noteClick",i)||t.preventDefault()}over(e,t){const i=this.eventArgs(t);e.trigger("noteHover",i)||t.preventDefault()}out(e,t){const i=this.eventArgs(t);e.trigger("noteLeave",i)}eventArgs(e){const t=this.options;return Object.assign(this.fields,{element:Os(e),text:N(t.label)?t.label.text:"",visual:this.visual})}}B(IL,{icon:{visible:!0,type:ks},label:{position:Ew,visible:!0,align:ye,vAlign:ye},line:{visible:!0},visible:!0,position:ze,zIndex:2});const kL=IL;let PL={format:(n,e)=>e,toString:n=>n,parseDate:n=>new Date(n),firstDay:()=>0};const RL=class nne{static register(e){PL=e}static get implementation(){return PL}},ine=/\{(\d+)(:[^\}]+)?\}/g,aC=class one{constructor(e,t={}){this._intlService=t.intlService,this.sender=t.sender||e,this.format=new class sne{constructor(e){this._intlService=e}get intl(){return this._intlService||RL.implementation}set intl(e){this._intlService=e}auto(e,...t){const i=this.intl;return Yr(e)&&e.match(fF)?i.format(e,...t):i.toString(t[0],e)}localeAuto(e,t,i){const s=this.intl;let r;return r=Yr(e)&&e.match(fF)?e.replace(ine,function(o,a,l){let c=t[parseInt(a,10)];return s.toString(c,l?l.substring(1):"",i)}):s.toString(t[0],e,i),r}}(t.intlService),this.chart=e,this.rtl=Boolean(t.rtl)}get intl(){return this._intlService||RL.implementation}set intl(e){this._intlService=e,this.format.intl=e}notify(e,t){this.chart&&this.chart.trigger(e,t)}isPannable(e){const t=((this.chart||{}).options||{}).pannable;return t&&t.lock!==e}};let lC;const cC=class ane{static register(e){lC=e}static create(e,t){if(lC)return lC.create(e,t)}};function OL(n,e){const{tickX:t,tickY:i,position:s}=n,r=new ae({stroke:{width:e.width,color:e.color}});return n.vertical?r.moveTo(t,s).lineTo(t+e.size,s):r.moveTo(s,i).lineTo(s,i+e.size),Qi(r),r}function NL(n,e){const{lineStart:t,lineEnd:i,position:s}=n,r=new ae({stroke:{width:e.width,color:e.color,dashType:e.dashType}});return n.vertical?r.moveTo(t,s).lineTo(i,s):r.moveTo(s,t).lineTo(s,i),Qi(r),r}class FL extends Qe{constructor(e,t=new aC){super(e),this.chartService=t,this.options.visible||(this.options=C({},this.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),this.options.minorTicks=C({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.minorTickType!==Aw},this.options.minorTicks,{size:this.options.minorTickSize,align:this.options.minorTickType}),this.options.majorTicks=C({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.majorTickType!==Aw},this.options.majorTicks,{size:this.options.majorTickSize,align:this.options.majorTickType}),this.initFields(),this.options._deferLabels||this.createLabels(),this.createTitle(),this.createNotes()}initFields(){}labelsRange(){return{min:this.options.labels.skip,max:this.labelsCount()}}normalizeLabelRotation(e){const t=e.rotation;Ps(t)&&(e.alignRotation=t.align,e.rotation=t.angle)}createLabels(){const e=this.options,i=C({},e.labels,{align:e.vertical?We:ye,zIndex:e.zIndex}),s=Math.max(1,i.step);if(this.clearLabels(),i.visible){this.normalizeLabelRotation(i),"auto"===i.rotation&&(i.rotation=0,e.autoRotateLabels=!0);const r=this.labelsRange();for(let o=r.min;o<r.max;o+=s){let l=this.createAxisLabel(o,i,{index:o,count:r.max});l&&(this.append(l),this.labels.push(l))}}}clearLabels(){this.children=Ti(this.children,e=>!(e instanceof pl)),this.labels=[]}clearTitle(){this.title&&(this.children=Ti(this.children,e=>e!==this.title),this.title=void 0)}clear(){this.clearLabels(),this.clearTitle()}lineBox(){const{options:e,box:t}=this,s=e.labels.mirror,r=s?t.x1:t.x2,o=s?t.y2:t.y1,a=e.line.width||0;return e.vertical?new z(r,t.y1,r,t.y2-a):new z(t.x1,o,t.x2-a,o)}createTitle(){const e=this.options,t=C({rotation:e.vertical?-90:0,text:"",zIndex:1,visualSize:!0},e.title);if(t.visible&&t.text){const i=new ki(t.text,t);this.append(i),this.title=i}}createNotes(){const e=this.options,t=e.notes,i=t.data||[];this.notes=[];for(let s=0;s<i.length;s++){const r=C({},t,i[s]);r.value=this.parseNoteValue(r.value);const o=new kL({value:r.value,text:r.label.text,dataItem:r},r,this.chartService);o.options.visible&&(N(o.options.position)?e.vertical&&!Se(o.options.position,[Oe,We])?o.options.position=e.reverse?Oe:We:!e.vertical&&!Se(o.options.position,[ze,st])&&(o.options.position=e.reverse?st:ze):o.options.position=e.vertical?e.reverse?Oe:We:e.reverse?st:ze,this.append(o),this.notes.push(o))}}parseNoteValue(e){return e}renderVisual(){super.renderVisual(),this.createPlotBands()}createVisual(){super.createVisual(),this.createBackground(),this.createLine()}gridLinesVisual(){let e=this._gridLines;return e||(e=this._gridLines=new pt({zIndex:-2}),this.appendVisual(this._gridLines)),e}createTicks(e){const t=this.options,i=this.lineBox(),s=t.labels.mirror,r=t.majorTicks.visible?t.majorUnit:0,o={vertical:t.vertical};function a(l,c,u){const h=l.length,d=Math.max(1,c.step);if(c.visible)for(let f=c.skip;f<h;f+=d)N(u)&&f%u==0||(o.tickX=s?i.x2:i.x2-c.size,o.tickY=s?i.y1-c.size:i.y1,o.position=l[f],e.append(OL(o,c)))}a(this.getMajorTickPositions(),t.majorTicks),a(this.getMinorTickPositions(),t.minorTicks,r/t.minorUnit)}createLine(){const e=this.options,t=e.line,i=this.lineBox();if(t.width>0&&t.visible){const s=new ae({stroke:{width:t.width,color:t.color,dashType:t.dashType}});s.moveTo(i.x1,i.y1).lineTo(i.x2,i.y2),e._alignLines&&Qi(s);const r=this._lineGroup=new pt;r.append(s),this.visual.append(r),this.createTicks(r)}}getActualTickSize(){const e=this.options;let t=0;return e.majorTicks.visible&&e.minorTicks.visible?t=Math.max(e.majorTicks.size,e.minorTicks.size):e.majorTicks.visible?t=e.majorTicks.size:e.minorTicks.visible&&(t=e.minorTicks.size),t}createBackground(){const{options:e,box:t}=this,i=e.background;i&&(this._backgroundPath=ae.fromRect(t.toRect(),{fill:{color:i},stroke:null}),this.visual.append(this._backgroundPath))}createPlotBands(){const e=this.options,t=e.plotBands||[],i=e.vertical,s=this.plotArea;if(0===t.length)return;const r=this._plotbandGroup=new pt({zIndex:-1}),o=Ti(this.pane.axes,a=>a.options.vertical!==this.options.vertical)[0];for(let a=0;a<t.length;a++){let c,u,d,l=t[a],h=l.label;if(i?(c=(o||s.axisX).lineBox(),u=this.getSlot(l.from,l.to,!0)):(c=this.getSlot(l.from,l.to,!0),u=(o||s.axisY).lineBox()),h&&(h.vAlign=h.position||Oe,d=this.createPlotBandLabel(h,l,new z(c.x1,u.y1,c.x2,u.y2))),0!==c.width()&&0!==u.height()){const f=new Be([c.x1,u.y1],[c.width(),u.height()]),p=ae.fromRect(f,{fill:{color:l.color,opacity:l.opacity},stroke:null});r.append(p),d&&r.append(d)}}this.appendVisual(r)}createPlotBandLabel(e,t,i){if(!1===e.visible)return null;let r,s=e.text;if(N(e)&&e.visible){const o=bn(e);o?s=o({text:s,item:t}):e.format&&(s=this.chartService.format.auto(e.format,s)),e.color||(e.color=this.options.labels.color)}return r=new ki(s,e),r.reflow(i),r.renderVisual(),r.visual}createGridLines(e){const t=this.options,{minorGridLines:i,majorGridLines:s,minorUnit:r,vertical:o}=t,a=e.options.line.visible,l=s.visible?t.majorUnit:0,c=e.lineBox(),u=c[o?"y1":"x1"],h={lineStart:c[o?"x1":"y1"],lineEnd:c[o?"x2":"y2"],vertical:o},d=[],f=this.gridLinesVisual();function p(g,y,b){const w=g.length,D=Math.max(1,y.step);if(y.visible)for(let E=y.skip;E<w;E+=D){let V=H(g[E]);Se(V,d)||E%b!=0&&(!a||u!==V)&&(h.position=V,f.append(NL(h,y)),d.push(V))}}return p(this.getMajorTickPositions(),s),p(this.getMinorTickPositions(),i,l/r),f.children}reflow(e){const{options:t,labels:i,title:s}=this,r=t.vertical,o=i.length,a=r?Dm:wm,l=s?s.box[a]():0,c=this.getActualTickSize()+t.margin+l,h=((this.getRoot()||{}).box||e)[a]();let d=0;for(let f=0;f<o;f++){let p=i[f].box[a]();p+c<=h&&(d=Math.max(d,p))}this.box=r?new z(e.x1,e.y1,e.x1+d+c,e.y2):new z(e.x1,e.y1,e.x2,e.y1+d+c),this.arrangeTitle(),this.arrangeLabels(),this.arrangeNotes()}getLabelsTickPositions(){return this.getMajorTickPositions()}labelTickIndex(e){return e.index}arrangeLabels(){const{options:e,labels:t}=this,i=this.labelsBetweenTicks(),s=e.vertical,r=e.labels.mirror,o=this.getLabelsTickPositions();for(let a=0;a<t.length;a++){const l=t[a],c=this.labelTickIndex(l),u=s?l.box.height():l.box.width(),h=o[c],d=o[c+1];let f,p;s?(f=i?h+(d-h)/2-u/2:h-u/2,p=f):i?(f=h,p=d):(f=h-u/2,p=f+u),this.positionLabel(l,r,f,p)}}positionLabel(e,t,i,s=i){const r=this.options,o=r.vertical,a=this.lineBox(),l=this.getActualTickSize()+r.margin;let c;if(o){let u=a.x2;t?(u+=l,e.options.rotationOrigin=Oe):(u-=l+e.box.width(),e.options.rotationOrigin=We),c=e.box.move(u,i)}else{let u=a.y1;t?(u-=l+e.box.height(),e.options.rotationOrigin=st):(u+=l,e.options.rotationOrigin=ze),c=new z(i,u,s,u+e.box.height())}e.reflow(c)}autoRotateLabelAngle(e,t){return e.width()<t?0:e.height()>t?-90:-45}autoRotateLabels(){if(!this.options.autoRotateLabels||this.options.vertical)return!1;const e=this.getMajorTickPositions(),t=this.labels,i=Math.min(t.length,e.length-1);let s=0;for(let r=0;r<i;r++){const o=Math.abs(e[r+1]-e[r]),l=this.autoRotateLabelAngle(t[r].box,o);if(0!==l&&(s=l),-90===s)break}if(0!==s){for(let r=0;r<t.length;r++)t[r].options.rotation=s,t[r].reflow(new z);return!0}}arrangeTitle(){const{options:e,title:t}=this,i=e.labels.mirror;t&&(e.vertical?(t.options.align=i?We:Oe,t.options.vAlign=t.options.position):(t.options.align=t.options.position,t.options.vAlign=i?ze:st),t.reflow(this.box))}arrangeNotes(){for(let e=0;e<this.notes.length;e++){const t=this.notes[e],i=t.options.value;let s;N(i)?(this.shouldRenderNote(i)?t.show():t.hide(),s=this.noteSlot(i)):t.hide(),t.reflow(s||this.lineBox())}}noteSlot(e){return this.getSlot(e)}alignTo(e){const t=e.lineBox(),i=this.options.vertical,s=i?J:Q;this.box.snapTo(t,s),i?this.box.shrink(0,this.lineBox().height()-t.height()):this.box.shrink(this.lineBox().width()-t.width(),0),this.box[s+1]-=this.lineBox()[s+1]-t[s+1],this.box[s+2]-=this.lineBox()[s+2]-t[s+2]}axisLabelText(e,t,i){let s;const r=bn(t),o=()=>t.format?this.chartService.format.localeAuto(t.format,[e],t.culture):e;return s=r?r(Object.assign({},i,{get text(){return o()},value:e,format:t.format,culture:t.culture})):o(),s}slot(e,t,i){const s=this.getSlot(e,t,i);if(s)return s.toRect()}contentBox(){const e=this.box.clone(),t=this.labels;if(t.length){const i=this.options.vertical?J:Q;if(this.chartService.isPannable(i)){const s=this.maxLabelOffset();e[i+1]-=s.start,e[i+2]+=s.end}else{t[0].options.visible&&e.wrap(t[0].box);const s=t[t.length-1];s.options.visible&&e.wrap(s.box)}}return e}maxLabelOffset(){const{vertical:e,reverse:t}=this.options,i=this.labelsBetweenTicks(),s=this.getLabelsTickPositions(),r=e?J:Q,o=this.labels,a=t?1:0,l=t?0:1;let c=0,u=0;for(let h=0;h<o.length;h++){const d=o[h],f=this.labelTickIndex(d);let p,g;i?(p=s[f+a],g=s[f+l]):p=g=s[f],c=Math.max(c,p-d.box[r+1]),u=Math.max(u,d.box[r+2]-g)}return{start:c,end:u}}limitRange(e,t,i,s,r){const o=this.options;if(e<i&&r<0&&(!N(o.min)||o.min<=i)||s<t&&r>0&&(!N(o.max)||s<=o.max))return null;if(t<i&&r>0||s<e&&r<0)return{min:e,max:t};const a=t-e;let l=e,c=t;return e<i&&r<0?(l=ie(e,i,s),c=ie(e+a,i+a,s)):t>s&&r>0&&(c=ie(t,i,s),l=ie(t-a,i,s-a)),{min:l,max:c}}valueRange(){return{min:this.seriesMin,max:this.seriesMax}}lineDir(){const{vertical:e,reverse:t}=this.options;return(e?-1:1)*(t?-1:1)}lineInfo(){const{vertical:e}=this.options,t=this.lineBox(),i=e?t.height():t.width(),s=e?J:Q,r=this.lineDir(),a=s+(1===r?1:2).toString();return{axis:s,axisOrigin:a,axisDir:r,lineBox:t,lineSize:i,lineStart:t[a]}}pointOffset(e){const{axis:t,axisDir:i,axisOrigin:s,lineBox:r,lineSize:o}=this.lineInfo();return(i>0?e[t]-r[s]:r[s]-e[t])/o}scaleToDelta(e,t){const s=ie(e,-.999,.999);let r;return r=s>0?t*Math.min(1,s):t-t/(1+s),r}labelsBetweenTicks(){return!this.options.justified}prepareUserOptions(){}}B(FL,{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:Rt,visible:!0},title:{visible:!0,position:ye},majorTicks:{align:Cm,size:4,skip:0,step:1},minorTicks:{align:Cm,size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:Cm,minorTickType:Aw,majorGridLines:{skip:0,step:1},minorGridLines:{visible:!1,width:1,color:Rt,skip:0,step:1},margin:5,visible:!0,reverse:!1,justified:!0,notes:{label:{text:""}},_alignLines:!0,_deferLabels:!1});const jd=FL,Qm="milliseconds",uC="seconds",hC="minutes",Gd="hours",pr="days",$d="weeks",gl="months",to="years",hu=6e4,Jm=60*hu,no=24*Jm,fC=7*no,pC=31*no,gC=365*no,gr={years:gC,months:pC,weeks:fC,days:no,hours:Jm,minutes:hu,seconds:1e3,milliseconds:1};function mC(n,e){return n.getTime()-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*hu}function un(n,e){return new Date(n.getTime()+e)}function lt(n){let e;return n instanceof Date?e=n:n&&(e=new Date(n)),e}function ey(n,e){return 0===e&&23===n.getHours()&&(n.setHours(n.getHours()+2),!0)}function ei(n,e,t,i){let s=n;if(n){let r=lt(n);const o=r.getHours();t===to?(s=new Date(r.getFullYear()+e,0,1),ey(s,0)):t===gl?(s=new Date(r.getFullYear(),r.getMonth()+e,1),ey(s,o)):t===$d?(s=ei(function cne(n,e=0){let t=0,i=n.getDay();if(!isNaN(i))for(;i!==e;)0===i?i=6:i--,t++;return un(n,-t*no)}(r,i),7*e,pr),ey(s,o)):t===pr?(s=new Date(r.getFullYear(),r.getMonth(),r.getDate()+e),ey(s,o)):t===Gd?s=function une(n,e){const t=new Date(n);t.setMinutes(0,0,0);const i=(n.getTimezoneOffset()-t.getTimezoneOffset())*hu;return un(t,i+e*Jm)}(r,e):t===hC?(s=un(r,e*hu),s.getSeconds()>0&&s.setSeconds(0)):t===uC?s=un(r,1e3*e):t===Qm&&(s=un(r,e)),t!==Qm&&s.getMilliseconds()>0&&s.setMilliseconds(0)}return s}function yC(n,e,t){return ei(lt(n),0,e,t)}function LL(n,e,t){const i=lt(n);return i&&yC(i,e,t).getTime()===i.getTime()?i:ei(i,1,e,t)}function ml(n,e){return n&&e?n.getTime()-e.getTime():-1}function mr(n,e){return n.getTime()-e}function ct(n){if(_n(n)){let e=[];for(let t=0;t<n.length;t++)e.push(ct(n[t]));return e}if(n)return lt(n).getTime()}function vC(n,e){return n&&e?ct(n)===ct(e):n===e}function BL(n,e,t){return mC(n,e)/gr[t]}function yl(n,e,t,i){const s=lt(n),r=lt(e);let o;return o=t===gl?s.getMonth()-r.getMonth()+12*(s.getFullYear()-r.getFullYear())+BL(s,new Date(s.getFullYear(),s.getMonth()),pr)/new Date(s.getFullYear(),s.getMonth()+1,0).getDate():t===to?s.getFullYear()-r.getFullYear()+yl(s,new Date(s.getFullYear(),0),gl,1)/12:t===pr||t===$d?BL(s,r,t):mr(s,e)/gr[t],o/i}function _C(n,e,t){let i;return i=t===to?e.getFullYear()-n.getFullYear():t===gl?12*_C(n,e,to)+e.getMonth()-n.getMonth():t===pr?Math.floor(mr(e,n)/no):Math.floor(mr(e,n)/gr[t]),i}function En(n,e){let t;return t=Yr(e)&&n.parseDate(e)||lt(e),t}function VL(n,e){if(_n(e)){const t=[];for(let i=0;i<e.length;i++)t.push(En(n,e[i]));return t}return En(n,e)}function HL(n,e){return we(n.weekStartDay)?n.weekStartDay:e&&e.firstDay?e.firstDay():0}class ty extends jd{initFields(){this._ticks={}}categoriesHash(){return""}clone(){const e=new ty(Object.assign({},this.options,{categories:this.options.srcCategories}),this.chartService);return e.createLabels(),e}initUserOptions(e){const t=e.categories||[],i=N(e.min),s=N(e.max);if(e.srcCategories=e.categories=t,(i||s)&&t.length){const r=i?Math.floor(e.min):0;let o;o=s?e.justified?Math.floor(e.max)+1:Math.ceil(e.max):t.length,e.categories=e.categories.slice(r,o)}return e}rangeIndices(){const e=this.options,t=e.categories.length||1,i=we(e.min)?e.min%1:0;let s;return s=we(e.max)&&e.max%1!=0&&e.max<this.totalRange().max?t-(1-e.max%1):t-(e.justified?1:0),{min:i,max:s}}totalRangeIndices(e){const t=this.options;let s,i=we(t.min)?t.min:0;if(s=we(t.max)?t.max:we(t.min)?i+t.categories.length:this.totalRange().max||1,e){const r=this.totalRange();i=ie(i,0,r.max),s=ie(s,0,r.max)}return{min:i,max:s}}range(){const e=this.options;return{min:we(e.min)?e.min:0,max:we(e.max)?e.max:this.totalRange().max}}roundedRange(){return this.range()}totalRange(){const e=this.options;return{min:0,max:Math.max(this._seriesMax||0,e.srcCategories.length)-(e.justified?1:0)}}scaleOptions(){const{min:e,max:t}=this.rangeIndices(),i=this.lineBox();return{scale:(this.options.vertical?i.height():i.width())/(t-e||1)*(this.options.reverse?-1:1),box:i,min:e,max:t}}arrangeLabels(){super.arrangeLabels(),this.hideOutOfRangeLabels()}hideOutOfRangeLabels(){const{box:e,labels:t}=this;if(t.length>0){const i=this.options.vertical?J:Q,s=e[i+1],r=e[i+2],o=t[0],a=Nt(t);(o.box[i+1]>r||o.box[i+2]<s)&&(o.options.visible=!1),(a.box[i+1]>r||a.box[i+2]<s)&&(a.options.visible=!1)}}getMajorTickPositions(){return this.getTicks().majorTicks}getMinorTickPositions(){return this.getTicks().minorTicks}getLabelsTickPositions(){return this.getTicks().labelTicks}tickIndices(e){const{min:t,max:i}=this.rangeIndices(),s=Math.ceil(i);let r=Math.floor(t);const o=[];for(;r<=s;)o.push(r),r+=e;return o}getTickPositions(e){const{vertical:t,reverse:i}=this.options,{scale:s,box:r,min:o}=this.scaleOptions(),a=r[(t?J:Q)+(i?2:1)],l=this.tickIndices(e),c=[];for(let u=0;u<l.length;u++)c.push(a+H(s*(l[u]-o),3));return c}getTicks(){const e=this.options,t=this._ticks,i=this.rangeIndices(),s=this.lineBox(),r=s.getHash()+i.min+","+i.max+e.reverse+e.justified;if(t._hash!==r){const o=e.minorTicks.visible||e.minorGridLines.visible;t._hash=r,t.labelTicks=this.getTickPositions(1),t.majorTicks=this.filterOutOfRangePositions(t.labelTicks,s),t.minorTicks=o?this.filterOutOfRangePositions(this.getTickPositions(.5),s):[]}return t}filterOutOfRangePositions(e,t){if(!e.length)return e;const i=this.options.vertical?J:Q,s=l=>t[i+1]<=l&&l<=t[i+2],r=e.length-1;let o=0;for(;!s(e[o])&&o<=r;)o++;let a=r;for(;!s(e[a])&&a>=0;)a--;return e.slice(o,a+1)}lineInfo(){const{vertical:e,reverse:t}=this.options,i=this.lineBox(),s=e?i.height():i.width(),r=e?J:Q,o=t?-1:1,l=r+(1===o?1:2).toString();return{axis:r,axisOrigin:l,axisDir:o,lineBox:i,lineSize:s,lineStart:i[l]}}lineDir(){const{reverse:e}=this.options;return e?-1:1}getSlot(e,t,i){const s=this.options,{reverse:r,justified:o}=s,{scale:a,box:l,min:c}=this.scaleOptions(),{axis:u,lineStart:h}=this.lineInfo(),d=l.clone(),f=!N(t),p=ge(e,0);let g=ge(t,p);g=Math.max(g-1,p),g=Math.max(p,g);let y=h+(p-c)*a,b=h+(g+1-c)*a;return f&&o&&(b=y),i&&(y=ie(y,l[u+1],l[u+2]),b=ie(b,l[u+1],l[u+2])),d[u+1]=r?b:y,d[u+2]=r?y:b,d}limitSlot(e){const i=this.options.vertical?J:Q,s=this.lineBox(),r=e.clone();return r[i+1]=ie(e[i+1],s[i+1],s[i+2]),r[i+2]=ie(e[i+2],s[i+1],s[i+2]),r}slot(e,t,i){const s=Math.floor(this.options.min||0);let r=e,o=t;return"string"==typeof r?r=this.categoryIndex(r):we(r)&&(r-=s),"string"==typeof o?o=this.categoryIndex(o):we(o)&&(o-=s),super.slot(r,o,i)}pointCategoryIndex(e){const{reverse:t,justified:i,vertical:s}=this.options,r=s?J:Q,{scale:o,box:a,min:l,max:c}=this.scaleOptions(),h=a[r+1],f=e[r];if(f<h||f>a[r+2])return null;let p=(t?c:l)+(f-h)/o;const g=p%1;return i?p=Math.round(p):0===g&&p>0&&p--,Math.floor(p)}getCategory(e){const t=this.pointCategoryIndex(e);return null===t?null:this.options.categories[t]}categoryIndex(e){return this.totalIndex(e)-Math.floor(this.options.min||0)}categoryAt(e,t){const i=this.options;return(t?i.srcCategories:i.categories)[e]}categoriesCount(){return(this.options.categories||[]).length}translateRange(e){const t=this.options,i=this.lineBox(),s=t.vertical?i.height():i.width(),r=t.categories.length,a=H(e/(s/r),10);return{min:a,max:r+a}}scaleRange(e,t){const i=Math.abs(this.pointOffset(t)),s=this.totalRangeIndices(),o=this.scaleToDelta(e,s.max-s.min),c=s.min+i*o;let u=s.max-(1-i)*o;return u-c<.1&&(u=c+.1),{min:c,max:u}}zoomRange(e,t){const{min:i,max:s}=this.totalRange(),r=this.scaleRange(e,t);return{min:ie(r.min,i,s),max:ie(r.max,i,s)}}labelsCount(){const e=this.labelsRange();return e.max-e.min}labelsRange(){const e=this.options,{justified:t,labels:i}=e;let{min:s,max:r}=this.totalRangeIndices(!0);const o=Math.floor(s);let a;return t?(s=Math.ceil(s),r=Math.floor(r)):(s=Math.floor(s),r=Math.ceil(r)),a=s>i.skip?i.skip+i.step*Math.ceil((s-i.skip)/i.step):i.skip,{min:a-o,max:(e.categories.length?r+(t?1:0):0)-o}}createAxisLabel(e,t,i){const s=this.options,r=s.dataItems?s.dataItems[e]:null,o=ge(s.categories[e],"");i.dataItem=r;const a=this.axisLabelText(o,t,i);return new pl(o,a,e,r,t)}shouldRenderNote(e){const t=this.totalRangeIndices();return Math.floor(t.min)<=e&&e<=Math.ceil(t.max)}noteSlot(e){const i=e-Math.floor(this.options.min||0);return this.getSlot(i)}arrangeNotes(){super.arrangeNotes(),this.hideOutOfRangeNotes()}hideOutOfRangeNotes(){const{notes:e,box:t}=this;if(e&&e.length){const i=this.options.vertical?J:Q,s=t[i+1],r=t[i+2];for(let o=0;o<e.length;o++){const a=e[o];a.box&&(r<a.box[i+1]||a.box[i+2]<s)&&a.hide()}}}pan(e){const t=this.totalRangeIndices(!0),{scale:i}=this.scaleOptions(),s=H(e/i,10),r=this.totalRange();return this.limitRange(t.min+s,t.max+s,0,r.max,s)}pointsRange(e,t){const{reverse:i,vertical:s}=this.options,r=s?J:Q,o=this.totalRangeIndices(!0),{scale:a,box:l}=this.scaleOptions(),c=l[r+(i?2:1)],d=o.min+(e[r]-c)/a,f=o.min+(t[r]-c)/a,p=Math.min(d,f),g=Math.max(d,f);if(g-p>=.01)return{min:p,max:g}}valueRange(){return this.range()}totalIndex(e){const t=this.options;return this._categoriesMap?this._categoriesMap.get(e):function dne(n,e){if(n instanceof Date){const t=e.length;for(let i=0;i<t;i++)if(vC(e[i],n))return i;return-1}return e.indexOf(n)}(e,t.srcCategories)}currentRangeIndices(){const e=this.options;let i,t=0;return we(e.min)&&(t=Math.floor(e.min)),i=we(e.max)?e.justified?Math.floor(e.max):Math.ceil(e.max)-1:this.totalCount()-1,{min:t,max:i}}mapCategories(){if(!this._categoriesMap){const e=this._categoriesMap=new CF,t=this.options.srcCategories;for(let i=0;i<t.length;i++)e.set(t[i],i)}}totalCount(){return Math.max(this.options.srcCategories.length,this._seriesMax||0)}}B(ty,{type:"category",vertical:!1,majorGridLines:{visible:!1,width:1,color:Rt},labels:{zIndex:1},justified:!1,_deferLabels:!0});const io=ty,jL={milliseconds:"HH:mm:ss.fff",seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},so=[Qm,uC,hC,Gd,pr,$d,gl,to],ny="fit";function iy(n){let e=n._range;return e||(e=n._range=Uw(n),e.min=lt(e.min),e.max=lt(e.max)),e}class pne{constructor(e){this.options=e}displayIndices(){return{min:0,max:1}}displayRange(){return{}}total(){return{}}valueRange(){return{}}valueIndex(){return-1}values(){return[]}totalIndex(){return-1}valuesCount(){return 0}totalCount(){return 0}dateAt(){return null}}class bC{constructor(e,t,i){this.options=i,i.baseUnitStep=i.baseUnitStep||1;const{roundToBaseUnit:s,justified:r}=i;this.start=ei(e,0,i.baseUnit,i.weekStartDay);const o=this.roundToTotalStep(t),a=!r&&vC(t,o)&&!i.justifyEnd;this.end=this.roundToTotalStep(t,!r,a?1:0);const l=i.min||e;this.valueStart=this.roundToTotalStep(l),this.displayStart=s?this.valueStart:l;const c=i.max;if(c){const u=!r&&vC(c,this.roundToTotalStep(c))?-1:0;this.valueEnd=this.roundToTotalStep(c,!1,u),this.displayEnd=s?this.roundToTotalStep(c,!r):i.max}else this.valueEnd=o,this.displayEnd=s||a?this.end:t;this.valueEnd<this.valueStart&&(this.valueEnd=this.valueStart),this.displayEnd<=this.displayStart&&(this.displayEnd=this.roundToTotalStep(this.displayStart,!1,1))}displayRange(){return{min:this.displayStart,max:this.displayEnd}}displayIndices(){if(!this._indices){const e=this.options,{baseUnit:t,baseUnitStep:i}=e,s=yl(this.displayStart,this.valueStart,t,i),r=yl(this.displayEnd,this.valueStart,t,i);this._indices={min:s,max:r}}return this._indices}total(){return{min:this.start,max:this.end}}totalCount(){return this.totalIndex(this.end)+(this.options.justified?1:0)}valueRange(){return{min:this.valueStart,max:this.valueEnd}}valueIndex(e){const t=this.options;return Math.floor(yl(e,this.valueStart,t.baseUnit,t.baseUnitStep))}totalIndex(e){const t=this.options;return Math.floor(yl(e,this.start,t.baseUnit,t.baseUnitStep))}dateIndex(e){const t=this.options;return yl(e,this.valueStart,t.baseUnit,t.baseUnitStep)}valuesCount(){return this.valueIndex(this.valueEnd)+1}values(){let e=this._values;if(!e){const t=this.options,i=this.valueRange();this._values=e=[];for(let s=i.min;s<=i.max;)e.push(s),s=ei(s,t.baseUnitStep,t.baseUnit,t.weekStartDay)}return e}dateAt(e,t){const i=this.options;return ei(t?this.start:this.valueStart,i.baseUnitStep*e,i.baseUnit,i.weekStartDay)}roundToTotalStep(e,t,i){const{baseUnit:s,baseUnitStep:r,weekStartDay:o}=this.options,a=this.start,l=yl(e,a,s,r);let c=t?Math.ceil(l):Math.floor(l);return i&&(c+=i),ei(a,c*r,s,o)}}function $L(n,e,t){const i=iy(n.categories),s=(n.max||i.max)-(n.min||i.min),{autoBaseUnitSteps:r,maxDateGroups:o}=n,a=n.baseUnit===ny;let d,f,p,l=e?so.indexOf(e):0,c=a?so[l++]:n.baseUnit,u=s/gr[c],h=u;for(;!f||u>=o;){d=d||r[c].slice(0);do{p=d.shift()}while(p&&e===c&&p<t);if(p)f=p,u=h/f;else{if(c===Nt(so)){f=Math.ceil(h/o);break}if(!a){u>o&&(f=Math.ceil(h/o));break}c=so[l++]||Nt(so),h=s/gr[c],d=null}}n.baseUnitStep=f,n.baseUnit=c}class sy extends io{clone(){const e=new sy(Object.assign({},this.options),this.chartService);return e.createLabels(),e}categoriesHash(){const e=this.dataRange.total().min;return this.options.baseUnit+this.options.baseUnitStep+e}initUserOptions(e){return e}initFields(){super.initFields();const e=this.chartService,t=e.intl;let i=this.options,s=i.categories||[];if(s._parsed||(s=VL(t,s),s._parsed=!0),i=C({roundToBaseUnit:!0},i,{categories:s,min:En(t,i.min),max:En(t,i.max),weekStartDay:HL(i,t)}),e.panning&&e.isPannable(i.vertical?J:Q)&&(i.roundToBaseUnit=!1),i.userSetBaseUnit=i.userSetBaseUnit||i.baseUnit,i.userSetBaseUnitStep=i.userSetBaseUnitStep||i.baseUnitStep,this.options=i,i.srcCategories=s,s.length>0){const r=iy(s),o=i.maxDivisions;if(this.dataRange=new bC(r.min,r.max,function mne(n){const e=(n.baseUnit||"").toLowerCase();return e!==ny&&!Se(e,so)&&function gne(n){const e=n.categories,t=N(e)?e.length:0;let s,r,i=Ot;for(let o=0;o<t;o++){const a=e[o];if(a&&s){const l=mC(a,s);l>0&&(i=Math.min(i,l),r=i>=gC?to:i>=pC-3*no?gl:i>=fC?$d:i>=no?pr:i>=Jm?Gd:i>=hu?hC:uC)}s=a}n.baseUnit=r||pr}(n),(e===ny||"auto"===n.baseUnitStep)&&$L(n),n}(i)),o){const a=this.dataRange.displayRange(),l=Object.assign({},i,{justified:!0,roundToBaseUnit:!1,baseUnit:"fit",min:a.min,max:a.max,maxDateGroups:o}),c=this.dataRange.options;$L(l,c.baseUnit,c.baseUnitStep),this.divisionRange=new bC(r.min,r.max,l)}else this.divisionRange=this.dataRange}else i.baseUnit=i.baseUnit||pr,this.dataRange=this.divisionRange=new pne(i);this.rangeLabels=[]}tickIndices(e){const{dataRange:t,divisionRange:i}=this,s=i.valuesCount();if(!this.options.maxDivisions||!s)return super.tickIndices(e);const r=[];let o=i.values(),a=0;this.options.justified||(o=o.concat(i.dateAt(s)),a=.5);for(let l=0;l<o.length;l++)if(r.push(t.dateIndex(o[l])+a),1!==e&&l>=1){const c=r.length-1;r.splice(l,0,r[c-1]+(r[c]-r[c-1])*e)}return r}shouldRenderNote(e){const t=this.range(),i=this.options.categories||[];return ml(e,t.min)>=0&&ml(e,t.max)<=0&&i.length}parseNoteValue(e){return En(this.chartService.intl,e)}noteSlot(e){return this.getSlot(e)}translateRange(e){const t=this.options,{baseUnit:i,weekStartDay:s,vertical:r}=t,o=this.lineBox(),a=r?o.height():o.width();let l=this.range();const u=H(e/(a/(l.max-l.min)),10);if(l.min&&l.max){const h=un(t.min||l.min,u),d=un(t.max||l.max,u);l={min:ei(h,0,i,s),max:ei(d,0,i,s)}}return l}labelsRange(){return{min:this.options.labels.skip,max:this.divisionRange.valuesCount()}}pan(e){if(this.isEmpty())return null;const t=this.options,i=this.lineBox(),s=t.vertical?i.height():i.width(),{min:r,max:o}=this.dataRange.displayRange(),a=this.dataRange.total(),c=H(e/(s/(o-r)),10)*(t.reverse?-1:1),u=un(r,c),h=un(o,c),d=this.limitRange(ct(u),ct(h),ct(a.min),ct(a.max),c);return d?(d.min=lt(d.min),d.max=lt(d.max),d.baseUnit=t.baseUnit,d.baseUnitStep=t.baseUnitStep||1,d.userSetBaseUnit=t.userSetBaseUnit,d.userSetBaseUnitStep=t.userSetBaseUnitStep,d):void 0}pointsRange(e,t){if(this.isEmpty())return null;const i=super.pointsRange(e,t),s=this.dataRange.displayRange(),r=this.dataRange.displayIndices(),o=mr(s.max,s.min)/(r.max-r.min),a=this.options;return{min:un(s.min,i.min*o),max:un(s.min,i.max*o),baseUnit:a.userSetBaseUnit||a.baseUnit,baseUnitStep:a.userSetBaseUnitStep||a.baseUnitStep}}scaleRange(e,t){if(this.isEmpty())return{};const i=this.options,s=i.userSetBaseUnit===ny,r=this.dataRange.total(),{min:o,max:a}=this.dataRange.displayRange(),l=Math.abs(this.pointOffset(t)),u=this.scaleToDelta(e,a-o),h=Math.round(l*u),d=Math.round((1-l)*u);let{baseUnit:f}=this.dataRange.options,p=new Date(o.getTime()+h),g=new Date(a.getTime()-d);if(s){const{autoBaseUnitSteps:y,maxDateGroups:b}=i,w=Nt(y[f])*b*gr[f],D=mr(a,o),E=mr(g,p);let q,re,V=so.indexOf(f);if(E<gr[f]&&f!==Qm)f=so[V-1],q=Nt(y[f]),re=(D-(b-1)*q*gr[f])/2,p=un(o,re),g=un(a,-re);else if(E>w&&f!==to){let Me=0;do{V++,f=so[V],Me=0,re=2*gr[f];do{q=y[f][Me],Me++}while(Me<y[f].length&&re*q<D)}while(f!==to&&re*q<D);re=(re*q-D)/2,re>0&&(p=un(o,-re),g=un(a,re),p=un(p,ie(g,r.min,r.max)-g),g=un(g,ie(p,r.min,r.max)-p))}}return p&&g&&mr(g,p)>0?{min:p,max:g,baseUnit:i.userSetBaseUnit||i.baseUnit,baseUnitStep:i.userSetBaseUnitStep||i.baseUnitStep}:void 0}zoomRange(e,t){const i=this.dataRange.total(),s=this.scaleRange(e,t);return s&&(s.min<i.min&&(s.min=i.min),s.max>i.max&&(s.max=i.max)),s}range(){return this.dataRange.displayRange()}createLabels(){super.createLabels(),this.createRangeLabels()}clearLabels(){super.clearLabels(),this.rangeLabels=[]}arrangeLabels(){this.arrangeRangeLabels(),super.arrangeLabels()}arrangeRangeLabels(){const{options:e,rangeLabels:t}=this;if(0===t.length)return;const i=this.lineBox(),s=e.vertical,r=e.rangeLabels.mirror||e.labels.mirror,o=t[0];if(o){const l=s?i.y1-o.box.height()/2:i.x1;this.positionLabel(o,r,l)}const a=t[1];if(a){const l=s?i.y2-a.box.height()/2:i.x2;this.positionLabel(a,r,l)}}autoRotateLabels(){super.autoRotateLabels(),this.autoRotateRangeLabels()}hideOutOfRangeLabels(){super.hideOutOfRangeLabels(),this.hideOverlappingLabels()}hideOverlappingLabels(){const{rangeLabels:e,labels:t}=this;if(0===e.length)return;function i(o,a){return!(a.options.visible&&!a.box.overlaps(o.box)||(a.options.visible=!1,0))}const s=e[0];if(s&&s.options.visible)for(let o=0;o<t.length&&i(s,t[o]);o++);const r=e[1];if(r&&r.options.visible)for(let o=t.length-1;o>0&&i(r,t[o]);--o);}contentBox(){const e=super.contentBox(),t=this.rangeLabels;for(let i=0;i<t.length;i++){const s=t[i];s.options.visible&&e.wrap(s.box)}return e}createAxisLabel(e,t,i={}){const s=this.options,r=s.dataItems&&!s.maxDivisions?s.dataItems[e]:null,o=this.divisionRange.dateAt(e);t.format=t.format||t.dateFormats[this.divisionRange.options.baseUnit],i.dataItem=r;const l=this.axisLabelText(o,t,i);if(l)return new pl(o,l,e,r,t)}createRangeLabels(){const{displayStart:e,displayEnd:t}=this.divisionRange,i=this.options,s=Object.assign({},i.labels,i.rangeLabels,{align:ye,zIndex:i.zIndex});if(!0!==s.visible)return;this.normalizeLabelRotation(s),s.alignRotation=ye,"auto"===s.rotation&&(s.rotation=0,i.autoRotateRangeLabels=!0),s.format=s.format||s.dateFormats[this.divisionRange.options.baseUnit];const o=(c,u,h)=>{if(h){const d=new pl(u,h,c,null,s);this.append(d),this.rangeLabels.push(d)}};o(0,e,this.axisLabelText(e,s,{index:0,count:2})),o(1,t,this.axisLabelText(t,s,{index:1,count:2}))}autoRotateRangeLabels(){const e=this.rangeLabels;if(!this.options.autoRotateRangeLabels||this.options.vertical||2!==e.length)return;const t=(s,r,o)=>{const a=2*Math.abs(r[o+1]-r[o]),l=this.autoRotateLabelAngle(s.box,a);0!==l&&(s.options.rotation=l,s.reflow(new z))},i=this.getMajorTickPositions();t(e[0],i,0),t(e[1],i,i.length-2)}categoryIndex(e){return this.dataRange.valueIndex(e)}slot(e,t,i){const s=this.dataRange;let r=e,o=t;r instanceof Date&&(r=s.dateIndex(r)),o instanceof Date&&(o=s.dateIndex(o));const a=this.getSlot(r,o,i);if(a)return a.toRect()}getSlot(e,t,i){let s=e,r=t;return typeof s===Iw&&(s=this.categoryIndex(s)),typeof r===Iw&&(r=this.categoryIndex(r)),super.getSlot(s,r,i)}valueRange(){const t=iy(this.options.srcCategories);return{min:lt(t.min),max:lt(t.max)}}categoryAt(e,t){return this.dataRange.dateAt(e,t)}categoriesCount(){return this.dataRange.valuesCount()}rangeIndices(){return this.dataRange.displayIndices()}labelsBetweenTicks(){return!this.divisionRange.options.justified}prepareUserOptions(){this.isEmpty()||(this.options.categories=this.dataRange.values())}getCategory(e){const t=this.pointCategoryIndex(e);return null===t?null:this.dataRange.dateAt(t)}totalIndex(e){return this.dataRange.totalIndex(e)}currentRangeIndices(){const e=this.dataRange.valueRange();return{min:this.dataRange.totalIndex(e.min),max:this.dataRange.totalIndex(e.max)}}totalRange(){return this.dataRange.total()}totalCount(){return this.dataRange.totalCount()}isEmpty(){return!this.options.srcCategories.length}roundedRange(){if(!1!==this.options.roundToBaseUnit||this.isEmpty())return this.range();const e=this.options,t=iy(e.srcCategories);return new bC(t.min,t.max,Object.assign({},e,{justified:!1,roundToBaseUnit:!0,justifyEnd:e.justified})).displayRange()}}B(sy,{type:Yo,labels:{dateFormats:jL},rangeLabels:{visible:!1},autoBaseUnitSteps:{milliseconds:[1,10,100],seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10});const Wd=sy;function WL(n,e){return H(Math.floor(n/e)*e,10)}function ry(n,e){return H(Math.ceil(n/e)*e,10)}function oy(n){return Math.max(Math.min(n,3e5),-3e5)}const xC=Math.pow(10,-9);class ay extends jd{constructor(e,t,i,s){super(Object.assign({},i,{seriesMin:e,seriesMax:t}),s)}initUserOptions(e){const t=function _ne(n,e,t){const i=t.narrowRange;let s=function yne(n,e,t){if(!n&&!e)return 0;let i;if(n>=0&&e>=0){const s=n===e?0:n;let r=(e-s)/e;if(!1===t||!t&&r>.2)return 0;i=Math.max(0,s-(e-s)/2)}else i=n;return i}(n,e,i),r=function vne(n,e,t){if(!n&&!e)return 1;let i;if(n<=0&&e<=0){const s=n===e?0:e;let r=Math.abs((s-n)/s);if(!1===t||!t&&r>.2)return 0;i=Math.min(0,s-(n-s)/2)}else i=e;return i}(n,e,i);const o=Ld(s,r),a={majorUnit:o};return!1!==t.roundToMajorUnit&&(s<0&&qL(s,o,1/3)&&(s-=o),r>0&&qL(r,o,1/3)&&(r+=o)),a.min=WL(s,o),a.max=ry(r,o),a}(e.seriesMin,e.seriesMax,e);return this.totalOptions=function bne(n,e){return{min:N(e.min)?Math.min(n.min,e.min):n.min,max:N(e.max)?Math.max(n.max,e.max):n.max,majorUnit:n.majorUnit}}(t,e),function wne(n,e){let i,s,t=e;if(e){(function xne(n,e){for(let t=0;t<e.length;t++){const i=e[t];null===n[i]&&(n[i]=void 0)}})(e,["min","max"]),i=N(e.min),s=N(e.max);const o=i||s;o&&e.min===e.max&&(e.min>0?e.min=0:e.max=1),e.majorUnit?(n.min=WL(n.min,e.majorUnit),n.max=ry(n.max,e.majorUnit)):o&&(t=C(n,e),n.majorUnit=Ld(t.min,t.max))}n.minorUnit=(t.majorUnit||n.majorUnit)/5;const r=C(n,t);return r.min>=r.max&&(i&&!s?r.max=r.min+r.majorUnit:!i&&s&&(r.min=r.max-r.majorUnit)),r}(t,e)}initFields(){this.totalMin=this.totalOptions.min,this.totalMax=this.totalOptions.max,this.totalMajorUnit=this.totalOptions.majorUnit,this.seriesMin=this.options.seriesMin,this.seriesMax=this.options.seriesMax}clone(){return new ay(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}startValue(){return 0}range(){const e=this.options;return{min:e.min,max:e.max}}getDivisions(e){if(0===e)return 1;const t=this.options;return Math.floor(H((t.max-t.min)/e,3))+1}getTickPositions(e,t){const i=this.options,{axisDir:s,axisOrigin:r,lineBox:o,lineSize:a}=this.lineInfo(),u=e*(a/(i.max-i.min)),h=this.getDivisions(e),d=[];let f=o[r],p=0;t&&(p=t/e);for(let g=0;g<h;g++)g%p!=0&&d.push(H(f,3)),f+=u*s;return d}getMajorTickPositions(){return this.getTickPositions(this.options.majorUnit)}getMinorTickPositions(){return this.getTickPositions(this.options.minorUnit)}getSlot(e,t,i=!1){const s=this.options,{axis:r,axisDir:o,lineBox:a,lineSize:l,lineStart:c}=this.lineInfo(),u=o*(l/(s.max-s.min));let h=ge(e,t||0),d=ge(t,e||0);i&&(h=ie(h,s.min,s.max),d=ie(d,s.min,s.max));const f=Math.min(h,d)-s.min,p=Math.max(h,d)-s.min,g=new z(a.x1,a.y1,a.x1,a.y1);return g[r+1]=oy(c+u*(o>0?f:p)),g[r+2]=oy(c+u*(o>0?p:f)),g}getValue(e){const t=this.options,i=Number(t.max),s=Number(t.min),r=this.pointOffset(e);return r<0||r>1?null:H(s+r*(i-s),10)}translateRange(e){const t=this.options,{vertical:i,reverse:s,max:r,min:o}=t,{lineSize:a}=this.lineInfo();let u=H(e/(a/(r-o)),10);return(i||s)&&!(i&&s)&&(u=-u),{min:o+u,max:r+u,offset:u}}labelsCount(){return this.getDivisions(this.options.majorUnit)}createAxisLabel(e,t,i){const s=this.options,r=H(s.min+e*s.majorUnit,10),o=this.axisLabelText(r,t,i);return new pl(r,o,e,null,t)}shouldRenderNote(e){const t=this.range();return t.min<=e&&e<=t.max}pan(e){const t=this.translateRange(e);return this.limitRange(t.min,t.max,this.totalMin,this.totalMax,t.offset)}pointsRange(e,t){const i=this.getValue(e),s=this.getValue(t),r=Math.min(i,s),o=Math.max(i,s);if(this.isValidRange(r,o))return{min:r,max:o}}scaleRange(e,t){const i=Math.abs(this.pointOffset(t)),r=this.scaleToDelta(e,this.options.max-this.options.min),a=(1-i)*r,l=H(this.options.min+i*r,10);let c=H(this.options.max-a,10);return c-l<xC&&(c=l+xC),{min:l,max:c}}zoomRange(e,t){const{totalMin:i,totalMax:s}=this,r=this.scaleRange(e,t);return{min:ie(r.min,i,s),max:ie(r.max,i,s),narrowRange:!1}}isValidRange(e,t){return t-e>xC}}function qL(n,e,t){const i=H(Math.abs(n%e),10);return 0===i||i>e*(1-t)}B(ay,{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:Rt},labels:{format:"#.####################"},zIndex:1});const ns=ay;class ly extends jd{constructor(e,t,i,s){const r=lt(e),o=lt(t),a=s.intl;let l=i||{};l=C(l||{},{min:En(a,l.min),max:En(a,l.max),axisCrossingValue:VL(a,l.axisCrossingValues||l.axisCrossingValue),weekStartDay:HL(l,a)}),l=function Dne(n,e,t){const i=t.min||n,s=t.max||e,r=t.baseUnit||(s&&i?function Cne(n){let e=Gd;return n>=gC?e=to:n>=pC?e=gl:n>=fC?e=$d:n>=no&&(e=pr),e}(mC(s,i)):Gd),o=gr[r],a=t.weekStartDay||0,l=yC(ct(i)-1,r,a)||lt(s),c=LL(ct(s)+1,r,a),h=(t.majorUnit?t.majorUnit:void 0)||ry(Ld(l.getTime(),c.getTime()),o)/o,d=_C(l,c,r),p=ry(d,h)-d,g=Math.floor(p/2),y=p-g;return t.baseUnit||delete t.baseUnit,t.baseUnit=t.baseUnit||r,t.min=t.min||ei(l,-g,r,a),t.max=t.max||ei(c,y,r,a),t.minorUnit=t.minorUnit||h/5,t.majorUnit=h,t}(r,o,l),super(l,s),this.intlService=a,this.seriesMin=r,this.seriesMax=o;const c=l.weekStartDay||0;this.totalMin=ct(yC(ct(r)-1,l.baseUnit,c)),this.totalMax=ct(LL(ct(o)+1,l.baseUnit,c))}clone(){return new ly(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}range(){const e=this.options;return{min:e.min,max:e.max}}getDivisions(e){const t=this.options;return Math.floor(_C(t.min,t.max,t.baseUnit)/e+1)}getTickPositions(e){const t=this.options,{axisDir:i,lineSize:s,lineStart:r}=this.lineInfo(),o=this.getDivisions(e),l=s/mr(t.max,t.min),c=t.weekStartDay||0,u=[r];for(let h=1;h<o;h++){const f=r+mr(ei(t.min,h*e,t.baseUnit,c),t.min)*l*i;u.push(H(f,3))}return u}getMajorTickPositions(){return this.getTickPositions(this.options.majorUnit)}getMinorTickPositions(){return this.getTickPositions(this.options.minorUnit)}getSlot(e,t,i){return ns.prototype.getSlot.call(this,En(this.intlService,e),En(this.intlService,t),i)}getValue(e){const t=ns.prototype.getValue.call(this,e);return null!==t?lt(t):null}labelsCount(){return this.getDivisions(this.options.majorUnit)}createAxisLabel(e,t,i){const s=this.options,r=e*s.majorUnit;let a=s.min;r>0&&(a=ei(a,r,s.baseUnit,s.weekStartDay||0)),t.format=t.format||t.dateFormats[s.baseUnit];const c=this.axisLabelText(a,t,i);return new pl(a,c,e,null,t)}translateRange(e){const t=this.options,i=this.lineBox(),{vertical:s,reverse:r}=t,o=s?i.height():i.width(),a=this.range(),l=o/mr(a.max,a.min);let c=H(e/l,10);return(s||r)&&(!s||!r)&&(c=-c),{min:un(t.min,c),max:un(t.max,c),offset:c}}shouldRenderNote(e){const t=this.range();return ml(e,t.min)>=0&&ml(e,t.max)<=0}pan(e){const t=this.translateRange(e,!0),i=this.limitRange(ct(t.min),ct(t.max),this.totalMin,this.totalMax,t.offset);if(i)return{min:lt(i.min),max:lt(i.max)}}pointsRange(e,t){const i=this.getValue(e),s=this.getValue(t),r=Math.min(i,s),o=Math.max(i,s);return{min:lt(r),max:lt(o)}}scaleRange(e,t){const i=Math.abs(this.pointOffset(t)),r=this.scaleToDelta(e,this.options.max-this.options.min),o=i*r,a=(1-i)*r,l=lt(ct(this.options.min)+o);let c=lt(ct(this.options.max)-a);return c-l<1e3&&(c=lt(ct(l)+1e3)),{min:l,max:c}}zoomRange(e,t){const i=this.scaleRange(e,t);return{min:lt(ie(ct(i.min),this.totalMin,this.totalMax)),max:lt(ie(ct(i.max),this.totalMin,this.totalMax))}}}B(ly,{type:Yo,majorGridLines:{visible:!0,width:1,color:Rt},labels:{dateFormats:jL}});const YL=ly;class cy extends jd{constructor(e,t,i,s){const r=C({majorUnit:10,min:e,max:t},i),o=r.majorUnit,a=function Mne(n,e){const t=H(Ls(n,e),10)%1;let i;return i=n<=0?e:0!==t&&(t<.3||t>.9)?Math.pow(e,Ls(n,e)+.2):Math.pow(e,Math.ceil(Ls(n,e))),i}(t,o),l=function Tne(n,e,t){const i=t.majorUnit;let s=n;return n<=0?s=e<=1?Math.pow(i,-2):1:t.narrowRange||(s=Math.pow(i,Math.floor(Ls(n,i)))),s}(e,t,r),c=function Sne(n,e,t,i){let{min:s,max:r}=t;return N(t.axisCrossingValue)&&t.axisCrossingValue<=0&&wC(),N(i.max)?i.max<=0&&wC():r=e,N(i.min)?i.min<=0&&wC():s=n,{min:s,max:r}}(l,a,r,i);r.max=c.max,r.min=c.min,r.minorUnit=i.minorUnit||H(o-1,10),super(r,s),this.totalMin=N(i.min)?Math.min(l,i.min):l,this.totalMax=N(i.max)?Math.max(a,i.max):a,this.logMin=H(Ls(c.min,o),10),this.logMax=H(Ls(c.max,o),10),this.seriesMin=e,this.seriesMax=t,this.createLabels()}clone(){return new cy(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}startValue(){return this.options.min}getSlot(e,t,i){const{options:s,logMin:r,logMax:o}=this,{majorUnit:a,min:l,max:c}=s,{axis:u,axisDir:h,lineBox:d,lineSize:f,lineStart:p}=this.lineInfo(),g=h*(f/(o-r));let y=ge(e,t||1),b=ge(t,e||1);if(y<=0||b<=0)return null;i&&(y=ie(y,l,c),b=ie(b,l,c)),y=Ls(y,a),b=Ls(b,a);const w=Math.min(y,b)-r,D=Math.max(y,b)-r,E=new z(d.x1,d.y1,d.x1,d.y1);return E[u+1]=oy(p+g*(h>0?w:D)),E[u+2]=oy(p+g*(h>0?D:w)),E}getValue(e){const{options:t,logMin:i,logMax:s}=this,{majorUnit:r}=t,{axis:o,axisDir:a,lineStart:l,lineSize:c}=this.lineInfo(),h=a*(e[o]-l);return h<0||h>c?null:H(Math.pow(r,i+h*((s-i)/c)),10)}range(){const e=this.options;return{min:e.min,max:e.max}}translateRange(e){const{options:t,logMin:i,logMax:s}=this,{reverse:r,vertical:o,majorUnit:a}=t,l=this.lineBox(),u=(o?l.height():l.width())/(s-i);let h=H(e/u,10);return(o||r)&&!(o&&r)&&(h=-h),{min:Math.pow(a,i+h),max:Math.pow(a,s+h),offset:h}}labelsCount(){const e=Math.floor(this.logMax);return Math.floor(e-this.logMin)+1}getMajorTickPositions(){const e=[];return this.traverseMajorTicksPositions(t=>{e.push(t)},{step:1,skip:0}),e}createTicks(e){const t=this.options,{majorTicks:i,minorTicks:s,vertical:r}=t,o=t.labels.mirror,a=this.lineBox(),c={vertical:r};function u(h,d){c.tickX=o?a.x2:a.x2-d.size,c.tickY=o?a.y1-d.size:a.y1,c.position=h,e.append(OL(c,d))}return i.visible&&this.traverseMajorTicksPositions(u,i),s.visible&&this.traverseMinorTicksPositions(u,s),[]}createGridLines(e){const t=this.options,{minorGridLines:i,majorGridLines:s,vertical:r}=t,o=e.lineBox(),a={lineStart:o[r?"x1":"y1"],lineEnd:o[r?"x2":"y2"],vertical:r},l=[],c=this.gridLinesVisual();function u(h,d){Se(h,l)||(a.position=h,c.append(NL(a,d)),l.push(h))}return s.visible&&this.traverseMajorTicksPositions(u,s),i.visible&&this.traverseMinorTicksPositions(u,i),c.children}traverseMajorTicksPositions(e,t){const{lineStart:i,step:s}=this.lineInfo(),{logMin:r,logMax:o}=this;for(let a=Math.ceil(r)+t.skip;a<=o;a+=t.step)e(H(i+s*(a-r),10),t)}traverseMinorTicksPositions(e,t){const{min:i,max:s,minorUnit:r,majorUnit:o}=this.options,{lineStart:a,step:l}=this.lineInfo(),{logMin:c,logMax:u}=this;for(let d=Math.floor(c);d<u;d++){const f=this._minorIntervalOptions(d);for(let p=t.skip;p<r;p+=t.step){const g=f.value+p*f.minorStep;if(g>s)break;g>=i&&e(H(a+l*(Ls(g,o)-c),10),t)}}}createAxisLabel(e,t,i){const s=Math.ceil(this.logMin+e),r=Math.pow(this.options.majorUnit,s),o=this.axisLabelText(r,t,i);return new pl(r,o,e,null,t)}shouldRenderNote(e){const t=this.range();return t.min<=e&&e<=t.max}pan(e){const t=this.translateRange(e);return this.limitRange(t.min,t.max,this.totalMin,this.totalMax,t.offset)}pointsRange(e,t){const i=this.getValue(e),s=this.getValue(t);return{min:Math.min(i,s),max:Math.max(i,s)}}scaleRange(e,t){const{majorUnit:i}=this.options,s=Ls(this.options.min,i),r=Ls(this.options.max,i),o=Math.abs(this.pointOffset(t)),l=this.scaleToDelta(e,r-s),c=Math.pow(i,s+o*l);let u=Math.pow(i,r-(1-o)*l);return u-c<1e-6&&(u=c+1e-6),{min:c,max:u}}zoomRange(e,t){const i=this.scaleRange(e,t),{totalMin:s,totalMax:r}=this;return{min:ie(i.min,s,r),max:ie(i.max,s,r)}}_minorIntervalOptions(e){const{minorUnit:t,majorUnit:i}=this.options,s=Math.pow(i,e);return{value:s,minorStep:(Math.pow(i,e+1)-s)/t}}lineInfo(){const e=super.lineInfo();return e.step=e.axisDir*(e.lineSize/(this.logMax-this.logMin)),e}}function wC(){throw new Error("Non positive values cannot be used for a logarithmic axis")}function Ls(n,e){return Math.log(n)/Math.log(e)}B(cy,{type:"log",majorUnit:10,minorUnit:1,axisCrossingValue:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:Rt},zIndex:1,_deferLabels:!0});const uy=cy,QL={createGridLines:function(n){const e=this.options,t=Math.abs(this.box.center().y-n.lineBox().y1);let r,o,i=[],s=!1;return e.majorGridLines.visible&&(r=this.majorGridLineAngles(n),s=!0,i=this.renderMajorGridLines(r,t,e.majorGridLines)),e.minorGridLines.visible&&(o=this.minorGridLineAngles(n,s),cl(i,this.renderMinorGridLines(o,t,e.minorGridLines,n,s))),i},renderMajorGridLines:function(n,e,t){return this.renderGridLines(n,e,t)},renderMinorGridLines:function(n,e,t,i,s){const r=this.radiusCallback&&this.radiusCallback(e,i,s);return this.renderGridLines(n,e,t,r)},renderGridLines:function(n,e,t,i){const s={stroke:{width:t.width,color:t.color,dashType:t.dashType}},r=this.box.center(),o=new ts([r.x,r.y],e),a=this.gridLinesVisual();for(let l=0;l<n.length;l++){const c=new ae(s);i&&(o.radius=i(n[l])),c.moveTo(o.center).lineTo(o.pointAt(n[l]+180)),a.append(c)}return a.children},gridLineAngles:function(n,e,t,i,s){const r=this.intervals(e,t,i,s),o=n.options,a=o.visible&&!1!==(o.line||{}).visible;return SF(r,l=>{const c=this.intervalAngle(l);if(!a||90!==c)return c})}};class CC extends io{range(){return{min:0,max:this.options.categories.length}}reflow(e){this.box=e,this.reflowLabels()}lineBox(){return this.box}reflowLabels(){const{labels:e,options:{labels:t}}=this,i=t.skip||0,s=t.step||1,r=new z;for(let o=0;o<e.length;o++){e[o].reflow(r);const a=e[o].box;e[o].reflow(this.getSlot(i+o*s).adjacentBox(0,a.width(),a.height()))}}intervals(e,t,i,s=!1){const r=this.options,a=r.categories.length/e||1,l=360/a,u=i||1,h=[];let d=0;for(let f=t||0;f<a;f+=u)d=r.reverse?360-f*l:f*l,d=H(d,3)%360,s&&Se(d,s)||h.push(d);return h}majorIntervals(){return this.intervals(1)}minorIntervals(){return this.intervals(.5)}intervalAngle(e){return(360+e+this.options.startAngle)%360}majorAngles(){return SF(this.majorIntervals(),e=>this.intervalAngle(e))}createLine(){return[]}majorGridLineAngles(e){const t=this.options.majorGridLines;return this.gridLineAngles(e,1,t.skip,t.step)}minorGridLineAngles(e,t){const{minorGridLines:i,majorGridLines:s}=this.options,r=t?this.intervals(1,s.skip,s.step):null;return this.gridLineAngles(e,.5,i.skip,i.step,r)}radiusCallback(e,t,i){if(t.options.type!==Ko){const s=Yt(360/(2*this.options.categories.length)),r=Math.cos(s)*e,o=this.majorAngles();return function(l){return!i&&Se(l,o)?e:r}}}createPlotBands(){const e=this.options.plotBands||[],t=this._plotbandGroup=new pt({zIndex:-1});for(let i=0;i<e.length;i++){const s=e[i],r=this.plotBandSlot(s),o=this.getSlot(s.from),a=s.from-Math.floor(s.from);r.startAngle+=a*o.angle;const l=Math.ceil(s.to)-s.to;r.angle-=(l+a)*o.angle;const c=Wm.current.createRing(r,{fill:{color:s.color,opacity:s.opacity},stroke:{opacity:s.opacity}});t.append(c)}this.appendVisual(t)}plotBandSlot(e){return this.getSlot(e.from,e.to-1)}getSlot(e,t){const i=this.options,s=i.justified,r=this.box,o=this.majorAngles(),a=o.length,l=360/a;let c=e;i.reverse&&!s&&(c=(c+1)%a),c=ie(Math.floor(c),0,a-1);let u=o[c];s&&(u-=l/2,u<0&&(u+=360));const f=l*(ie(Math.ceil(t||c),c,a-1)-c+1);return new Vm(r.center(),0,r.height()/2,u,f)}slot(e,t){const i=this.getSlot(e,t),s=i.startAngle+180;return new ea([i.center.x,i.center.y],{startAngle:s,endAngle:s+i.angle,radiusX:i.radius,radiusY:i.radius})}pointCategoryIndex(e){const t=this.options.categories.length;let i=null;for(let s=0;s<t;s++)if(this.getSlot(s).containsPoint(e)){i=s;break}return i}}B(CC,{startAngle:90,labels:{margin:at(10)},majorGridLines:{visible:!0},justified:!0}),C(CC.prototype,QL);const DC=CC;class SC extends jd{constructor(e,t){super(e,t);const i=this.options;i.minorUnit=i.minorUnit||i.majorUnit/2}getDivisions(e){return ns.prototype.getDivisions.call(this,e)-1}reflow(e){this.box=e,this.reflowLabels()}reflowLabels(){const{options:e,labels:t,options:{labels:i}}=this,s=i.skip||0,r=i.step||1,o=new z,a=this.intervals(e.majorUnit,s,r);for(let l=0;l<t.length;l++){t[l].reflow(o);const c=t[l].box;t[l].reflow(this.getSlot(a[l]).adjacentBox(0,c.width(),c.height()))}}lineBox(){return this.box}intervals(e,t,i,s=!1){const r=this.options.min,o=this.getDivisions(e),a=[],c=i||1;for(let u=t||0;u<o;u+=c){const h=(360+r+u*e)%360;s&&Se(h,s)||a.push(h)}return a}majorIntervals(){return this.intervals(this.options.majorUnit)}minorIntervals(){return this.intervals(this.options.minorUnit)}intervalAngle(e){return(540-e-this.options.startAngle)%360}createLine(){return[]}majorGridLineAngles(e){const t=this.options.majorGridLines;return this.gridLineAngles(e,this.options.majorUnit,t.skip,t.step)}minorGridLineAngles(e,t){const i=this.options,{minorGridLines:s,majorGridLines:r}=i,o=t?this.intervals(i.majorUnit,r.skip,r.step):null;return this.gridLineAngles(e,i.minorUnit,s.skip,s.step,o)}plotBandSlot(e){return this.getSlot(e.from,e.to)}getSlot(e,t){const{options:i,box:s}=this,r=i.startAngle;let o=ie(e,i.min,i.max),a=ie(t||o,o,i.max);if(i.reverse&&(o*=-1,a*=-1),o=(540-o-r)%360,a=(540-a-r)%360,a<o){const l=o;o=a,a=l}return new Vm(s.center(),0,s.height()/2,o,a-o)}slot(e,t=e){const i=this.options,s=360-i.startAngle,r=this.getSlot(e,t),o=Math.min(e,t),a=Math.max(e,t);let l,c;return i.reverse?(l=o,c=a):(l=360-a,c=360-o),l=(l+s)%360,c=(c+s)%360,new ea([r.center.x,r.center.y],{startAngle:l,endAngle:c,radiusX:r.radius,radiusY:r.radius})}getValue(e){const t=this.options,i=this.box.center();let o=Math.round(Xo(Math.atan2(e.y-i.y,e.x-i.x))),a=t.startAngle;return t.reverse||(o*=-1,a*=-1),(o+a+360)%360}valueRange(){return{min:0,max:2*Math.PI}}}B(SC,{type:"polar",startAngle:0,reverse:!1,majorUnit:60,min:0,max:360,labels:{margin:at(10)},majorGridLines:{color:Rt,visible:!0,width:1},minorGridLines:{color:"#aaa"}}),C(SC.prototype,QL,{createPlotBands:DC.prototype.createPlotBands,majorAngles:DC.prototype.majorAngles,range:ns.prototype.range,labelsCount:ns.prototype.labelsCount,createAxisLabel:ns.prototype.createAxisLabel});const Ene=SC,Ane={options:{majorGridLines:{visible:!0}},createPlotBands:function(){const{majorGridLines:{type:n},plotBands:e=[]}=this.options,t=this.plotArea.polarAxis,i=t.majorAngles(),s=t.box.center(),r=this._plotbandGroup=new pt({zIndex:-1});for(let o=0;o<e.length;o++){const a=e[o],l={fill:{color:a.color,opacity:a.opacity},stroke:{opacity:a.opacity}},c=this.getSlot(a.from,a.to,!0),u=new Vm(s,s.y-c.y2,s.y-c.y1,0,360);let h;h=n===Ko?Wm.current.createRing(u,l):ae.fromPoints(this.plotBandPoints(u,i),l).close(),r.append(h)}this.appendVisual(r)},plotBandPoints:function(n,e){const t=[],i=[],s=[n.center.x,n.center.y],r=new ts(s,n.innerRadius),o=new ts(s,n.radius);for(let a=0;a<e.length;a++)t.push(r.pointAt(e[a]+180)),i.push(o.pointAt(e[a]+180));return t.reverse(),t.push(t[0]),i.push(i[0]),i.concat(t)},createGridLines:function(n){const e=this.options,t=this.radarMajorGridLinePositions(),i=n.majorAngles(),s=n.box.center();let r=[];if(e.majorGridLines.visible&&(r=this.renderGridLines(s,t,i,e.majorGridLines)),e.minorGridLines.visible){const o=this.radarMinorGridLinePositions();cl(r,this.renderGridLines(s,o,i,e.minorGridLines))}return r},renderGridLines:function(n,e,t,i){const s={stroke:{width:i.width,color:i.color,dashType:i.dashType}},{skip:r=0,step:o=0}=i,a=this.gridLinesVisual();for(let l=r;l<e.length;l+=o){const c=n.y-e[l];if(c>0){const u=new ts([n.x,n.y],c);if(i.type===Ko)a.append(new eo(u,s));else{const h=new ae(s);for(let d=0;d<t.length;d++)h.lineTo(u.pointAt(t[d]+180));h.close(),a.append(h)}}}return a.children},getValue:function(n){const e=this.lineBox(),t=this.plotArea.polarAxis,i=t.majorAngles(),s=t.box.center(),r=n.distanceTo(s);let o=r;if(this.options.majorGridLines.type!==Ko&&i.length>1){const c=(Xo(Math.atan2(n.y-s.y,n.x-s.x))+540)%360;i.sort(function(p,g){return hy(p,c)-hy(g,c)});const u=hy(i[0],i[1])/2,h=hy(c,i[0]),d=90-u;o=r*(Math.sin(Yt(180-h-d))/Math.sin(Yt(d)))}return this.axisType().prototype.getValue.call(this,new ue(e.x1,e.y2-o))}};function hy(n,e){return 180-Math.abs(Math.abs(n-e)-180)}const JL=Ane;class e2 extends ns{radarMajorGridLinePositions(){return this.getTickPositions(this.options.majorUnit)}radarMinorGridLinePositions(){const e=this.options;let t=0;return e.majorGridLines.visible&&(t=e.majorUnit),this.getTickPositions(e.minorUnit,t)}axisType(){return ns}}C(e2.prototype,JL);const Ine=e2;class t2 extends uy{radarMajorGridLinePositions(){const e=[];return this.traverseMajorTicksPositions(function(t){e.push(t)},this.options.majorGridLines),e}radarMinorGridLinePositions(){const e=[];return this.traverseMinorTicksPositions(function(t){e.push(t)},this.options.minorGridLines),e}axisType(){return uy}}C(t2.prototype,JL);const kne=t2;function s2(n){return n<=0?-1:1}const dy=class Rne extends Y{constructor(e){super(),this.closed=e}process(e){const t=e.slice(0),i=[];let s=this.closed,r=t.length;if(r>2&&(this.removeDuplicates(0,t),r=t.length),r<2||2===r&&t[0].equals(t[1]))return i;let c,u,o=t[0],a=t[1],l=t[2];for(i.push(new Ns(o));o.equals(t[r-1]);)s=!0,t.pop(),r--;if(2===r){const d=this.tangent(o,a,Q,J);return Nt(i).controlOut(this.firstControlPoint(d,o,a,Q,J)),i.push(new Ns(a,this.secondControlPoint(d,o,a,Q,J))),i}if(s){o=t[r-1],a=t[0],l=t[1];const d=this.controlPoints(o,a,l);c=d[1],u=d[0]}else{const d=this.tangent(o,a,Q,J);c=this.firstControlPoint(d,o,a,Q,J)}let h=c;for(let d=0;d<=r-3;d++)if(this.removeDuplicates(d,t),r=t.length,d+3<=r){o=t[d],a=t[d+1],l=t[d+2];const f=this.controlPoints(o,a,l);Nt(i).controlOut(h),h=f[1],i.push(new Ns(a,f[0]))}if(s){o=t[r-2],a=t[r-1],l=t[0];const d=this.controlPoints(o,a,l);Nt(i).controlOut(h),i.push(new Ns(a,d[0])),Nt(i).controlOut(d[1]),i.push(new Ns(l,u))}else{const d=this.tangent(a,l,Q,J);Nt(i).controlOut(h),i.push(new Ns(l,this.secondControlPoint(d,a,l,Q,J)))}return i}removeDuplicates(e,t){for(;t[e+1]&&(t[e].equals(t[e+1])||t[e+1].equals(t[e+2]));)t.splice(e+1,1)}invertAxis(e,t,i){let s=!1;if(e.x===t.x)s=!0;else if(t.x===i.x)(t.y<i.y&&e.y<=t.y||i.y<t.y&&t.y<=e.y)&&(s=!0);else{const r=this.lineFunction(e,t),o=this.calculateFunction(r,i.x);e.y<=t.y&&i.y<=o||t.y<=e.y&&i.y>=o||(s=!0)}return s}isLine(e,t,i){const s=this.lineFunction(e,t),r=this.calculateFunction(s,i.x);return e.x===t.x&&t.x===i.x||H(r,1)===H(i.y,1)}lineFunction(e,t){const i=(t.y-e.y)/(t.x-e.x);return[e.y-i*e.x,i]}controlPoints(e,t,i){let l,s=Q,r=J,o=!1,a=!1;if(this.isLine(e,t,i))l=this.tangent(e,t,Q,J);else{const h={x:this.isMonotonicByField(e,t,i,Q),y:this.isMonotonicByField(e,t,i,J)};if(h.x&&h.y)l=this.tangent(e,i,Q,J),o=!0;else if(this.invertAxis(e,t,i)&&(s=J,r=Q),h[s])l=0;else{let d;d=i[r]<e[r]&&e[r]<=t[r]||e[r]<i[r]&&t[r]<=e[r]?s2((i[r]-e[r])*(t[s]-e[s])):-s2((i[s]-e[s])*(t[r]-e[r])),l=.01*d,a=!0}}const c=this.secondControlPoint(l,e,t,s,r);if(a){const h=s;s=r,r=h}const u=this.firstControlPoint(l,t,i,s,r);return o&&(this.restrictControlPoint(e,t,c,l),this.restrictControlPoint(t,i,u,l)),[c,u]}restrictControlPoint(e,t,i,s){e.y<t.y?t.y<i.y?(i.x=e.x+(t.y-e.y)/s,i.y=t.y):i.y<e.y&&(i.x=t.x-(t.y-e.y)/s,i.y=e.y):i.y<t.y?(i.x=e.x-(e.y-t.y)/s,i.y=t.y):e.y<i.y&&(i.x=t.x+(e.y-t.y)/s,i.y=e.y)}tangent(e,t,i,s){const r=t[i]-e[i];let a;return a=0===r?0:(t[s]-e[s])/r,a}isMonotonicByField(e,t,i,s){return i[s]>t[s]&&t[s]>e[s]||i[s]<t[s]&&t[s]<e[s]}firstControlPoint(e,t,i,s,r){const o=t[s],l=.333*(i[s]-o);return this.point(o+l,t[r]+l*e,s,r)}secondControlPoint(e,t,i,s,r){const a=i[s],l=.333*(a-t[s]);return this.point(a-l,i[r]-l*e,s,r)}point(e,t,i,s){const r=new L;return r[i]=e,r[s]=t,r}calculateFunction(e,t){const i=e.length;let s=0;for(let r=0;r<i;r++)s+=Math.pow(t,r)*e[r];return s}},Nne=class One extends Y{constructor(e){super(),this._axis=e,this.options=e.options}value(e){const t=this._axis;return t.getCategory?t.getCategory(e):t.getValue(e)}slot(e,t,i=!0){return this._axis.slot(e,t,i)}range(){return this._axis.range()}valueRange(){return this._axis.valueRange()}};function r2(n,e){for(let t=0;t<e.length;t++)if(e[t].options.name===n)return e[t].prepareUserOptions(),new Nne(e[t])}const TC=class Fne{constructor(e){this.visual=e.visual,this.chartsVisual=e.chartContainer.visual,this._pane=e}findAxisByName(e){return r2(e,this._pane.axes)}},Bne=class Lne extends Y{constructor(e){super(),this._plotArea=e,this.visual=e.visual,this.backgroundVisual=e._bgVisual}};function MC(n){const e=n.length;let t=0;for(let i=0;i<e;i++)we(n[i])&&t++;return t}const EC={min:function(n){const e=n.length;let t=Ot;for(let i=0;i<e;i++){const s=n[i];we(s)&&(t=Math.min(t,s))}return t===Ot?n[0]:t},max:function(n){const e=n.length;let t=Kt;for(let i=0;i<e;i++){const s=n[i];we(s)&&(t=Math.max(t,s))}return t===Kt?n[0]:t},sum:function(n){const e=n.length;let t=0;for(let i=0;i<e;i++){const s=n[i];we(s)&&(t+=s)}return t},sumOrNull:function(n){let e=null;return MC(n)&&(e=EC.sum(n)),e},count:function(n){const e=n.length;let t=0;for(let i=0;i<e;i++){const s=n[i];null!==s&&N(s)&&t++}return t},avg:function(n){const e=MC(n);let t=n[0];return e>0&&(t=EC.sum(n)/e),t},first:function(n){const e=n.length;for(let t=0;t<e;t++){const i=n[t];if(null!==i&&N(i))return i}return n[0]}},Vne=EC;function fy(n,e){return null===e?e:Zr(n)(e)}class AC extends Y{constructor(){super(),this._valueFields={},this._otherFields={},this._nullValue={},this._undefinedValue={}}register(e,t=[Si],i={}){for(let s=0;s<e.length;s++){const r=e[s];this._valueFields[r]=t,this._otherFields[r]=i,this._nullValue[r]=this._makeValue(t,null),this._undefinedValue[r]=this._makeValue(t,void 0)}}canonicalFields(e){return this.valueFields(e).concat(this.otherFields(e))}valueFields(e){return this._valueFields[e.type]||[Si]}otherFields(e){return this._otherFields[e.type]||[Si]}bindPoint(e,t,i){const s=e.data,r=N(i)?i:s[t],o={valueFields:{value:r}},a=this.valueFields(e),l=this._otherFields[e.type];let c,u;if(null===r)u=this._nullValue[e.type];else if(N(r)){if(Array.isArray(r)){const h=r.slice(a.length);u=this._bindFromArray(r,a),c=this._bindFromArray(h,l)}else if("object"==typeof r){const h=this.sourceFields(e,a),d=this.sourceFields(e,l);u=this._bindFromObject(r,a,h),c=this._bindFromObject(r,l,d)}}else u=this._undefinedValue[e.type];return N(u)&&(1===a.length?o.valueFields.value=u[a[0]]:o.valueFields=u),o.fields=c||{},o}_makeValue(e,t){const i={},s=e.length;for(let r=0;r<s;r++)i[e[r]]=t;return i}_bindFromArray(e,t){const i={};if(t){const s=Math.min(t.length,e.length);for(let r=0;r<s;r++)i[t[r]]=e[r]}return i}_bindFromObject(e,t,i=t){const s={};if(t){const r=t.length;for(let o=0;o<r;o++){const a=t[o],l=i[o];null!==l&&(s[a]=fy(l,e))}}return s}sourceFields(e,t){const i=[];if(t){const s=t.length;for(let r=0;r<s;r++){const o=t[r],a=o===Si?"field":o+"Field";i.push(null!==e[a]?e[a]||o:null)}}return i}}AC.current=new AC;const Ft=AC,Une=/percent(?:\w*)\((\d+)\)/,jne=new RegExp("^stddev(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),o2=class Gne extends Y{constructor(e,t,i){super(),this.initGlobalRanges(e,t,i)}initGlobalRanges(e,t,i){const s=t.data,r=jne.exec(e);if(r){this.valueGetter=this.createValueGetter(t,i);const o=this.getAverage(s),a=this.getStandardDeviation(s,o,!1),l=r[1]?parseFloat(r[1]):1,c={low:o.value-a*l,high:o.value+a*l};this.globalRange=function(){return c}}else if(e.indexOf&&e.indexOf("stderr")>=0){this.valueGetter=this.createValueGetter(t,i);const o=this.getStandardError(s,this.getAverage(s));this.globalRange=function(a){return{low:a-o,high:a+o}}}}createValueGetter(e,t){const i=e.data,s=Ft.current,r=s.valueFields(e),o=N(i[0])?i[0]:{};let a;return _n(o)?a=Zr("["+(t?r.indexOf(t):0)+"]"):we(o)?a=Zr():typeof o===Iw&&(a=Zr(s.sourceFields(e,r)[r.indexOf(t)])),a}getErrorRange(e,t){let i,s,r;if(!N(t))return null;if(this.globalRange)return this.globalRange(e);if(_n(t))i=e-t[0],s=e+t[1];else if(we(r=parseFloat(t)))i=e-r,s=e+r;else{if(!(r=Une.exec(t)))throw new Error("Invalid ErrorBar value: "+t);{const o=e*(parseFloat(r[1])/100);i=e-Math.abs(o),s=e+Math.abs(o)}}return{low:i,high:s}}getStandardError(e,t){return this.getStandardDeviation(e,t,!0)/Math.sqrt(t.count)}getStandardDeviation(e,t,i){const s=e.length,r=i?t.count-1:t.count;let o=0;for(let a=0;a<s;a++){const l=this.valueGetter(e[a]);we(l)&&(o+=Math.pow(l-t.value,2))}return Math.sqrt(o/r)}getAverage(e){const t=e.length;let i=0,s=0;for(let r=0;r<t;r++){const o=this.valueGetter(e[r]);we(o)&&(i+=o,s++)}return{value:i/s,count:s}}},is=600,ia="fadeIn",qd=(ru.browser||{}).msie?.001:0,a2="errorLow",l2="errorHigh",ro="zero",du="interpolate",my="above",IC="below",fu="smooth",Kd="step",Yd="area",Vs="bar",Zd="boxPlot",pu="bubble",sa="bullet",gu="candlestick",oo="column",yy="donut",vy="funnel",kC="heatmap",mu="horizontalWaterfall",Xd="line",Qd="ohlc",ra="pie",PC="polarArea",RC="polarLine",OC="polarScatter",_y="radarArea",by="radarColumn",xy="radarLine",Jd="rangeArea",yu="rangeBar",ef="rangeColumn",NC="scatter",FC="scatterLine",vu="verticalArea",_u="verticalBoxPlot",tf="verticalBullet",bu="verticalLine",xu="verticalRangeArea",nf="waterfall",u2=[Vs,oo,Qd,gu,Zd,_u,sa,ef,yu,nf,mu],h2="seriesHover",d2="plotAreaHover",LC="plotAreaLeave",sf="drag",rf="dragEnd",BC="dragStart",af="zoomStart",wu="zoom",Cu="zoomEnd",VC="selectStart",lf="select",HC="selectEnd",f2="showTooltip",p2="hideTooltip",wy="log",yr="category",Cy="insideEnd",vl="outsideEnd",Dy="DOMMouseScroll mousewheel";class m2 extends Qe{constructor(e,t,i,s,r,o){super(o),this.low=e,this.high=t,this.isVertical=i,this.chart=s,this.series=r}reflow(e){const t=this.options.endCaps,i=this.isVertical,r=this.getAxis().getSlot(this.low,this.high),o=e.center(),a=this.getCapsWidth(e,i),l=i?o.x:o.y,c=l-a,u=l+a;let h;i?(h=[new ue(o.x,r.y1),new ue(o.x,r.y2)],t&&h.push(new ue(c,r.y1),new ue(u,r.y1),new ue(c,r.y2),new ue(u,r.y2)),this.box=new z(c,r.y1,u,r.y2)):(h=[new ue(r.x1,o.y),new ue(r.x2,o.y)],t&&h.push(new ue(r.x1,c),new ue(r.x1,u),new ue(r.x2,c),new ue(r.x2,u)),this.box=new z(r.x1,c,r.x2,u)),this.linePoints=h}getCapsWidth(e,t){const i=t?e.width():e.height();return Math.min(Math.floor(i/2),4)||4}createVisual(){const e=this.options,t=e.visual;t?this.visual=t({low:this.low,high:this.high,rect:this.box.toRect(),sender:this.getSender(),options:{endCaps:e.endCaps,color:e.color,line:e.line},createVisual:()=>{this.createDefaultVisual();const i=this.visual;return delete this.visual,i}}):this.createDefaultVisual()}createDefaultVisual(){const{options:e,linePoints:t}=this,i={stroke:{color:e.color,width:e.line.width,dashType:e.line.dashType}};super.createVisual();for(let s=0;s<t.length;s+=2){const r=new ae(i).moveTo(t[s].x,t[s].y).lineTo(t[s+1].x,t[s+1].y);Qi(r),this.visual.append(r)}}}B(m2,{animation:{type:ia,delay:is},endCaps:!0,line:{width:2},zIndex:1});const y2=m2,lie=class aie extends y2{getAxis(){return this.chart.seriesValueAxis(this.series)}};function ao(n,e,t={},i=!1){const s=t.defaults=t.defaults||{},r=t.depth=t.depth||0;let o=!1;if(t.excluded=t.excluded||[],r>5)return null;for(let a in n)if(!Se(a,t.excluded)&&n.hasOwnProperty(a)){const l=n[a];Ct(l)?(o=!0,i||(n[a]=ge(l(e),s[a]))):Ps(l)&&(i||(t.defaults=s[a]),t.depth++,o=ao(l,e,t,i)||o,t.depth--)}return o}function UC(n){const e=n.length;let t=0;for(let i=0;i<e;i++)t=Math.max(t,n[i].data.length);return t}class v2 extends Qe{constructor(e,t){super(t),this.plotArea=e,this.chartService=e.chartService,this.categoryAxis=e.seriesCategoryAxis(t.series[0]),this.valueAxisRanges={},this.points=[],this.categoryPoints=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[],this.render()}render(){this.traverseDataPoints(this.addValue.bind(this))}pointOptions(e,t){let i=this.seriesOptions[t];if(!i){const s=this.pointType().prototype.defaults;this.seriesOptions[t]=i=C({},s,{vertical:!this.options.invertAxes},e)}return i}plotValue(e){if(!e)return 0;if(this.options.isStacked100&&we(e.value)){const i=this.categoryPoints[e.categoryIx],s=[];let r=0;for(let o=0;o<i.length;o++){const a=i[o];if(a){const l=e.series.stack,c=a.series.stack;if(l&&c&&l.group!==c.group)continue;we(a.value)&&(r+=Math.abs(a.value),s.push(Math.abs(a.value)))}}if(r>0)return e.value/r}return e.value}plotRange(e,t=0){const i=this.categoryPoints[e.categoryIx];if(this.options.isStacked){let a=this.plotValue(e);const l=a>=0;let c=t,u=!1;for(let h=0;h<i.length;h++){const d=i[h];if(e===d)break;const f=e.series.stack,p=d.series.stack;if(f&&p&&(typeof f===kw&&f!==p||f.group&&f.group!==p.group))continue;const g=this.plotValue(d);(g>=0&&l||g<0&&!l)&&(c+=g,a+=g,u=!0,this.options.isStacked100&&(a=Math.min(a,1)))}return u&&(c-=t),[c,a]}const r=this.seriesValueAxis(e.series),o=this.categoryAxisCrossingValue(r);return[o,vF(e.value)?e.value:o]}stackLimits(e,t){let i=Ot,s=Kt;for(let r=0;r<this.categoryPoints.length;r++){const o=this.categoryPoints[r];if(o)for(let a=0;a<o.length;a++){const l=o[a];if(l&&(l.series.stack===t||l.series.axis===e)){const c=this.plotRange(l,0)[1];N(c)&&isFinite(c)&&(s=Math.max(s,c),i=Math.min(i,c))}}}return{min:i,max:s}}updateStackRange(){const{isStacked:e,series:t}=this.options,i={};if(e)for(let s=0;s<t.length;s++){const r=t[s],o=r.axis,a=o+r.stack;let l=i[a];if(!l){l=this.stackLimits(o,r.stack);const c=this.errorTotals;c&&(c.negative.length&&(l.min=Math.min(l.min,Uw(c.negative).min)),c.positive.length&&(l.max=Math.max(l.max,Uw(c.positive).max))),l.min!==Ot||l.max!==Kt?i[a]=l:l=null}l&&(this.valueAxisRanges[o]=l)}}addErrorBar(e,t,i){const{value:s,series:r,seriesIx:o}=e,a=e.options.errorBars,l=t.fields[a2],c=t.fields[l2];let u;we(l)&&we(c)?u={low:l,high:c}:a&&N(a.value)&&(this.seriesErrorRanges=this.seriesErrorRanges||[],this.seriesErrorRanges[o]=this.seriesErrorRanges[o]||new o2(a.value,r,Si),u=this.seriesErrorRanges[o].getErrorRange(s,a.value)),u&&(e.low=u.low,e.high=u.high,this.addPointErrorBar(e,i))}addPointErrorBar(e,t){const i=!this.options.invertAxes,s=e.options.errorBars;let{series:r,low:o,high:a}=e;if(this.options.isStacked){const c=this.stackedErrorRange(e,t);o=c.low,a=c.high}else{const c={categoryIx:t,series:r};this.updateRange({value:o},c),this.updateRange({value:a},c)}const l=new lie(o,a,i,this,r,s);e.errorBars=[l],e.append(l)}stackedErrorRange(e,t){const i=this.plotRange(e,0)[1]-e.value,s=e.low+i,r=e.high+i;return this.errorTotals=this.errorTotals||{positive:[],negative:[]},s<0&&(this.errorTotals.negative[t]=Math.min(this.errorTotals.negative[t]||0,s)),r>0&&(this.errorTotals.positive[t]=Math.max(this.errorTotals.positive[t]||0,r)),{low:s,high:r}}addValue(e,t){const{categoryIx:i,series:s,seriesIx:r}=t;let o=this.categoryPoints[i];o||(this.categoryPoints[i]=o=[]);let a=this.seriesPoints[r];a||(this.seriesPoints[r]=a=[]);const l=this.createPoint(e,t);l&&(Object.assign(l,t),l.owner=this,l.noteText=e.fields.noteText,N(l.dataItem)||(l.dataItem=s.data[i]),this.addErrorBar(l,e,i)),this.points.push(l),a.push(l),o.push(l),this.updateRange(e.valueFields,t)}evalPointOptions(e,t,i,s,r,o){const a={defaults:r._defaults,excluded:["data","aggregate","_events","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]};let l=this._evalSeries[o];N(l)||(this._evalSeries[o]=l=ao(e,{},a,!0));let c=e;return l&&(c=C({},c),ao(c,{value:t,category:i,index:s,series:r,dataItem:r.data[s]},a)),c}updateRange(e,t){const i=t.series.axis,s=e.value;let r=this.valueAxisRanges[i];isFinite(s)&&null!==s&&(r=this.valueAxisRanges[i]=r||{min:Ot,max:Kt},r.min=Math.min(r.min,s),r.max=Math.max(r.max,s))}seriesValueAxis(e){const t=this.plotArea,i=e.axis,s=i?t.namedValueAxes[i]:t.valueAxis;if(!s)throw new Error("Unable to locate value axis with name "+i);return s}reflow(e){const t=this.categorySlots=[],i=this.points,s=this.categoryAxis;let r=0;this.traverseDataPoints((o,a)=>{const{categoryIx:l,series:c}=a,u=this.seriesValueAxis(c),h=i[r++];let d=t[l];if(d||(t[l]=d=this.categorySlot(s,l,u)),h){const f=this.plotRange(h,u.startValue()),p=this.valueSlot(u,f);if(p){const g=this.pointSlot(d,p);h.aboveAxis=this.aboveAxis(h,u),h.stackValue=f[1],this.options.isStacked100&&(h.percentage=this.plotValue(h)),this.reflowPoint(h,g)}else h.visible=!1}}),this.reflowCategories(t),!this.options.clip&&this.options.limitPoints&&this.points.length&&this.limitPoints(),this.box=e}valueSlot(e,t){return e.getSlot(t[0],t[1],!this.options.clip)}limitPoints(){const e=this.categoryPoints,t=e[0].concat(Nt(e));for(let i=0;i<t.length;i++)t[i]&&this.limitPoint(t[i])}limitPoint(e){const t=this.categoryAxis.limitSlot(e.box);t.equals(e.box)||e.reflow(t)}aboveAxis(e,t){const i=this.categoryAxisCrossingValue(t),s=e.value;return t.options.reverse?s<i:s>=i}categoryAxisCrossingValue(e){const t=this.categoryAxis,i=e.options;return[].concat(i.axisCrossingValues||i.axisCrossingValue)[t.axisIndex||0]||0}reflowPoint(e,t){e.reflow(t)}reflowCategories(){}pointSlot(e,t){const s=this.options.invertAxes,r=s?t:e,o=s?e:t;return new z(r.x1,o.y1,r.x2,o.y2)}categorySlot(e,t){return e.getSlot(t)}traverseDataPoints(e){const t=this.options.series,i=UC(t),s=t.length;for(let r=0;r<s;r++)this._outOfRangeCallback(t[r],"_outOfRangeMinPoint",r,e);for(let r=0;r<i;r++)for(let o=0;o<s;o++){const a=t[o],l=this.categoryAxis.categoryAt(r);e(this._bindPoint(a,o,r),{category:l,categoryIx:r,categoriesCount:i,series:a,seriesIx:o})}for(let r=0;r<s;r++)this._outOfRangeCallback(t[r],"_outOfRangeMaxPoint",r,e)}_outOfRangeCallback(e,t,i,s){const r=e[t];if(r){const o=r.categoryIx;s(this._bindPoint(e,i,o,r.item),{category:r.category,categoryIx:o,series:e,seriesIx:i,dataItem:r.item})}}_bindPoint(e,t,i,s){this._bindCache||(this._bindCache=[]);let r=this._bindCache[t];r||(r=this._bindCache[t]=[]);let o=r[i];return o||(o=r[i]=Ft.current.bindPoint(e,i,s)),o}formatPointValue(e,t){return null===e.value?"":this.chartService.format.auto(t,e.value)}pointValue(e){return e.valueFields.value}}B(v2,{series:[],invertAxes:!1,isStacked:!1,clip:!0,limitPoints:!0});const lo=v2,Hs={click:function(n,e){return n.trigger("seriesClick",this.eventArgs(e))},hover:function(n,e){return n.trigger(h2,this.eventArgs(e))},over:function(n,e){return n.trigger("seriesOver",this.eventArgs(e))},out:function(n,e){return n.trigger("seriesLeave",this.eventArgs(e))},eventArgs:function(n){return{value:this.value,percentage:this.percentage,stackValue:this.stackValue,category:this.category,series:this.series,dataItem:this.dataItem,runningTotal:this.runningTotal,total:this.total,element:Os(n),originalEvent:n,point:this}}},Du={createNote:function(){const n=this.options.notes,e=this.noteText||n.label.text;!1!==n.visible&&N(e)&&null!==e&&(this.note=new kL({value:this.value,text:e,dataItem:this.dataItem,category:this.category,series:this.series},this.options.notes,this.owner.chartService),this.append(this.note))}};class Sy extends Qe{constructor(e,t){super(),this.value=e,this.options=t,this.aboveAxis=ge(this.options.aboveAxis,!0),this.tooltipTracking=!0}render(){const{markers:e,labels:t}=this.options;if(!this._rendered){if(this._rendered=!0,e.visible&&e.size&&(this.marker=this.createMarker(),this.append(this.marker)),t.visible){const i=bn(t),s=this.pointData();let r=this.value;i?r=i(s):t.format&&(r=this.formatValue(t.format)),this.label=new ki(r,C({align:ye,vAlign:ye,margin:{left:5,right:5},zIndex:ge(t.zIndex,this.series.zIndex)},t),s),this.append(this.label)}this.createNote(),this.errorBar&&this.append(this.errorBar)}}markerBorder(){const e=this.options.markers,t=e.background,i=C({color:this.color},e.border);return N(i.color)||(i.color=new hr(t).brightness(.8).toHex()),i}createVisual(){}createMarker(){const e=this.options.markers;return new na({type:e.type,width:e.size,height:e.size,rotation:e.rotation,background:e.background,border:this.markerBorder(),opacity:this.series.opacity||e.opacity,zIndex:ge(e.zIndex,this.series.zIndex),animation:e.animation,visual:e.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category})}markerBox(){return this.marker||(this.marker=this.createMarker(),this.marker.reflow(this._childBox)),this.marker.box}reflow(e){const{options:t,aboveAxis:i}=this,s=t.vertical;this.render(),this.box=e;const r=e.clone();if(s?i?r.y1-=r.height():r.y2+=r.height():i?r.x1+=r.width():r.x2-=r.width(),this._childBox=r,this.marker&&this.marker.reflow(r),this.reflowLabel(r),this.errorBars)for(let o=0;o<this.errorBars.length;o++)this.errorBars[o].reflow(r);if(this.note){let o=this.markerBox();if(!t.markers.visible||!t.markers.size){const a=o.center();o=new z(a.x,a.y,a.x,a.y)}this.note.reflow(o)}}reflowLabel(e){const{options:t,label:i}=this;let s=t.labels.position;i&&(s=s===my?ze:s,s=s===IC?st:s,i.reflow(e),i.box.alignTo(this.markerBox(),s),i.reflow(i.box))}createHighlight(){const e=this.options.highlight.markers,t=this.markerBorder().color,i=this.options.markers,s=i.size+(i.border.width||0)+(e.border.width||0),r=new na({type:i.type,width:s,height:s,rotation:i.rotation,background:e.color||t,border:{color:e.border.color,width:e.border.width,opacity:ge(e.border.opacity,1)},opacity:ge(e.opacity,1)});return r.reflow(this._childBox),r.getElement()}highlightVisual(){return(this.marker||{}).visual}highlightVisualArgs(){const e=this.marker;let t,i;if(e)i=e.paddingBox.toRect(),t=e.visual;else{const s=this.options.markers.size,r=s/2,o=this.box.center();i=new Be([o.x-r,o.y-r],[s,s])}return{options:this.options,rect:i,visual:t}}tooltipAnchor(){const e=this.markerBox(),t=this.owner.pane.clipBox();if(!t||t.overlaps(e)){const r=Oe;let o,a;return this.aboveAxis?(o=e.y1,a=st):(o=e.y2,a=ze),{point:new ue(e.x2+5,o),align:{horizontal:r,vertical:a}}}}formatValue(e){return this.owner.formatPointValue(this,e)}overlapsBox(e){return this.markerBox().overlaps(e)}unclipElements(){this.label&&(this.label.options.noclip=!0),this.note&&(this.note.options.noclip=!0)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,series:this.series}}}Sy.prototype.defaults={vertical:!0,markers:{visible:!0,background:Ue,size:8,type:ks,border:{width:2},opacity:1},labels:{visible:!1,position:my,margin:at(3),padding:at(4),animation:{type:ia,delay:is}},notes:{label:{}},highlight:{markers:{border:{color:"#fff",width:2}},zIndex:100},errorBars:{line:{width:1}}},C(Sy.prototype,Hs),C(Sy.prototype,Du);const _l=Sy;class _2 extends Qe{constructor(e,t,i){super(),this.linePoints=e,this.series=t,this.seriesIx=i}points(){return this.toGeometryPoints(this.linePoints)}toGeometryPoints(e){const t=[];for(let i=0,s=e.length;i<s;i++)e[i]&&!1!==e[i].visible&&t.push(e[i]._childBox.toRect().center());return t}createVisual(){const e=this.series.visual;e?(this.visual=e({points:this.toGeometryPoints(this.linePoints),series:this.series,sender:this.getSender(),createVisual:()=>(this.segmentVisual(),this.visual)}),this.visual&&!N(this.visual.options.zIndex)&&(this.visual.options.zIndex=this.series.zIndex)):this.segmentVisual()}segmentVisual(){const{options:e,series:t}=this;let{color:i,_defaults:s}=t;Ct(i)&&s&&(i=s.color);const r=ae.fromPoints(this.points(),{stroke:{color:i,width:t.width,opacity:t.opacity,dashType:t.dashType},zIndex:t.zIndex});e.closed&&r.close(),this.visual=r}aliasFor(e,t){return this.parent.getNearestPoint(t.x,t.y,this.seriesIx)}}B(_2,{closed:!1});const Su=_2,uie={calculateStepPoints:function(n){const e=this.parent.plotArea.seriesCategoryAxis(this.series),{justified:t,vertical:i,reverse:s}=e.options,r=i?Q:J,o=i?J:Q,a=s?2:1,l=a;let c=jC(n[0],r,a,o,l);const u=[c];for(let h=1;h<n.length;h++){const d=jC(n[h],r,a,o,l);if(c[r]!==d[r]){const f=new L;f[r]=c[r],f[o]=d[o],u.push(f,d)}c=d}return t?c!==Nt(u)&&u.push(c):u.push(jC(Nt(n),r,a,o,s?1:2)),u}};function jC(n,e,t,i,s){const r=n.box,o=new L;return o[e]=r[e+t],o[i]=r[i+s],o}const GC=uie;class b2 extends Su{points(){return this.calculateStepPoints(this.linePoints)}}C(b2.prototype,GC);const hie=b2,$C=class die extends Su{segmentVisual(){const e=this.series,t=e._defaults;let i=e.color;Ct(i)&&t&&(i=t.color);const r=new dy(this.options.closed).process(this.points()),o=new ae({stroke:{color:i,width:e.width,opacity:e.opacity,dashType:e.dashType},zIndex:e.zIndex});o.segments.push.apply(o.segments,r),this.visual=o}},WC={renderSegments:function(){const{options:n,seriesPoints:e}=this,t=n.series,i=e.length;let s;this._segments=[];for(let r=0;r<i;r++){const o=t[r],a=this.sortPoints(e[r]),l=a.length;let c=[];for(let u=0;u<l;u++){const h=a[u];h?c.push(h):this.seriesMissingValues(o)!==du&&(c.length>1&&(s=this.createSegment(c,o,r,s),this._addSegment(s)),c=[])}c.length>1&&(s=this.createSegment(c,o,r,s),this._addSegment(s))}this.children.unshift.apply(this.children,this._segments)},_addSegment:function(n){this._segments.push(n),n.parent=this},sortPoints:function(n){return n},seriesMissingValues:function(n){const e=n.missingValues;return!e&&this.options.isStacked?ro:e||du},getNearestPoint:function(n,e,t){const i=new ue(n,e),s=this.seriesPoints[t];let o,r=Ot;for(let a=0;a<s.length;a++){const l=s[a];if(l&&N(l.value)&&null!==l.value&&!1!==l.visible){const u=l.box.center().distanceTo(i);u<r&&(o=l,r=u)}}return o}};class qC extends Ii{setup(){this._setEnd(this.options.box.x1)}step(e){const t=this.options.box;this._setEnd(Ji(t.x1,t.x2,e))}_setEnd(e){const t=this.element,i=t.segments,s=i[1].anchor(),r=i[2].anchor();t.suspend(),s.setX(e),t.resume(),r.setX(e)}}B(qC,{duration:is}),Fs.current.register("clip",qC);const fie=qC;function x2(n){for(let e=0;e<n.length;e++)if(N(n[e].zIndex))return!0}const Ty={createAnimation:function(){const n=this.getRoot();if(n&&!1!==(n.options||{}).transitions){const e=n.size(),t=ae.fromRect(e.toRect());this.visual.clip(t),this.animation=new fie(t,{box:e}),x2(this.options.series)&&this._setChildrenAnimation(t)}},_setChildrenAnimation:function(n){const e=this.animationPoints();for(let t=0;t<e.length;t++){const i=e[t];i&&i.visual&&N(i.visual.options.zIndex)&&i.visual.clip(n)}}};class w2 extends lo{render(){super.render(),this.updateStackRange(),this.renderSegments()}pointType(){return _l}createPoint(e,t){const{categoryIx:i,category:s,series:r,seriesIx:o}=t,a=this.seriesMissingValues(r);let l=e.valueFields.value;if(!N(l)||null===l){if(a!==ro)return null;l=0}let c=this.pointOptions(r,o);c=this.evalPointOptions(c,l,s,i,r,o);let u=e.fields.color||r.color;Ct(r.color)&&(u=c.color);const h=new _l(l,c);return h.color=u,this.append(h),h}plotRange(e){let t=this.plotValue(e);if(this.options.isStacked){const s=this.categoryPoints[e.categoryIx];for(let r=0;r<s.length;r++){const o=s[r];if(e===o)break;t+=this.plotValue(o),this.options.isStacked100&&(t=Math.min(t,1))}}return[t,t]}createSegment(e,t,i){const s=t.style;let r;return r=s===Kd?hie:s===fu?$C:Su,new r(e,t,i)}animationPoints(){const e=this.points,t=[];for(let i=0;i<e.length;i++)t.push((e[i]||{}).marker);return t.concat(this._segments)}supportsPointInactiveOpacity(){return!1}}C(w2.prototype,WC,Ty);const KC=w2,Tu=class pie extends Su{constructor(e,t,i,s,r){super(e,t,i),this.prevSegment=s,this.stackPoints=r}createVisual(){const e=this.series,t=e._defaults,i=e.line||{};let s=e.color;Ct(s)&&t&&(s=t.color),this.visual=new pt({zIndex:e.zIndex}),this.createFill({fill:{color:s,opacity:e.opacity},stroke:null}),i.width>0&&!1!==i.visible&&this.createStroke({stroke:C({color:s,opacity:e.opacity,lineCap:"butt"},i)})}strokeSegments(){let e=this._strokeSegments;return e||(e=this._strokeSegments=this.createStrokeSegments()),e}createStrokeSegments(){return this.segmentsFromPoints(this.points())}stackSegments(){return this.prevSegment?this.prevSegment.createStackSegments(this.stackPoints):this.createStackSegments(this.stackPoints)}createStackSegments(e){return this.segmentsFromPoints(this.toGeometryPoints(e)).reverse()}segmentsFromPoints(e){return e.map(t=>new Ns(t))}createStroke(e){const t=new ae(e);t.segments.push.apply(t.segments,this.strokeSegments()),this.visual.append(t)}hasStackSegment(){return this.prevSegment||this.stackPoints&&this.stackPoints.length}createFill(e){const t=this.strokeSegments(),i=t.slice(0),s=this.hasStackSegment();if(s){const o=this.stackSegments();cl(i,o)}const r=new ae(e);r.segments.push.apply(r.segments,i),!s&&t.length>1&&this.fillToAxes(r),this.visual.append(r)}fillToAxes(e){const t=this.parent,i=t.options.invertAxes,s=t.seriesValueAxis(this.series),r=t.categoryAxisCrossingValue(s),o=s.getSlot(r,r,!0),a=this.strokeSegments(),l=a[0].anchor(),c=Nt(a).anchor();let u=i?o.x1:o.y1;i?e.lineTo(u,c.y).lineTo(u,l.y):e.lineTo(c.x,u).lineTo(l.x,u)}};class C2 extends Tu{createStrokeSegments(){return this.segmentsFromPoints(this.calculateStepPoints(this.linePoints))}createStackSegments(e){return this.segmentsFromPoints(this.calculateStepPoints(e)).reverse()}}C(C2.prototype,GC);const gie=C2,YC=class mie extends Tu{createStrokeSegments(){const e=new dy(this.options.closed),t=this.points();return e.process(t)}createStackSegments(){const e=this.strokeSegments(),t=[];for(let i=e.length-1;i>=0;i--){const s=e[i];t.push(new Ns(s.anchor(),s.controlOut(),s.controlIn()))}return t}},vie=class yie extends KC{createSegment(e,t,i,s){const o=(t.line||{}).style;let a,l,c;return this.options.isStacked&&i>0&&s&&("gap"!==this.seriesMissingValues(t)?(l=s.linePoints,a=s):l=this._gapStackPoints(e,i,o)),c=o===Kd?gie:o===fu?YC:Tu,new c(e,t,i,a,l)}reflow(e){super.reflow(e);const t=this._stackPoints;if(t)for(let i=0;i<t.length;i++){const s=t[i],r=this.categoryAxis.getSlot(s.categoryIx);s.reflow(r)}}_gapStackPoints(e,t,i){const s=this.seriesPoints;let r=e[0].categoryIx,o=e.length;r<0&&(r=0,o--);const a=r+o,l=this.seriesOptions[0]._outOfRangeMinPoint?1:0,c=[];this._stackPoints=this._stackPoints||[];for(let u=r;u<a;u++){const h=u+l;let f,d=t;do{d--,f=s[d][h]}while(d>0&&!f);if(f)i!==Kd&&u>r&&!s[d][h-1]&&c.push(this._previousSegmentPoint(u,h,h-1,d)),c.push(f),i!==Kd&&u+1<a&&!s[d][h+1]&&c.push(this._previousSegmentPoint(u,h,h+1,d));else{const p=this._createGapStackPoint(u);this._stackPoints.push(p),c.push(p)}}return c}_previousSegmentPoint(e,t,i,s){const r=this.seriesPoints;let a,o=s;for(;o>0&&!a;)o--,a=r[o][i];return a?a=r[o][t]:(a=this._createGapStackPoint(e),this._stackPoints.push(a)),a}_createGapStackPoint(e){const t=this.pointOptions({},0),i=new _l(0,t);return i.categoryIx=e,i.series={},i}seriesMissingValues(e){return e.missingValues||ro}supportsPointInactiveOpacity(){return!1}},My=class _ie extends Y{constructor(){super(),this.axisRanges={}}update(e){const t=this.axisRanges;for(let i in e){const s=e[i];let r=t[i];t[i]=r=r||{min:Ot,max:Kt},r.min=Math.min(r.min,s.min),r.max=Math.max(r.max,s.max)}}reset(e){this.axisRanges[e]=void 0}query(e){return this.axisRanges[e]}};class D2 extends Qe{constructor(e,t,i){super(t),this.textBox=new ki(e,this.options,i),this.append(this.textBox)}createVisual(){this.textBox.options.noclip=this.options.noclip}reflow(e){const t=this.options,{vertical:i,aboveAxis:s}=t,r=this.children[0],o=r.options,a=r.box,l=r.options.padding;let c=e;o.align=i?ye:Oe,o.vAlign=i?ze:ye,t.position===Cy?i?(o.vAlign=ze,!s&&a.height()<e.height()&&(o.vAlign=st)):o.align=s?We:Oe:t.position===ye?(o.vAlign=ye,o.align=ye):"insideBase"===t.position?i?o.vAlign=s?st:ze:o.align=s?Oe:We:t.position===vl&&(i?c=s?new z(e.x1,e.y1-a.height(),e.x2,e.y1):new z(e.x1,e.y2,e.x2,e.y2+a.height()):(o.align=ye,c=s?new z(e.x2,e.y1,e.x2+a.width(),e.y2):new z(e.x1-a.width(),e.y1,e.x1,e.y2))),t.rotation||(i?l.left=l.right=(c.width()-r.contentBox.width())/2:l.top=l.bottom=(c.height()-r.contentBox.height())/2),r.reflow(c)}alignToClipBox(e){const i=this.options.vertical?J:Q,s=i+"1",r=i+"2",a=this.parent.box;if(a[s]<e[s]||e[r]<a[r]){const l=this.children[0].paddingBox.clone();l[s]=Math.max(a[s],e[s]),l[r]=Math.min(a[r],e[r]),this.reflow(l)}}}B(D2,{position:vl,margin:at(3),padding:at(4),color:Rt,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:ia,delay:is},zIndex:2});const S2=D2;function ZC(n){const e=n.overlay;return e&&e.gradient&&"none"!==e.gradient}class Ey extends Qe{constructor(e,t){super(),this.options=t,this.color=t.color||Ue,this.aboveAxis=ge(this.options.aboveAxis,!0),this.value=e}render(){this._rendered||(this._rendered=!0,this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))}createLabel(){const e=this.options,t=e.labels;if(t.visible){const i=this.pointData();let r,s=bn(t);r=s?s(i):this.formatValue(t.format),this.label=new S2(r,C({vertical:e.vertical},t),i),this.append(this.label)}}formatValue(e){return this.owner.formatPointValue(this,e)}reflow(e){this.render();const t=this.label;if(this.box=e,t&&(t.options.aboveAxis=this.aboveAxis,t.reflow(e)),this.note&&this.note.reflow(e),this.errorBars)for(let i=0;i<this.errorBars.length;i++)this.errorBars[i].reflow(e)}createVisual(){const{box:e,options:t}=this,i=t.visual;if(!1!==this.visible)if(super.createVisual(),i){const s=this.rectVisual=i({category:this.category,dataItem:this.dataItem,value:this.value,sender:this.getSender(),series:this.series,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,rect:e.toRect(),createVisual:()=>{const r=new pt;return this.createRect(r),r},options:t});s&&this.visual.append(s)}else e.width()>0&&e.height()>0&&this.createRect(this.visual)}createRect(e){const t=this.options,i=t.border,s=N(i.opacity)?i.opacity:t.opacity,r=this.box.toRect();r.size.width=Math.round(r.size.width);const o=this.rectVisual=ae.fromRect(r,{fill:{color:this.color,opacity:t.opacity},stroke:{color:this.getBorderColor(),width:i.width,opacity:s,dashType:i.dashType}}),a=this.box.width(),l=this.box.height();if((t.vertical?a:l)>6&&(Qi(o),(a<1||l<1)&&(o.options.stroke.lineJoin="round")),e.append(o),ZC(t)){const u=this.createGradientOverlay(o,{baseColor:this.color},C({end:t.vertical?void 0:[0,1]},t.overlay));e.append(u)}}createHighlight(e){return Qi(ae.fromRect(this.box.toRect(),e))}highlightVisual(){return this.rectVisual}highlightVisualArgs(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}}getBorderColor(){const e=this.color,t=this.options.border,i=t._brightness||.8;let s=t.color;return N(s)||(s=new hr(e).brightness(i).toHex()),s}tooltipAnchor(){const{options:e,box:t,aboveAxis:i}=this,s=this.owner.pane.clipBox()||t;let a,l,r=Oe,o=ze;if(e.vertical)a=Math.min(t.x2,s.x2)+5,i?l=Math.max(t.y1,s.y1):(l=Math.min(t.y2,s.y2),o=st);else{const c=Math.max(t.x1,s.x1),u=Math.min(t.x2,s.x2);e.isStacked?(o=st,i?(r=We,a=u):a=c,l=Math.max(t.y1,s.y1)-5):(i?a=u+5:(a=c-5,r=We),l=Math.max(t.y1,s.y1))}return{point:new ue(a,l),align:{horizontal:r,vertical:o}}}overlapsBox(e){return this.box.overlaps(e)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,series:this.series}}}C(Ey.prototype,Hs),C(Ey.prototype,Du),Ey.prototype.defaults={border:{width:1},vertical:!0,overlay:{gradient:"glass"},labels:{visible:!1,format:"{0}"},opacity:1,notes:{label:{}}};const XC=Ey;function T2(n,e){n.forEach(e)}function M2(n,e){const t=n.length;for(let i=t-1;i>=0;i--)e(n[i],i-t-1)}class E2 extends Qe{constructor(e){super(e),this.forEach=e.rtl?M2:T2}reflow(e){const{vertical:t,gap:i,spacing:s}=this.options,r=this.children,o=r.length,a=t?J:Q,l=o+i+s*(o-1),c=(t?e.height():e.width())/l;let u=e[a+1]+c*(i/2);this.forEach(r,(h,d)=>{const f=(h.box||e).clone();f[a+1]=u,f[a+2]=u+c,h.reflow(f),d<o-1&&(u+=c*s),u+=c})}}B(E2,{vertical:!1,gap:0,spacing:0});const Ay=E2;class A2 extends Qe{reflow(e){const t=this.options.vertical?Q:J,i=this.children,s=i.length;let r=this.box=new z;for(let o=0;o<s;o++){const a=i[o];if(!1!==a.visible){const l=a.box.clone();l.snapTo(e,t),0===o&&(r=this.box=l.clone()),a.reflow(l),r.wrap(l)}}}}B(A2,{vertical:!0});const xie=A2;class I2 extends lo{render(){super.render(),this.updateStackRange()}pointType(){return XC}clusterType(){return Ay}stackType(){return xie}stackLimits(e,t){return super.stackLimits(e,t)}createPoint(e,t){const{categoryIx:i,category:s,series:r,seriesIx:o}=t,{options:a,children:l}=this,c=a.isStacked,u=this.pointValue(e);let h=this.pointOptions(r,o);const d=h.labels;c&&d.position===vl&&(d.position=Cy),h.isStacked=c;let f=e.fields.color||r.color;u<0&&h.negativeColor&&(f=h.negativeColor),h=this.evalPointOptions(h,u,s,i,r,o),Ct(r.color)&&(f=h.color);const g=new(this.pointType())(u,h);g.color=f;let y=l[i];return y||(y=new(this.clusterType())({vertical:a.invertAxes,gap:a.gap,spacing:a.spacing,rtl:!a.invertAxes&&(this.chartService||{}).rtl}),this.append(y)),c?this.getStackWrap(r,y).append(g):y.append(g),g}getStackWrap(e,t){const i=e.stack,s=i&&(i.group||i),r=t.children;let o;if(typeof s===kw){for(let a=0;a<r.length;a++)if(r[a]._stackGroup===s){o=r[a];break}}else o=r[0];return o||(o=new(this.stackType())({vertical:!this.options.invertAxes}),o._stackGroup=s,t.append(o)),o}categorySlot(e,t,i){const s=this.options,r=e.getSlot(t),o=i.startValue();if(s.isStacked){const a=i.getSlot(o,o,!0),l=s.invertAxes?Q:J;r[l+1]=r[l+2]=a[l+1]}return r}reflowCategories(e){const t=this.children,i=t.length;for(let s=0;s<i;s++)t[s].reflow(e[s])}createAnimation(){this._setAnimationOptions(),super.createAnimation(),x2(this.options.series)&&this._setChildrenAnimation()}_setChildrenAnimation(){const e=this.points;for(let t=0;t<e.length;t++){const i=e[t],s=i.visual;s&&N(s.options.zIndex)&&(i.options.animation=this.options.animation,i.createAnimation())}}_setAnimationOptions(){const e=this.options,t=e.animation||{};let i;if(e.isStacked){const s=this.seriesValueAxis(e.series[0]);i=s.getSlot(s.startValue())}else i=this.categoryAxis.getSlot(0);t.origin=new L(i.x1,i.y1),t.vertical=!e.invertAxes}}B(I2,{animation:{type:Vs}});const cf=I2;class Iy extends Qe{constructor(e,t){super(t),this.value=e}reflow(e){const{options:t,value:i,owner:s}=this,r=s.seriesValueAxis(t),o=r.getSlot(i.open,i.close),a=r.getSlot(i.low,i.high);o.x1=a.x1=e.x1,o.x2=a.x2=e.x2,this.realBody=o;const l=a.center().x,c=[];c.push([[l,a.y1],[l,o.y1]]),c.push([[l,o.y2],[l,a.y2]]),this.lines=c,this.box=a.clone().wrap(o),this._rendered||(this._rendered=!0,this.createNote()),this.reflowNote()}reflowNote(){this.note&&this.note.reflow(this.box)}createVisual(){super.createVisual(),this._mainVisual=this.mainVisual(this.options),this.visual.append(this._mainVisual),this.createOverlay()}mainVisual(e){const t=new pt;return this.createBody(t,e),this.createLines(t,e),t}createBody(e,t){const i=ae.fromRect(this.realBody.toRect(),{fill:{color:this.color,opacity:t.opacity},stroke:null});t.border.width>0&&i.options.set("stroke",{color:this.getBorderColor(),width:t.border.width,dashType:t.border.dashType,opacity:ge(t.border.opacity,t.opacity)}),Qi(i),e.append(i),ZC(t)&&e.append(this.createGradientOverlay(i,{baseColor:this.color},C({end:t.vertical?void 0:[0,1]},t.overlay)))}createLines(e,t){this.drawLines(e,t,this.lines,t.line)}drawLines(e,t,i,s){if(!i)return;const r={stroke:{color:s.color||this.color,opacity:ge(s.opacity,t.opacity),width:s.width,dashType:s.dashType,lineCap:"butt"}};for(let o=0;o<i.length;o++){const a=ae.fromPoints(i[o],r);Qi(a),e.append(a)}}getBorderColor(){const e=this.options.border;let t=e.color;return N(t)||(t=new hr(this.color).brightness(e._brightness).toHex()),t}createOverlay(){const e=ae.fromRect(this.box.toRect(),{fill:{color:Ue,opacity:0},stroke:null});this.visual.append(e)}createHighlight(){const e=this.options.highlight,t=this.color;this.color=e.color||this.color;const i=this.mainVisual(C({},this.options,{line:{color:this.getBorderColor()}},e));return this.color=t,i}highlightVisual(){return this._mainVisual}highlightVisualArgs(){return{options:this.options,rect:this.box.toRect(),visual:this._mainVisual}}tooltipAnchor(){const e=this.box,t=this.owner.pane.clipBox()||e;return{point:new ue(e.x2+5,Math.max(e.y1,t.y1)+5),align:{horizontal:Oe,vertical:ze}}}formatValue(e){return this.owner.formatPointValue(this,e)}overlapsBox(e){return this.box.overlaps(e)}}B(Iy,{vertical:!0,border:{_brightness:.8},line:{width:2},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{4:d}</th></tr><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}}}),C(Iy.prototype,Hs),C(Iy.prototype,Du);const QC=Iy;function k2(n){return MC(n)===n.length}class P2 extends lo{reflowCategories(e){const t=this.children,i=t.length;for(let s=0;s<i;s++)t[s].reflow(e[s])}addValue(e,t){const{categoryIx:i,category:s,series:r,seriesIx:o}=t,{children:a,options:l}=this,c=e.valueFields,h=k2(this.splitValue(c)),d=r.data[i];let p,f=this.categoryPoints[i];f||(this.categoryPoints[i]=f=[]),h&&(p=this.createPoint(e,t));let g=a[i];g||(g=new Ay({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(g)),p&&(this.updateRange(c,t),g.append(p),p.categoryIx=i,p.category=s,p.series=r,p.seriesIx=o,p.owner=this,p.dataItem=d,p.noteText=e.fields.noteText),this.points.push(p),f.push(p)}pointType(){return QC}createPoint(e,t){const{categoryIx:i,category:s,series:r,seriesIx:o}=t,a=this.pointType(),l=e.valueFields;let c=C({},r),u=e.fields.color||r.color;c=this.evalPointOptions(c,l,s,i,r,o),r.type===gu&&l.open>l.close&&(u=e.fields.downColor||r.downColor||r.color),Ct(r.color)&&(u=c.color),c.vertical=!this.options.invertAxes;const h=new a(l,c);return h.color=u,h}splitValue(e){return[e.low,e.open,e.close,e.high]}updateRange(e,t){const i=t.series.axis,s=this.splitValue(e);let r=this.valueAxisRanges[i];r=this.valueAxisRanges[i]=r||{min:Ot,max:Kt},r=this.valueAxisRanges[i]={min:Math.min.apply(Math,s.concat([r.min])),max:Math.max.apply(Math,s.concat([r.max]))}}formatPointValue(e,t){const i=e.value;return this.chartService.format.auto(t,i.open,i.high,i.low,i.close,e.category)}animationPoints(){return this.points}}C(P2.prototype,Ty);const JC=P2;class eD extends QC{constructor(e,t){super(e,t),this.createNote()}reflow(e){const{options:t,value:i,owner:s}=this,r=s.seriesValueAxis(t);let o,a;this.boxSlot=a=r.getSlot(i.q1,i.q3),this.realBody=a,this.reflowBoxSlot(e),this.whiskerSlot=o=r.getSlot(i.lower,i.upper),this.reflowWhiskerSlot(e);const l=r.getSlot(i.median);if(i.mean){const c=r.getSlot(i.mean);this.meanPoints=this.calcMeanPoints(e,c)}this.whiskerPoints=this.calcWhiskerPoints(a,o),this.medianPoints=this.calcMedianPoints(e,l),this.box=o.clone().wrap(a),this.reflowNote()}reflowBoxSlot(e){this.boxSlot.x1=e.x1,this.boxSlot.x2=e.x2}reflowWhiskerSlot(e){this.whiskerSlot.x1=e.x1,this.whiskerSlot.x2=e.x2}calcMeanPoints(e,t){return[[[e.x1,t.y1],[e.x2,t.y1]]]}calcWhiskerPoints(e,t){const i=t.center().x;return[[[i-5,t.y1],[i+5,t.y1],[i,t.y1],[i,e.y1]],[[i-5,t.y2],[i+5,t.y2],[i,t.y2],[i,e.y2]]]}calcMedianPoints(e,t){return[[[e.x1,t.y1],[e.x2,t.y1]]]}renderOutliers(e){const t=this.value,i=t.outliers||[],s=3*Math.abs(t.q3-t.q1),r=[];let o=e.markers||{};for(let a=0;a<i.length;a++){const l=i[a];o=l<t.q3+s&&l>t.q1-s?e.outliers:e.extremes;let c=C({},o.border);N(c.color)||(c.color=N(this.color)?this.color:new hr(o.background).brightness(.8).toHex());const u=new na({type:o.type,width:o.size,height:o.size,rotation:o.rotation,background:o.background,border:c,opacity:o.opacity});u.value=l,r.push(u)}return this.reflowOutliers(r),r}reflowOutliers(e){const t=this.owner.seriesValueAxis(this.options),i=this.box.center();for(let s=0;s<e.length;s++){const o=t.getSlot(e[s].value);this.options.vertical?o.move(i.x):o.move(void 0,i.y),this.box=this.box.wrap(o),e[s].reflow(o)}}mainVisual(e){const t=super.mainVisual(e),i=this.renderOutliers(e);for(let s=0;s<i.length;s++){const r=i[s].getElement();r&&t.append(r)}return t}createLines(e,t){this.drawLines(e,t,this.whiskerPoints,t.whiskers),this.drawLines(e,t,this.medianPoints,t.median),this.drawLines(e,t,this.meanPoints,t.mean)}getBorderColor(){return(this.options.border||{}).color?this.options.border.color:this.color?this.color:super.getBorderColor()}}B(eD,{border:{_brightness:.8},line:{width:2},median:{color:"#f6f6f6"},mean:{width:2,dashType:"dash",color:"#f6f6f6"},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{6:d}</th></tr><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},outliers:{visible:!0,size:8,type:"cross",background:Ue,border:{width:2,opacity:1},opacity:0},extremes:{visible:!0,size:8,type:ks,background:Ue,border:{width:2,opacity:1},opacity:0}}),C(eD.prototype,Hs);const R2=eD,Cie=class wie extends R2{reflowBoxSlot(e){this.boxSlot.y1=e.y1,this.boxSlot.y2=e.y2}reflowWhiskerSlot(e){this.whiskerSlot.y1=e.y1,this.whiskerSlot.y2=e.y2}calcMeanPoints(e,t){return[[[t.x1,e.y1],[t.x1,e.y2]]]}calcWhiskerPoints(e,t){const i=t.center().y;return[[[t.x1,i-5],[t.x1,i+5],[t.x1,i],[e.x1,i]],[[t.x2,i-5],[t.x2,i+5],[t.x2,i],[e.x2,i]]]}calcMedianPoints(e,t){return[[[t.x1,e.y1],[t.x1,e.y2]]]}},Sie=class Die extends JC{addValue(e,t){const{categoryIx:i,category:s,series:r,seriesIx:o}=t,{children:a,options:l}=this,c=e.valueFields,h=k2(this.splitValue(c)),d=r.data[i];let p,f=this.categoryPoints[i];f||(this.categoryPoints[i]=f=[]),h&&(p=this.createPoint(e,t));let g=a[i];g||(g=new Ay({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(g)),p&&(this.updateRange(c,t),g.append(p),p.categoryIx=i,p.category=s,p.series=r,p.seriesIx=o,p.owner=this,p.dataItem=d),this.points.push(p),f.push(p)}pointType(){return this.options.invertAxes?Cie:R2}splitValue(e){return[e.lower,e.q1,e.median,e.q3,e.upper]}updateRange(e,t){const i=t.series.axis;let s=this.valueAxisRanges[i],r=this.splitValue(e).concat(this.filterOutliers(e.outliers));N(e.mean)&&(r=r.concat(e.mean)),s=this.valueAxisRanges[i]=s||{min:Ot,max:Kt},s=this.valueAxisRanges[i]={min:Math.min.apply(Math,r.concat([s.min])),max:Math.max.apply(Math,r.concat([s.max]))}}formatPointValue(e,t){const i=e.value;return this.chartService.format.auto(t,i.lower,i.q1,i.median,i.q3,i.upper,i.mean,e.category)}filterOutliers(e){const t=(e||[]).length,i=[];for(let s=0;s<t;s++){const r=e[s];N(r)&&null!==r&&i.push(r)}return i}supportsPointInactiveOpacity(){return!1}},Mie=class Tie extends y2{getAxis(){const e=this.chart.seriesAxes(this.series);return this.isVertical?e.y:e.x}};function Pi(n){return N(n)&&null!==n}class tD extends Qe{constructor(e,t){super(t),this.plotArea=e,this.chartService=e.chartService,this._initFields(),this.render()}_initFields(){this.xAxisRanges={},this.yAxisRanges={},this.points=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[]}render(){this.traverseDataPoints(this.addValue.bind(this))}addErrorBar(e,t,i){const s=e.value[t],r=t+"Value",o=t+"ErrorLow",a=t+"ErrorHigh",{seriesIx:l,series:c}=i,u=e.options.errorBars,h=i[o],d=i[a];if(we(s)){let f;we(h)&&we(d)&&(f={low:h,high:d}),u&&N(u[r])&&(this.seriesErrorRanges=this.seriesErrorRanges||{x:[],y:[]},this.seriesErrorRanges[t][l]=this.seriesErrorRanges[t][l]||new o2(u[r],c,t),f=this.seriesErrorRanges[t][l].getErrorRange(s,u[r])),f&&this.addPointErrorBar(f,e,t)}}addPointErrorBar(e,t,i){const{low:s,high:r}=e,{series:o,options:{errorBars:a}}=t,l=i===J,c={};t[i+"Low"]=s,t[i+"High"]=r,t.errorBars=t.errorBars||[];const u=new Mie(s,r,l,this,o,a);t.errorBars.push(u),t.append(u),c[i]=s,this.updateRange(c,o),c[i]=r,this.updateRange(c,o)}addValue(e,t){const{x:i,y:s}=e,r=t.seriesIx,a=this.seriesMissingValues(this.options.series[r]),l=this.seriesPoints[r];let u,c=e;Pi(i)&&Pi(s)||(c=this.createMissingValue(c,a)),c&&(u=this.createPoint(c,t),u&&(Object.assign(u,t),this.addErrorBar(u,Q,t),this.addErrorBar(u,J,t)),this.updateRange(c,t.series)),this.points.push(u),l.push(u)}seriesMissingValues(e){return e.missingValues}createMissingValue(){}updateRange(e,t){const i=this.chartService.intl,{xAxis:s,yAxis:r}=t;let{x:o,y:a}=e,l=this.xAxisRanges[s],c=this.yAxisRanges[r];Pi(o)&&(l=this.xAxisRanges[s]=l||{min:Ot,max:Kt},Yr(o)&&(o=En(i,o)),l.min=Math.min(l.min,o),l.max=Math.max(l.max,o)),Pi(a)&&(c=this.yAxisRanges[r]=c||{min:Ot,max:Kt},Yr(a)&&(a=En(i,a)),c.min=Math.min(c.min,a),c.max=Math.max(c.max,a))}evalPointOptions(e,t,i){const{series:s,seriesIx:r}=i,o={defaults:s._defaults,excluded:["data","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]};let a=this._evalSeries[r];N(a)||(this._evalSeries[r]=a=ao(e,{},o,!0));let l=e;return a&&(l=C({},e),ao(l,{value:t,series:s,dataItem:i.dataItem},o)),l}pointType(){return _l}pointOptions(e,t){let i=this.seriesOptions[t];if(!i){const s=this.pointType().prototype.defaults;this.seriesOptions[t]=i=C({},s,{markers:{opacity:e.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},e)}return i}createPoint(e,t){const i=t.series;let s=this.pointOptions(i,t.seriesIx),r=t.color||i.color;s=this.evalPointOptions(s,e,t),Ct(i.color)&&(r=s.color);const o=new _l(e,s);return o.color=r,this.append(o),o}seriesAxes(e){const{xAxis:t,yAxis:i}=e,s=this.plotArea,r=t?s.namedXAxes[t]:s.axisX,o=i?s.namedYAxes[i]:s.axisY;if(!r)throw new Error("Unable to locate X axis with name "+t);if(!o)throw new Error("Unable to locate Y axis with name "+i);return{x:r,y:o}}reflow(e){const t=this.points,i=!this.options.clip;let s=0;this.traverseDataPoints((r,o)=>{const a=t[s++],l=this.seriesAxes(o.series),c=l.x.getSlot(r.x,r.x,i),u=l.y.getSlot(r.y,r.y,i);if(a)if(c&&u){const h=this.pointSlot(c,u);a.reflow(h)}else a.visible=!1}),this.box=e}pointSlot(e,t){return new z(e.x1,t.y1,e.x2,t.y2)}traverseDataPoints(e){const{options:{series:t},seriesPoints:i}=this;for(let s=0;s<t.length;s++){const r=t[s];i[s]||(i[s]=[]);for(let a=0;a<r.data.length;a++){const{valueFields:l,fields:c}=this._bindPoint(r,s,a);e(l,C({pointIx:a,series:r,seriesIx:s,dataItem:r.data[a],owner:this},c))}}}formatPointValue(e,t){const i=e.value;return this.chartService.format.auto(t,i.x,i.y)}animationPoints(){const e=this.points,t=[];for(let i=0;i<e.length;i++)t.push((e[i]||{}).marker);return t}}B(tD,{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:!0}),C(tD.prototype,Ty,{_bindPoint:lo.prototype._bindPoint});const ky=tD;class Py extends _l{constructor(e,t){super(e,t),this.category=e.category}createHighlight(){const e=this.options.highlight,t=e.border,i=this.options.markers,s=this.box.center(),r=(i.size+i.border.width+t.width)/2,o=new pt,a=new eo(new ts([s.x,s.y+r/5+t.width/2],r+t.width/2),{stroke:{color:"none"},fill:this.createGradient({gradient:"bubbleShadow",color:i.background,stops:[{offset:0,color:i.background,opacity:.3},{offset:1,color:i.background,opacity:0}]})}),l=new eo(new ts([s.x,s.y],r),{stroke:{color:t.color||new hr(i.background).brightness(.8).toHex(),width:t.width,opacity:t.opacity},fill:{color:i.background,opacity:e.opacity}});return o.append(a,l),o}}Py.prototype.defaults=C({},Py.prototype.defaults,{labels:{position:ye},highlight:{opacity:1,border:{color:"#fff",width:2,opacity:1}}}),Py.prototype.defaults.highlight.zIndex=void 0;const O2=Py;class N2 extends ky{_initFields(){this._maxSize=Kt,super._initFields()}addValue(e,t){null!==e.size&&(e.size>0||e.size<0&&t.series.negativeValues.visible)?(this._maxSize=Math.max(this._maxSize,Math.abs(e.size)),super.addValue(e,t)):(this.points.push(null),this.seriesPoints[t.seriesIx].push(null))}reflow(e){this.updateBubblesSize(e),super.reflow(e)}pointType(){return O2}createPoint(e,t){const i=t.series,r=t.pointIx*(is/i.data.length),o={delay:r,duration:is-r,type:pu};let a=t.color||i.color;e.size<0&&i.negativeValues.visible&&(a=ge(i.negativeValues.color,a));let l=C({labels:{animation:{delay:r,duration:is-r}}},this.pointOptions(i,t.seriesIx),{markers:{type:ks,border:i.border,opacity:i.opacity,animation:o}});l=this.evalPointOptions(l,e,t),Ct(i.color)&&(a=l.color),l.markers.background=a;const c=new O2(e,l);return c.color=a,this.append(c),c}updateBubblesSize(e){const{options:{series:t}}=this,i=Math.min(e.width(),e.height());for(let s=0;s<t.length;s++){const r=t[s],o=this.seriesPoints[s],c=(r.minSize||Math.max(.02*i,10))/2,u=(r.maxSize||.2*i)/2,h=Math.PI*c*c,p=(Math.PI*u*u-h)/this._maxSize;for(let g=0;g<o.length;g++){const y=o[g];if(y){const b=Math.abs(y.value.size)*p,w=Math.sqrt((h+b)/Math.PI),E=ge(y.options.zIndex,0)+(1-w/u);C(y.options,{zIndex:E,markers:{size:2*w,zIndex:E},labels:{zIndex:E+1}})}}}}formatPointValue(e,t){const i=e.value;return this.chartService.format.auto(t,i.x,i.y,i.size,e.category)}createAnimation(){}createVisual(){}}B(N2,{tooltip:{format:"{3}"},labels:{format:"{3}"}});const Eie=N2;class F2 extends na{}C(F2.prototype,Hs);const Aie=F2;class uf extends Qe{constructor(e,t){super(t),this.aboveAxis=this.options.aboveAxis,this.color=t.color||Ue,this.value=e}render(){const e=this.options;this._rendered||(this._rendered=!0,N(this.value.target)&&(this.target=new Aie({type:e.target.shape,background:e.target.color||this.color,opacity:e.opacity,zIndex:e.zIndex,border:e.target.border,vAlign:ze,align:We}),this.target.value=this.value,this.target.dataItem=this.dataItem,this.target.series=this.series,this.append(this.target)),this.createNote())}reflow(e){this.render();const{options:t,target:i,owner:s}=this,r=t.invertAxes,o=s.seriesValueAxis(this.options),a=s.categorySlot(s.categoryAxis,t.categoryIx,o),l=o.getSlot(this.value.target),c=r?l:a,u=r?a:l;if(i){const h=new z(c.x1,u.y1,c.x2,u.y2);i.options.height=r?h.height():t.target.line.width,i.options.width=r?t.target.line.width:h.width(),i.reflow(h)}this.note&&this.note.reflow(e),this.box=e}createVisual(){super.createVisual();const e=this.options,t=ae.fromRect(this.box.toRect(),{fill:{color:this.color,opacity:e.opacity},stroke:null});e.border.width>0&&t.options.set("stroke",{color:e.border.color||this.color,width:e.border.width,dashType:e.border.dashType,opacity:ge(e.border.opacity,e.opacity)}),this.bodyVisual=t,Qi(t),this.visual.append(t)}createAnimation(){this.bodyVisual&&(this.animation=Ii.create(this.bodyVisual,this.options.animation))}createHighlight(e){return ae.fromRect(this.box.toRect(),e)}highlightVisual(){return this.bodyVisual}highlightVisualArgs(){return{rect:this.box.toRect(),visual:this.bodyVisual,options:this.options}}formatValue(e){return this.owner.formatPointValue(this,e)}}uf.prototype.tooltipAnchor=XC.prototype.tooltipAnchor,B(uf,{border:{width:1},vertical:!1,opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},tooltip:{format:"Current: {0}<br />Target: {1}"}}),C(uf.prototype,Hs),C(uf.prototype,Du);const Iie=uf;class nD extends lo{constructor(e,t){(function kie(n){const e=n.series;for(let t=0;t<e.length;t++){const i=e[t],s=i.data;s&&!_n(s[0])&&!Ps(s[0])&&(i.data=[s])}})(t),super(e,t)}reflowCategories(e){const t=this.children,i=t.length;for(let s=0;s<i;s++)t[s].reflow(e[s])}plotRange(e){const i=this.seriesValueAxis(e.series),s=this.categoryAxisCrossingValue(i);return[s,e.value.current||s]}createPoint(e,t){const{categoryIx:i,category:s,series:r,seriesIx:o}=t,{options:a,children:l}=this,c=e.valueFields;let u=C({vertical:!a.invertAxes,overlay:r.overlay,categoryIx:i,invertAxes:a.invertAxes},r),h=e.fields.color||r.color;u=this.evalPointOptions(u,c,s,i,r,o),Ct(r.color)&&(h=u.color);const d=new Iie(c,u);d.color=h;let f=l[i];return f||(f=new Ay({vertical:a.invertAxes,gap:a.gap,spacing:a.spacing,rtl:!a.invertAxes&&(this.chartService||{}).rtl}),this.append(f)),f.append(d),d}updateRange(e,t){const{current:i,target:s}=e,r=t.series.axis;let o=this.valueAxisRanges[r];N(i)&&!isNaN(i)&&N(s&&!isNaN(s))&&(o=this.valueAxisRanges[r]=o||{min:Ot,max:Kt},o.min=Math.min(o.min,i,s),o.max=Math.max(o.max,i,s))}formatPointValue(e,t){return this.chartService.format.auto(t,e.value.current,e.value.target)}pointValue(e){return e.valueFields.current}aboveAxis(e){return e.value.current>0}createAnimation(){const e=this.points;this._setAnimationOptions();for(let t=0;t<e.length;t++){const i=e[t];i.options.animation=this.options.animation,i.createAnimation()}}}nD.prototype._setAnimationOptions=cf.prototype._setAnimationOptions,B(nD,{animation:{type:Vs}});const Pie=nD;class L2 extends Y{constructor(e,t){super(),this.chartService=e,this.options=C({},this.options,t)}getStyle(e,t){let{background:i,border:{color:s}}=e;if(t){const o=t.color||t.options.color;i=ge(i,o),s=ge(s,o)}const r=at(e.padding||{},"auto");return{backgroundColor:i,borderColor:s,font:e.font,color:e.color,opacity:e.opacity,borderWidth:su(e.border.width),paddingTop:su(r.top),paddingBottom:su(r.bottom),paddingLeft:su(r.left),paddingRight:su(r.right)}}show(e,t,i){e.format=t.format;const s=this.getStyle(t,i);e.style=s;const r=new hr(s.backgroundColor);!N(t.color)&&!r.isDark()&&(e.className="k-chart-tooltip-inverse"),this.chartService.notify(f2,e),this.visible=!0}hide(){this.chartService&&this.chartService.notify(p2),this.visible=!1}destroy(){delete this.chartService}}B(L2,{border:{width:1},opacity:1});const iD=L2;class B2 extends iD{constructor(e,t,i){super(e,i),this.crosshair=t,this.formatService=e.format,this.initAxisName()}initAxisName(){const e=this.crosshair.axis;let i;i=e.plotArea.categoryAxis?e.getCategory?"categoryAxis":"valueAxis":e.options.vertical?"yAxis":"xAxis",this.axisName=i}showAt(e){const{crosshair:{axis:t},options:i}=this;let s=t[i.stickyMode?"getCategory":"getValue"](e),r=s;i.format?r=this.formatService.auto(i.format,s):t.options.type===Yo&&(r=this.formatService.auto(t.options.labels.dateFormats[t.options.baseUnit],s)),this.show({point:e,anchor:this.getAnchor(),crosshair:this.crosshair,value:r,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex},this.options)}hide(){this.chartService.notify(p2,{crosshair:this.crosshair,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex})}getAnchor(){const{crosshair:e,options:{position:t,padding:i}}=this,s=!e.axis.options.vertical,r=e.line.bbox();let o,a,l;return s?(o=ye,t===st?(a=ze,l=r.bottomLeft().translate(0,i)):(a=st,l=r.topLeft().translate(0,-i))):(a=ye,t===Oe?(o=We,l=r.topLeft().translate(-i,0)):(o=Oe,l=r.topRight().translate(i,0))),{point:l,align:{horizontal:o,vertical:a}}}}B(B2,{padding:10});const Rie=B2;class V2 extends Qe{constructor(e,t,i){super(i),this.axis=t,this.stickyMode=t instanceof io;const s=this.options.tooltip;s.visible&&(this.tooltip=new Rie(e,this,C({},s,{stickyMode:this.stickyMode})))}showAt(e){this.point=e,this.moveLine(),this.line.visible(!0),this.tooltip&&this.tooltip.showAt(e)}hide(){this.line.visible(!1),this.tooltip&&this.tooltip.hide()}moveLine(){const{axis:e,point:t}=this,i=e.options.vertical,s=this.getBox(),r=i?J:Q,o=new L(s.x1,s.y1);let a;if(a=i?new L(s.x2,s.y1):new L(s.x1,s.y2),t)if(this.stickyMode){const l=e.getSlot(e.pointCategoryIndex(t));o[r]=a[r]=l.center()[r]}else o[r]=a[r]=t[r];this.box=s,this.line.moveTo(o).lineTo(a)}getBox(){const e=this.axis,t=e.pane.axes,i=t.length,s=e.options.vertical,r=e.lineBox().clone(),o=s?Q:J;let a;for(let l=0;l<i;l++){const c=t[l];c.options.vertical!==s&&(a?a.wrap(c.lineBox()):a=c.lineBox().clone())}return r[o+1]=a[o+1],r[o+2]=a[o+2],r}createVisual(){super.createVisual();const e=this.options;this.line=new ae({stroke:{color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType},visible:!1}),this.moveLine(),this.visual.append(this.line)}destroy(){this.tooltip&&this.tooltip.destroy(),super.destroy()}}B(V2,{color:Rt,width:2,zIndex:-1,tooltip:{visible:!1}});const Oie=V2;class H2 extends Qe{constructor(e,t){super(e),this.pane=t}shouldClip(){const e=this.children,t=e.length;for(let i=0;i<t;i++)if(!0===e[i].options.clip)return!0;return!1}_clipBox(){return this.pane.chartsBox()}createVisual(){if(this.visual=new pt({zIndex:0}),this.shouldClip()){const t=(this.clipBox=this._clipBox()).toRect(),i=ae.fromRect(t);Qi(i),this.visual.clip(i),this.unclipLabels()}}stackRoot(){return this}unclipLabels(){const{children:e,clipBox:t}=this;for(let i=0;i<e.length;i++){const s=e[i].points||{},r=s.length;for(let o=0;o<r;o++){const a=s[o];if(a&&!1!==a.visible&&a.overlapsBox&&a.overlapsBox(t))if(a.unclipElements)a.unclipElements();else{const{label:l,note:c}=a;l&&l.options.visible&&(l.alignToClipBox&&l.alignToClipBox(t),l.options.noclip=!0),c&&c.options.visible&&(c.options.noclip=!0)}}}}destroy(){super.destroy(),delete this.parent}}H2.prototype.isStackRoot=!0;const Nie=H2;class hf extends fl{constructor(e){super(e),this.id=function Lie(){return"pane"+Fie++}(),this.createTitle(),this.content=new Qe,this.chartContainer=new Nie({},this),this.append(this.content),this.axes=[],this.charts=[]}createTitle(){let e=this.options.title;Ps(e)&&(e=C({},e,{align:e.position,position:ze})),this.title=ML.buildTitle(e,this,hf.prototype.options.title)}appendAxis(e){this.content.append(e),this.axes.push(e),e.pane=this}appendAxisAt(e,t){this.content.append(e),this.axes.splice(t,0,e),e.pane=this}appendChart(e){this.chartContainer.parent!==this.content&&this.content.append(this.chartContainer),this.charts.push(e),this.chartContainer.append(e),e.pane=this}empty(){const e=this.parent;if(e){for(let t=0;t<this.axes.length;t++)e.removeAxis(this.axes[t]);for(let t=0;t<this.charts.length;t++)e.removeChart(this.charts[t])}this.axes=[],this.charts=[],this.content.destroy(),this.content.children=[],this.chartContainer.children=[]}reflow(e){let t;Nt(this.children)===this.content&&(t=this.children.pop()),super.reflow(e),t&&this.children.push(t),this.title&&(this.contentBox.y1+=this.title.box.height())}visualStyle(){const e=super.visualStyle();return e.zIndex=-10,e}renderComplete(){this.options.visible&&this.createGridLines()}stackRoot(){return this}clipRoot(){return this}createGridLines(){const e=this.axes,t=e.concat(this.parent.axes),i=[],s=[];for(let r=0;r<e.length;r++){const o=e[r],a=o.options.vertical,l=a?i:s;for(let c=0;c<t.length;c++)if(0===l.length){const u=t[c];a!==u.options.vertical&&cl(l,o.createGridLines(u))}}}refresh(){this.visual.clear(),this.content.parent=null,this.content.createGradient=this.createGradient.bind(this),this.content.renderVisual(),this.content.parent=this,this.title&&this.visual.append(this.title.visual),this.visual.append(this.content.visual),this.renderComplete(),this.notifyRender()}chartsBox(){const e=this.axes,t=e.length,i=new z;for(let s=0;s<t;s++){const r=e[s],o=r.options.vertical?J:Q,a=r.lineBox();i[o+1]=a[o+1],i[o+2]=a[o+2]}if(0===i.x2){const s=this.parent.axes,r=s.length;for(let o=0;o<r;o++){const a=s[o];if(!a.options.vertical){const l=a.lineBox();i.x1=l.x1,i.x2=l.x2}}}return i}clipBox(){return this.chartContainer.clipBox}notifyRender(){const e=this.getService();e&&e.notify("paneRender",{pane:new TC(this),index:this.paneIndex,name:this.options.name})}}let Fie=1;hf.prototype.isStackRoot=!0,B(hf,{zIndex:-1,shrinkToFit:!0,title:{align:Oe},visible:!0});const Bie=hf;function Ry(n,e){null!==e&&n.push(e)}function Vie(n,e,t){const i=e.visible;if(N(i))return i;const s=n.pointVisibility;return s?s[t]:void 0}function z2(n){const e=n.data,t=[];let i=0,s=0;for(let r=0;r<e.length;r++){const o=Ft.current.bindPoint(n,r);let a=o.valueFields.value;Yr(a)&&(a=parseFloat(a)),we(a)?(o.visible=!1!==Vie(n,o.fields,r),o.value=Math.abs(a),t.push(o),o.visible&&(i+=o.value),0!==a&&s++):t.push(null)}return{total:i,points:t,count:s}}function oa(n,e){return n&&e?n.toLowerCase()===e.toLowerCase():n===e}function Lt(n,e){const t=[],i=[].concat(e);for(let s=0;s<n.length;s++){const r=n[s];Se(r.type,i)&&t.push(r)}return t}function U2(n,e,t){if(null===e)return e;const i="_date_"+n;let s=e[i];return s||(s=En(t,Zr(n)(e)),e[i]=s),s}function j2(n,e){const t=n.type,i=e instanceof Date;return!t&&i||oa(t,Yo)}function Mu(n){return 1===n.length?n[0]:n}const Hie=/area/i;function sD(n,e){const i=Ft.current.bindPoint(n,null,e).valueFields;for(let s in i)if(vF(i[s]))return!0}function G2({start:n,dir:e,min:t,max:i,getter:s,hasItem:r,series:o}){let a,l,c=n;do{c+=e,r(c)&&(l=s(c),a=sD(o,l.item))}while(t<=c&&c<=i&&!a);if(a)return l}function $2(n,e,t,i,s){const{min:r,max:o}=e,a=r>0&&r<t,l=o+1<t;if(a||l){const c=function zie(n){return n.missingValues?n.missingValues:Hie.test(n.type)||n.stack?ro:du}(n);let u,h;if(c!==du)a&&(u=i(r-1)),l&&(h=i(o+1));else{let d,f;a&&(d=i(r-1),f=sD(n,d.item),u=f?d:G2({start:r,dir:-1,min:0,max:t-1,getter:i,hasItem:s,series:n})),l&&(d=i(o+1),f=sD(n,d.item),h=f?d:G2({start:o,dir:1,min:0,max:t-1,getter:i,hasItem:s,series:n}))}u&&(n._outOfRangeMinPoint=u),h&&(n._outOfRangeMaxPoint=h)}}class W2 extends Qe{constructor(e,t,i){super(t),this.initFields(e,t),this.series=e,this.initSeries(),this.charts=[],this.options.legend=this.options.legend||{},this.options.legend.items=[],this.axes=[],this.crosshairs=[],this.chartService=i,this.originalOptions=t,this.createPanes(),this.render(),this.createCrosshairs()}initFields(){}initSeries(){const e=this.series;for(let t=0;t<e.length;t++)e[t].index=t}createPanes(){const e=this.options.title||{},t=this.options.paneDefaults,i=this.options.panes||[],s=Math.max(i.length,1),r=[],o=C({title:{color:e.color}},t);for(let a=0;a<s;a++){const l=C({},o,i[a]);Yr(l.title)&&(l.title=C({text:l.title},o.title));const c=new Bie(l);c.paneIndex=a,r.push(c),this.append(c)}this.panes=r}crosshairOptions(e){return e.options.crosshair}createCrosshairs(e=this.panes){for(let t=0;t<e.length;t++){const i=e[t];for(let s=0;s<i.axes.length;s++){const r=i.axes[s],o=this.crosshairOptions(r);if(o&&o.visible){const a=new Oie(this.chartService,r,o);this.crosshairs.push(a),i.content.append(a)}}}}removeCrosshairs(e){const t=this.crosshairs,i=e.axes;for(let s=t.length-1;s>=0;s--)for(let r=0;r<i.length;r++)if(t[s].axis===i[r]){t.splice(s,1);break}}hideCrosshairs(){const e=this.crosshairs;for(let t=0;t<e.length;t++)e[t].hide()}findPane(e){const t=this.panes;let i;for(let s=0;s<t.length;s++)if(t[s].options.name===e){i=t[s];break}return i||t[0]}findPointPane(e){const t=this.panes;let i;for(let s=0;s<t.length;s++)if(t[s].box.containsPoint(e)){i=t[s];break}return i}appendAxis(e){this.findPane(e.options.pane).appendAxis(e),this.axes.push(e),e.plotArea=this}removeAxis(e){const t=[];for(let i=0;i<this.axes.length;i++){const s=this.axes[i];e!==s?t.push(s):s.destroy()}this.axes=t}appendChart(e,t){this.charts.push(e),t?t.appendChart(e):this.append(e)}removeChart(e){const t=[];for(let i=0;i<this.charts.length;i++){const s=this.charts[i];s!==e?t.push(s):s.destroy()}this.charts=t}addToLegend(e){const t=e.length,i=this.options.legend,s=i.labels||{},r=i.inactiveItems||{},o=r.labels||{},a=[];for(let l=0;l<t;l++){const c=e[l],u=!1!==c.visible;if(!1===c.visibleInLegend)continue;let h=c.name;const d=u?bn(s):bn(o)||bn(s);d&&(h=d({text:Pi(h)?h:"",series:c}));const f=c._defaults;let g,y,p=c.color;Ct(p)&&f&&(p=f.color),u?(g={},y=p):(g={color:o.color,font:o.font},y=r.markers.color),Pi(h)&&""!==h&&a.push({text:h,labels:g,markerColor:y,series:c,active:u})}cl(i.items,a)}groupAxes(e){const t=[],i=[];for(let s=0;s<e.length;s++){const r=e[s].axes;for(let o=0;o<r.length;o++){const a=r[o];a.options.vertical?i.push(a):t.push(a)}}return{x:t,y:i,any:t.concat(i)}}groupSeriesByPane(){const e=this.series,t={};for(let i=0;i<e.length;i++){const s=e[i],r=this.seriesPaneName(s);t[r]?t[r].push(s):t[r]=[s]}return t}filterVisibleSeries(e){const t=[];for(let i=0;i<e.length;i++){const s=e[i];!1!==s.visible&&t.push(s)}return t}reflow(e){const i=this.panes,s=at(this.options.plotArea.margin);this.box=e.clone().unpad(s),this.reflowPanes(),this.detachLabels(),this.reflowAxes(i),this.reflowCharts(i)}redraw(e){const t=[].concat(e);this.initSeries();const i=this.getRoot();i&&i.cleanGradients();for(let s=0;s<t.length;s++)this.removeCrosshairs(t[s]),t[s].empty();this.render(t),this.detachLabels(),this.reflowAxes(this.panes),this.reflowCharts(t),this.createCrosshairs(t);for(let s=0;s<t.length;s++)t[s].refresh()}axisCrossingValues(e,t){const i=e.options,s=[].concat(i.axisCrossingValues||i.axisCrossingValue),r=t.length-s.length,o=s[0]||0;for(let a=0;a<r;a++)s.push(o);return s}alignAxisTo(e,t,i,s){const r=e.getSlot(i,i,!0),o=e.options.reverse?2:1,a=t.getSlot(s,s,!0),l=t.options.reverse?2:1,c=e.box.translate(a[Q+l]-r[Q+o],a[J+l]-r[J+o]);e.pane!==t.pane&&c.translate(0,e.pane.box.y1-t.pane.box.y1),e.reflow(c)}alignAxes(e,t){const i=e[0],s=t[0],r=this.axisCrossingValues(i,t),o=this.axisCrossingValues(s,e),a={},l={},c={},u={};for(let h=0;h<t.length;h++){const d=t[h],f=d.pane,p=f.id,g=!1!==d.options.visible,y=oD(e,f)||i;let b=r;y!==i&&(b=this.axisCrossingValues(y,t)),this.alignAxisTo(d,y,o[h],b[h]),!d.options._overlap&&(H(d.lineBox().x1)===H(y.lineBox().x1)&&(a[p]&&d.reflow(d.box.alignTo(a[p].box,Oe).translate(-d.options.margin,0)),g&&(a[p]=d)),H(d.lineBox().x2)===H(y.lineBox().x2)&&(d._mirrored||(d.options.labels.mirror=!d.options.labels.mirror,d._mirrored=!0),this.alignAxisTo(d,y,o[h],b[h]),l[p]&&d.reflow(d.box.alignTo(l[p].box,We).translate(d.options.margin,0)),g&&(l[p]=d)),0!==h&&s.pane===d.pane&&(d.alignTo(s),d.reflow(d.box)))}for(let h=0;h<e.length;h++){const d=e[h],f=d.pane,p=f.id,g=!1!==d.options.visible,y=oD(t,f)||s;let b=o;y!==s&&(b=this.axisCrossingValues(y,e)),this.alignAxisTo(d,y,r[h],b[h]),!d.options._overlap&&(H(d.lineBox().y1)===H(y.lineBox().y1)&&(d._mirrored||(d.options.labels.mirror=!d.options.labels.mirror,d._mirrored=!0),this.alignAxisTo(d,y,r[h],b[h]),c[p]&&d.reflow(d.box.alignTo(c[p].box,ze).translate(0,-d.options.margin)),g&&(c[p]=d)),H(d.lineBox().y2,3)===H(y.lineBox().y2,3)&&(u[p]&&d.reflow(d.box.alignTo(u[p].box,st).translate(0,d.options.margin)),g&&(u[p]=d)),0!==h&&(d.alignTo(i),d.reflow(d.box)))}}shrinkAxisWidth(e){const t=this.groupAxes(e).any,i=rD(t);let s=0;for(let r=0;r<e.length;r++){const o=e[r];o.axes.length>0&&(s=Math.max(s,i.width()-o.contentBox.width()))}if(0!==s)for(let r=0;r<t.length;r++){const o=t[r];o.options.vertical||o.reflow(o.box.shrink(s,0))}}shrinkAxisHeight(e){let t;for(let i=0;i<e.length;i++){const s=e[i],r=s.axes,o=Math.max(0,rD(r).height()-s.contentBox.height());if(0!==o){for(let a=0;a<r.length;a++){const l=r[a];l.options.vertical&&l.reflow(l.box.shrink(0,o))}t=!0}}return t}fitAxes(e){const t=this.groupAxes(e).any;let i=0;for(let s=0;s<e.length;s++){const r=e[s],o=r.axes,a=r.contentBox;if(o.length>0){const l=rD(o),c=Math.max(a.y1-l.y1,a.y2-l.y2);i=Math.max(i,a.x1-l.x1);for(let u=0;u<o.length;u++){const h=o[u];h.reflow(h.box.translate(0,c))}}}for(let s=0;s<t.length;s++){const r=t[s];r.reflow(r.box.translate(i,0))}}reflowAxes(e){const t=this.groupAxes(e);for(let i=0;i<e.length;i++)this.reflowPaneAxes(e[i]);t.x.length>0&&t.y.length>0&&(this.alignAxes(t.x,t.y),this.shrinkAxisWidth(e),this.autoRotateAxisLabels(t),this.alignAxes(t.x,t.y),this.shrinkAxisWidth(e)&&this.alignAxes(t.x,t.y),this.shrinkAxisHeight(e),this.alignAxes(t.x,t.y),this.shrinkAxisHeight(e)&&this.alignAxes(t.x,t.y),this.fitAxes(e))}autoRotateAxisLabels(e){const{panes:t}=this,i=Gie(t);let s;for(let r=0;r<i.length;r++)i[r].autoRotateLabels()&&(s=!0);if(s){for(let r=0;r<t.length;r++)this.reflowPaneAxes(t[r]);e.x.length>0&&e.y.length>0&&(this.alignAxes(e.x,e.y),this.shrinkAxisWidth(t))}}reflowPaneAxes(e){const t=e.axes,i=t.length;if(i>0)for(let s=0;s<i;s++)t[s].reflow(e.contentBox)}reflowCharts(e){const t=this.charts,i=t.length,s=this.box;for(let r=0;r<i;r++){const o=t[r].pane;(!o||Se(o,e))&&t[r].reflow(s)}}reflowPanes(){const{box:e,panes:t}=this,i=t.length;let s=e.height(),o=0,a=e.y1;for(let l=0;l<i;l++){const c=t[l],u=c.options.height;if(c.options.width=e.width(),c.options.height){if(u.indexOf&&u.indexOf("%")){const h=parseInt(u,10)/100;c.options.height=h*e.height()}c.reflow(e.clone()),s-=c.options.height}else o++}for(let l=0;l<i;l++){const c=t[l];c.options.height||(c.options.height=s/o)}for(let l=0;l<i;l++){const c=t[l],u=e.clone().move(e.x1,a);c.reflow(u),a+=c.options.height}}backgroundBox(){const e=this.axes,t=e.length;let i;for(let s=0;s<t;s++){const r=e[s];for(let o=0;o<t;o++){const a=e[o];if(r.options.vertical!==a.options.vertical){const l=r.lineBox().clone().wrap(a.lineBox());i=i?i.wrap(l):l}}}return i||this.box}chartsBoxes(){const e=this.panes,t=[];for(let i=0;i<e.length;i++)t.push(e[i].chartsBox());return t}addBackgroundPaths(e){const t=this.chartsBoxes();for(let i=0;i<t.length;i++)e.paths.push(ae.fromRect(t[i].toRect()))}backgroundContainsPoint(e){const t=this.chartsBoxes();for(let i=0;i<t.length;i++)if(t[i].containsPoint(e))return!0}createVisual(){super.createVisual();const e=this.options.plotArea;let{opacity:t,background:i,border:s={}}=e;(function jie(n){return""===n||null===n||"none"===n||"transparent"===n||!N(n)})(i)&&(i=Ue,t=0);const r=this._bgVisual=new fr({fill:{color:i,opacity:t},stroke:{color:s.width?s.color:"",width:s.width,dashType:s.dashType},zIndex:-1});this.addBackgroundPaths(r),this.appendVisual(r)}pointsByCategoryIndex(e){const t=this.charts,i=[];if(null!==e)for(let s=0;s<t.length;s++){if("_navigator"===t[s].pane.options.name)continue;const o=t[s].categoryPoints[e];if(o&&o.length)for(let a=0;a<o.length;a++){const l=o[a];l&&N(l.value)&&null!==l.value&&i.push(l)}}return i}pointsBySeriesIndex(e){return this.filterPoints(function(t){return t.series.index===e})}pointsBySeriesName(e){return this.filterPoints(function(t){return t.series.name===e})}filterPoints(e){const t=this.charts,i=[];for(let s=0;s<t.length;s++){const o=t[s].points;for(let a=0;a<o.length;a++){const l=o[a];l&&!1!==l.visible&&e(l)&&i.push(l)}}return i}findPoint(e){const t=this.charts;for(let i=0;i<t.length;i++){const r=t[i].points;for(let o=0;o<r.length;o++){const a=r[o];if(a&&!1!==a.visible&&e(a))return a}}}paneByPoint(e){const t=this.panes;for(let i=0;i<t.length;i++){const s=t[i];if(s.box.containsPoint(e))return s}}detachLabels(){const e=this.groupAxes(this.panes),t=e.x,i=e.y;this.detachAxisGroupLabels(i,t),this.detachAxisGroupLabels(t,i)}detachAxisGroupLabels(e,t){let i=0;for(let s=0;s<e.length;s++){const r=e[s],o=r.pane,a=oD(t,o)||t[0],c=this.createLabelAxis(r,s+i,a);if(c){i++;const u=o.axes.indexOf(r)+i;o.appendAxisAt(c,u)}}}createLabelAxis(e,t,i){const s=e.options.labels,r=s.position;if("end"!==r&&"start"!==r||!1===s.visible)return null;const l=this.groupAxes(this.panes),u=this.axisCrossingValues(i,i.options.vertical?l.x:l.y),h="end"===r,d=i.range(),f=h?d.max:d.min;if(ie(u[t],d.min,d.max)-f==0)return null;u.splice(t+1,0,f),i.options.axisCrossingValues=u;const g=e.clone();return e.clear(),g.options.name=void 0,g.options.line.visible=!1,g.options.crosshair=void 0,g.options.notes=void 0,g.options.plotBands=void 0,g}}function Uie(n){return!n.pane.axes.some(e=>e.options.vertical===n.options.vertical&&e!==n&&!1!==e.options.visible)}function rD(n){const e=n.length;let t;for(let i=0;i<e;i++){const s=n[i],r=!1!==s.options.visible;if(r||Uie(s)){const o=r?s.contentBox():s.lineBox();t?t.wrap(o):t=o.clone()}}return t||new z}function oD(n,e){for(let t=0;t<n.length;t++){const i=n[t];if(i&&i.pane===e)return i}}const Gie=n=>n.reduce((e,t)=>e.concat(t.axes),[]);B(W2,{series:[],plotArea:{margin:{}},background:"",border:{color:Rt,width:0},paneDefaults:{title:{}},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}});const aa=W2,df={hover:function(n,e){this._dispatchEvent(n,e,d2)},click:function(n,e){this._dispatchEvent(n,e,"plotAreaClick")}};function Wie(n,e,t){let i=e,s=n;if(n.indexOf(".")>-1){const r=n.split(".");for(;r.length>1;)s=r.shift(),N(i[s])||(i[s]={}),i=i[s];s=r.shift()}i[s]=t}const qie=class $ie extends Y{constructor(e,t,i){super();const s=t.canonicalFields(e),r=t.valueFields(e),o=t.sourceFields(e,s),a=this._seriesFields=[],l=i.query(e.type),c=e.aggregate||l;this._series=e,this._binder=t;for(let u=0;u<s.length;u++){const h=s[u];let d;if(Ps(c))d=c[h];else{if(0!==u&&!Se(h,r))break;d=c}d&&a.push({canonicalName:h,name:o[u],transform:Ct(d)?d:Vne[d]})}}aggregatePoints(e,t){const{_series:i,_seriesFields:s}=this,r=this._bindPoints(e||[]),o=r.dataItems[0];let a={};if(o&&!we(o)&&!_n(o)){const l=function(){};l.prototype=o,a=new l}for(let l=0;l<s.length;l++){const c=s[l],u=this._bindField(r.values,c.canonicalName),h=c.transform(u,i,r.dataItems,t);if(!(null===h||!Ps(h)||N(h.length)||h instanceof Date)){a=h;break}N(h)&&Wie(c.name,a,h)}return a}_bindPoints(e){const{_binder:t,_series:i}=this,s=[],r=[];for(let o=0;o<e.length;o++){const a=e[o];s.push(t.bindPoint(i,a)),r.push(i.data[a])}return{values:s,dataItems:r}}_bindField(e,t){const i=[],s=e.length;for(let r=0;r<s;r++){const o=e[r],a=o.valueFields;let l;l=N(a[t])?a[t]:o.fields[t],i.push(l)}return i}};class aD extends Y{constructor(){super(),this._defaults={}}register(e,t){for(let i=0;i<e.length;i++)this._defaults[e[i]]=t}query(e){return this._defaults[e]}}aD.current=new aD;const bl=aD;class lD extends XC{createLabel(){const e=this.options.labels,t=C({},e,e.from),i=C({},e,e.to);t.visible&&(this.labelFrom=this._createLabel(t),this.append(this.labelFrom)),i.visible&&(this.labelTo=this._createLabel(i),this.append(this.labelTo))}_createLabel(e){const t=bn(e),i=this.pointData();let s;return s=t?t(i):this.formatValue(e.format),new S2(s,C({vertical:this.options.vertical},e),i)}reflow(e){this.render();const{labelFrom:t,labelTo:i,value:s}=this;this.box=e,t&&(t.options.aboveAxis=s.from>s.to,t.reflow(e)),i&&(i.options.aboveAxis=s.to>s.from,i.reflow(e)),this.note&&this.note.reflow(e)}}lD.prototype.defaults=C({},lD.prototype.defaults,{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}});const Kie=lD;class q2 extends cf{pointType(){return Kie}pointValue(e){return e.valueFields}formatPointValue(e,t){return null===e.value.from&&null===e.value.to?"":this.chartService.format.auto(t,e.value.from,e.value.to)}plotRange(e){return e?[e.value.from,e.value.to]:0}updateRange(e,t){const i=t.series.axis,{from:s,to:r}=e;let o=this.valueAxisRanges[i];null!==e&&we(s)&&we(r)&&(o=this.valueAxisRanges[i]=o||{min:Ot,max:Kt},o.min=Math.min(o.min,s),o.max=Math.max(o.max,s),o.min=Math.min(o.min,r),o.max=Math.max(o.max,r))}aboveAxis(e){const t=e.value;return t.from<t.to}}q2.prototype.plotLimits=lo.prototype.plotLimits;const Yie=q2,K2=class Zie extends _l{aliasFor(){return this.parent}};class Oy extends Qe{constructor(e,t){super(),this.value=e,this.options=t,this.aboveAxis=ge(this.options.aboveAxis,!0),this.tooltipTracking=!0,this.initLabelsFormat()}render(){if(this._rendered)return;this._rendered=!0;const{markers:e,labels:t}=this.options,i=this.value,s=this.fromPoint=new K2(i,C({},this.options,{labels:t.from,markers:e.from})),r=this.toPoint=new K2(i,C({},this.options,{labels:t.to,markers:e.to}));this.copyFields(s),this.copyFields(r),this.append(s),this.append(r)}reflow(e){this.render();const{from:t,to:i}=e;this.positionLabels(t,i),this.fromPoint.reflow(t),this.toPoint.reflow(i),this.box=this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox())}createHighlight(){const e=new pt;return e.append(this.fromPoint.createHighlight()),e.append(this.toPoint.createHighlight()),e}highlightVisual(){return this.visual}highlightVisualArgs(){return{options:this.options,from:this.fromPoint.highlightVisualArgs(),to:this.toPoint.highlightVisualArgs()}}tooltipAnchor(){const e=this.owner.pane.clipBox();if(!e||e.overlaps(this.box)){const i=this.box,s=i.center(),r=Oe;let o,a,l;return this.options.vertical?(o=s.x,a=i.y1-5,l=st):(o=i.x2+5,a=s.y,l=ye),{point:new ue(o,a),align:{horizontal:r,vertical:l}}}}formatValue(e){return this.owner.formatPointValue(this,e)}overlapsBox(e){return this.box.overlaps(e)}unclipElements(){this.fromPoint.unclipElements(),this.toPoint.unclipElements()}initLabelsFormat(){const e=this.options.labels;e.format||((!e.from||!e.from.format)&&(e.from=Object.assign({},e.from,{format:"{0}"})),(!e.to||!e.to.format)&&(e.to=Object.assign({},e.to,{format:"{1}"})))}positionLabels(e,t){const{labels:i,vertical:s}=this.options;if("auto"===i.position){let r,o;s?t.y1<=e.y1?(o=my,r=IC):(o=IC,r=my):t.x1<=e.x1?(o=Oe,r=We):(o=We,r=Oe),(!i.from||!i.from.position)&&(this.fromPoint.options.labels.position=r),(!i.to||!i.to.position)&&(this.toPoint.options.labels.position=o)}}copyFields(e){e.dataItem=this.dataItem,e.category=this.category,e.series=this.series,e.color=this.color,e.owner=this.owner}}C(Oy.prototype,Hs),C(Oy.prototype,Du),Oy.prototype.defaults={markers:{visible:!1,background:Ue,size:8,type:ks,border:{width:2},opacity:1},labels:{visible:!1,margin:at(3),padding:at(4),animation:{type:ia,delay:is},position:"auto"},notes:{label:{}},highlight:{markers:{border:{color:Ue,width:2}},zIndex:100},tooltip:{format:"{0} - {1}"}};const Z2=Oy,cD=class Jie extends Tu{createStrokeSegments(){return this.segmentsFromPoints(this.toGeometryPoints(this.toPoints()))}stackSegments(){let e=this.fromSegments;return this.fromSegments||(e=this.fromSegments=this.segmentsFromPoints(this.toGeometryPoints(this.fromPoints().reverse()))),e}createStroke(e){const t=new ae(e),i=new ae(e);t.segments.push.apply(t.segments,this.strokeSegments()),i.segments.push.apply(i.segments,this.stackSegments()),this.visual.append(t),this.visual.append(i)}hasStackSegment(){return!0}fromPoints(){return this.linePoints.map(e=>e.fromPoint)}toPoints(){return this.linePoints.map(e=>e.toPoint)}},tse=class ese extends cD{createStrokeSegments(){return this.createCurveSegments(this.toPoints())}stackSegments(){let e=this.fromSegments;return this.fromSegments||(e=this.fromSegments=this.createCurveSegments(this.fromPoints().reverse())),e}createCurveSegments(e){return(new dy).process(this.toGeometryPoints(e))}};class X2 extends cD{createStrokeSegments(){return this.segmentsFromPoints(this.calculateStepPoints(this.toPoints()))}stackSegments(){let e=this.fromSegments;return this.fromSegments||(e=this.fromSegments=this.segmentsFromPoints(this.calculateStepPoints(this.fromPoints())),e.reverse()),e}}C(X2.prototype,GC);const nse=X2;class Q2 extends lo{render(){super.render(),this.renderSegments()}pointType(){return Z2}createPoint(e,t){const{categoryIx:i,category:s,series:r,seriesIx:o}=t;let a=e.valueFields;if(!Pi(a.from)&&!Pi(a.to)){if(this.seriesMissingValues(r)!==ro)return null;a={from:0,to:0}}let l=this.pointOptions(r,o);l=this.evalPointOptions(l,a,s,i,r,o);let c=e.fields.color||r.color;Ct(r.color)&&(c=l.color);const u=new Z2(a,l);return u.color=c,this.append(u),u}createSegment(e,t,i){const s=(t.line||{}).style;let r;return r="smooth"===s?tse:"step"===s?nse:cD,new r(e,t,i)}plotRange(e,t){return e?[e.value.from,e.value.to]:[t,t]}valueSlot(e,t){const i=e.getSlot(t[0],t[0],!this.options.clip),s=e.getSlot(t[1],t[1],!this.options.clip);if(i&&s)return{from:i,to:s}}pointSlot(e,t){const{from:i,to:s}=t;let r,o;return this.options.invertAxes?(r=new z(i.x1,e.y1,i.x2,e.y2),o=new z(s.x1,e.y1,s.x2,e.y2)):(r=new z(e.x1,i.y1,e.x2,i.y2),o=new z(e.x1,s.y1,e.x2,s.y2)),{from:r,to:o}}addValue(e,t){const i=e.valueFields;we(i.from)||(i.from=i.to),we(i.to)||(i.to=i.from),super.addValue(e,t)}updateRange(e,t){if(null!==e&&we(e.from)&&we(e.to)){const i=t.series.axis,s=this.valueAxisRanges[i]=this.valueAxisRanges[i]||{min:Ot,max:Kt},{from:r,to:o}=e;s.min=Math.min(s.min,r,o),s.max=Math.max(s.max,r,o)}}formatPointValue(e,t){const i=e.value;return this.chartService.format.auto(t,i.from,i.to)}animationPoints(){const e=this.points,t=[];for(let i=0;i<e.length;i++){const s=e[i];s&&(t.push((s.fromPoint||{}).marker),t.push((s.toPoint||{}).marker))}return t.concat(this._segments)}}C(Q2.prototype,WC,Ty);const ise=Q2,rse=class sse extends QC{reflow(e){const{options:t,value:i,owner:s}=this,r=s.seriesValueAxis(t),o=[],a=[],l=[],c=r.getSlot(i.low,i.high),u=r.getSlot(i.open,i.open),h=r.getSlot(i.close,i.close);u.x1=h.x1=c.x1=e.x1,u.x2=h.x2=c.x2=e.x2;const d=c.center().x;o.push([u.x1,u.y1]),o.push([d,u.y1]),a.push([d,h.y1]),a.push([h.x2,h.y1]),l.push([d,c.y1]),l.push([d,c.y2]),this.lines=[o,a,l],this.box=c.clone().wrap(u.clone().wrap(h)),this.reflowNote()}createBody(){}},ase=class ose extends JC{pointType(){return rse}};class J2 extends Qe{constructor(e,t,i){super(),this.from=e,this.to=t,this.series=i}linePoints(){const e=this.from,{from:{box:t},to:{box:i}}=this,s=[];if(e.isVertical){const r=e.aboveAxis?t.y1:t.y2;s.push([t.x1,r],[i.x2,r])}else{const r=e.aboveAxis?t.x2:t.x1;s.push([r,t.y1],[r,i.y2])}return s}createVisual(){super.createVisual();const e=this.series.line||{},t=ae.fromPoints(this.linePoints(),{stroke:{color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType}});Qi(t),this.visual.append(t)}}B(J2,{animation:{type:ia,delay:is}});const lse=J2,use=class cse extends cf{render(){super.render(),this.createSegments()}traverseDataPoints(e){const t=this.options.series,i=UC(t),s=!this.options.invertAxes;for(let r=0;r<t.length;r++){const o=t[r];let a=0,l=0;for(let c=0;c<i;c++){const u=Ft.current.bindPoint(o,c),h=u.valueFields.value,d=u.fields.summary;let p,f=a;d?"total"===d.toLowerCase()?(u.valueFields.value=a,f=0,p=a):(u.valueFields.value=l,p=f-l,l=0):we(h)&&(l+=h,a+=h,p=a),e(u,{category:this.categoryAxis.categoryAt(c),categoryIx:c,series:o,seriesIx:r,total:a,runningTotal:l,from:f,to:p,isVertical:s})}}}updateRange(e,t){super.updateRange({value:t.to},t)}aboveAxis(e){return e.value>=0}plotRange(e){return[e.from,e.to]}createSegments(){const e=this.options.series,t=this.seriesPoints,i=this.segments=[];for(let s=0;s<e.length;s++){const r=e[s],o=t[s];if(o){let a;for(let l=0;l<o.length;l++){const c=o[l];if(c&&a){const u=new lse(a,c,r);i.push(u),this.append(u)}a=c}}}}},uD=[Yd,vu,Jd,xu],eB=[Xd,bu].concat(uD);class hD extends aa{initFields(e){if(this.namedCategoryAxes={},this.namedValueAxes={},this.valueAxisRangeTracker=new My,e.length>0){this.invertAxes=Se(e[0].type,[Vs,sa,bu,vu,xu,yu,mu,_u]);for(let t=0;t<e.length;t++){const i=e[t].stack;if(i&&"100%"===i.type){this.stack100=!0;break}}}}render(e=this.panes){this.createCategoryAxes(e),this.aggregateCategories(e),this.createCategoryAxesLabels(e),this.createCharts(e),this.createValueAxes(e)}removeAxis(e){const t=e.options.name;super.removeAxis(e),e instanceof io?delete this.namedCategoryAxes[t]:(this.valueAxisRangeTracker.reset(t),delete this.namedValueAxes[t]),e===this.categoryAxis&&delete this.categoryAxis,e===this.valueAxis&&delete this.valueAxis}createCharts(e){const t=this.groupSeriesByPane();for(let i=0;i<e.length;i++){const s=e[i],r=t[s.options.name||"default"]||[];this.addToLegend(r);const o=this.filterVisibleSeries(r);if(!o)continue;const a=this.groupSeriesByCategoryAxis(o);for(let l=0;l<a.length;l++)this.createChartGroup(a[l],s)}}createChartGroup(e,t){this.createAreaChart(Lt(e,[Yd,vu]),t),this.createRangeAreaChart(Lt(e,[Jd,xu]),t),this.createBarChart(Lt(e,[oo,Vs]),t),this.createRangeBarChart(Lt(e,[ef,yu]),t),this.createBulletChart(Lt(e,[sa,tf]),t),this.createCandlestickChart(Lt(e,gu),t),this.createBoxPlotChart(Lt(e,[Zd,_u]),t),this.createOHLCChart(Lt(e,Qd),t),this.createWaterfallChart(Lt(e,[nf,mu]),t),this.createLineChart(Lt(e,[Xd,bu]),t)}aggregateCategories(e){const t=this.srcSeries||this.series,i=[];this._currentPointsCache={},this._seriesPointsCache=this._seriesPointsCache||{};for(let s=0;s<t.length;s++){let r=t[s];const o=this.seriesCategoryAxis(r),a=this.findPane(o.options.pane);r=(oa(o.options.type,Yo)||r.categoryField)&&Se(a,e)?this.aggregateSeries(r,o):this.filterSeries(r,o),i.push(r)}this._seriesPointsCache=this._currentPointsCache,this._currentPointsCache=null,this.srcSeries=t,this.series=i}filterSeries(e,t){const i=(e.data||{}).length;if(t._seriesMax=Math.max(t._seriesMax||0,i),!we(t.options.min)&&!we(t.options.max))return e;const s=t.currentRangeIndices(),r=Se(e.type,eB),o=C({},e);return o.data=(o.data||[]).slice(s.min,s.max+1),r&&$2(o,s,i,a=>({item:e.data[a],category:t.categoryAt(a,!0),categoryIx:a-s.min}),a=>N(e.data[a])),o}clearSeriesPointsCache(){this._seriesPointsCache={}}seriesSourcePoints(e,t){const i=`${e.index};${t.categoriesHash()}`;if(this._seriesPointsCache[i])return this._currentPointsCache[i]=this._seriesPointsCache[i],this._seriesPointsCache[i];const s=t.options,r=s.srcCategories,o=oa(s.type,Yo),a=e.data,l=o?U2:fy,c=[];o||t.mapCategories();for(let u=0;u<a.length;u++){let h;if(h=e.categoryField?l(e.categoryField,a[u],this.chartService.intl):r[u],N(h)&&null!==h){const d=t.totalIndex(h);c[d]=c[d]||{items:[],category:h},c[d].items.push(u)}}return this._currentPointsCache[i]=c,c}aggregateSeries(e,t){if(!e.data.length)return e;const s=this.seriesSourcePoints(e,t),r=C({},e),o=new qie(C({},e),Ft.current,bl.current),a=r.data=[],l=t.options.dataItems||[],c=t.currentRangeIndices(),u=h=>{const d=h-c.min;let f=s[h];if(f||(f=s[h]={}),f.categoryIx=d,!f.item){const p=t.categoryAt(h,!0);f.category=p,f.item=o.aggregatePoints(f.items,p)}return f};for(let h=c.min;h<=c.max;h++){const d=u(h);a[d.categoryIx]=d.item,d.items&&d.items.length&&(l[d.categoryIx]=d.item)}return Se(r.type,eB)&&$2(r,c,t.totalCount(),u,h=>s[h]),t.options.dataItems=l,r}appendChart(e,t){const i=e.options.series,s=this.seriesCategoryAxis(i[0]);let r=s.options.categories,o=Math.max(0,UC(i)-r.length);if(o>0)for(r=s.options.categories=s.options.categories.slice(0);o--;)r.push("");this.valueAxisRangeTracker.update(e.valueAxisRanges),super.appendChart(e,t)}seriesPaneName(e){const t=this.options,i=e.axis;return(Ti([].concat(t.valueAxis),function(c){return c.name===i})[0]||{}).pane||((t.panes||[{}])[0]||{}).name||"default"}seriesCategoryAxis(e){const t=e.categoryAxis,i=t?this.namedCategoryAxes[t]:this.categoryAxis;if(!i)throw new Error("Unable to locate category axis with name "+t);return i}stackableChartOptions(e,t){const i=e.stack;return{isStacked:i,isStacked100:i&&"100%"===i.type,clip:t.options.clip}}groupSeriesByCategoryAxis(e){const t=[],i={};for(let r=0;r<e.length;r++){const o=e[r].categoryAxis||"$$default$$";i.hasOwnProperty(o)||(i[o]=!0,t.push(o))}const s=[];for(let r=0;r<t.length;r++){const a=hse(e,t[r],r);0!==a.length&&s.push(a)}return s}createBarChart(e,t){if(0===e.length)return;const i=e[0],s=new cf(this,Object.assign({series:e,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing},this.stackableChartOptions(i,t)));this.appendChart(s,t)}createRangeBarChart(e,t){if(0===e.length)return;const i=e[0],s=new Yie(this,{series:e,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing});this.appendChart(s,t)}createBulletChart(e,t){if(0===e.length)return;const i=e[0],s=new Pie(this,{series:e,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing,clip:t.options.clip});this.appendChart(s,t)}createLineChart(e,t){if(0===e.length)return;const s=new KC(this,Object.assign({invertAxes:this.invertAxes,series:e},this.stackableChartOptions(e[0],t)));this.appendChart(s,t)}createAreaChart(e,t){if(0===e.length)return;const s=new vie(this,Object.assign({invertAxes:this.invertAxes,series:e},this.stackableChartOptions(e[0],t)));this.appendChart(s,t)}createRangeAreaChart(e,t){if(0===e.length)return;const i=new ise(this,{invertAxes:this.invertAxes,series:e,clip:t.options.clip});this.appendChart(i,t)}createOHLCChart(e,t){if(0===e.length)return;const i=e[0],s=new ase(this,{invertAxes:this.invertAxes,gap:i.gap,series:e,spacing:i.spacing,clip:t.options.clip});this.appendChart(s,t)}createCandlestickChart(e,t){if(0===e.length)return;const i=e[0],s=new JC(this,{invertAxes:this.invertAxes,gap:i.gap,series:e,spacing:i.spacing,clip:t.options.clip});this.appendChart(s,t)}createBoxPlotChart(e,t){if(0===e.length)return;const i=e[0],s=new Sie(this,{invertAxes:this.invertAxes,gap:i.gap,series:e,spacing:i.spacing,clip:t.options.clip});this.appendChart(s,t)}createWaterfallChart(e,t){if(0===e.length)return;const i=e[0],s=new use(this,{series:e,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing});this.appendChart(s,t)}axisRequiresRounding(e,t){const i=Lt(this.series,u2);for(let s=0;s<this.series.length;s++){const r=this.series[s];if(Se(r.type,uD)){const o=r.line;o&&o.style===Kd&&i.push(r)}}for(let s=0;s<i.length;s++){const r=i[s].categoryAxis||"";if(r===e||!r&&0===t)return!0}}aggregatedAxis(e,t){const i=this.series;for(let s=0;s<i.length;s++){const r=i[s].categoryAxis||"";if((r===e||!r&&0===t)&&i[s].categoryField)return!0}}createCategoryAxesLabels(){const e=this.axes;for(let t=0;t<e.length;t++)e[t]instanceof io&&e[t].createLabels()}createCategoryAxes(e){const t=this.invertAxes,i=[].concat(this.options.categoryAxis),s=[];for(let o=0;o<i.length;o++){let a=i[o];if(Se(this.findPane(a.pane),e)){const{name:c,categories:u=[]}=a;let h;if(a=C({vertical:t,reverse:!t&&this.chartService.rtl,axisCrossingValue:t?Ot:0},a),N(a.justified)||(a.justified=this.isJustified()),this.axisRequiresRounding(c,o)&&(a.justified=!1),h=j2(a,u[0])?new Wd(a,this.chartService):new io(a,this.chartService),i[o].categories=h.options.srcCategories,c){if(this.namedCategoryAxes[c])throw new Error(`Category axis with name ${c} is already defined`);this.namedCategoryAxes[c]=h}h.axisIndex=o,s.push(h),this.appendAxis(h)}}const r=this.categoryAxis||s[0];this.categoryAxis=r,t?this.axisY=r:this.axisX=r}isJustified(){const e=this.series;for(let t=0;t<e.length;t++)if(!Se(e[t].type,uD))return!1;return!0}createValueAxes(e){const t=this.valueAxisRangeTracker,i=t.query(),s=[].concat(this.options.valueAxis),r=this.invertAxes,o={vertical:!r,reverse:r&&this.chartService.rtl},a=[];this.stack100&&(o.roundToMajorUnit=!1,o.labels={format:"P0"});for(let c=0;c<s.length;c++){const u=s[c];if(Se(this.findPane(u.pane),e)){const d=u.name,f=oa(u.type,wy)?{min:.1,max:1}:{min:0,max:1},p=t.query(d)||i||f;let g;0===c&&p&&i&&(p.min=Math.min(p.min,i.min),p.max=Math.max(p.max,i.max)),g=oa(u.type,wy)?uy:ns;const y=new g(p.min,p.max,C({},o,u),this.chartService);if(d){if(this.namedValueAxes[d])throw new Error(`Value axis with name ${d} is already defined`);this.namedValueAxes[d]=y}y.axisIndex=c,a.push(y),this.appendAxis(y)}}const l=this.valueAxis||a[0];this.valueAxis=l,r?this.axisX=l:this.axisY=l}_dispatchEvent(e,t,i){const s=e._eventCoordinates(t),r=new ue(s.x,s.y),o=this.pointPane(r),a=[],l=[];if(!o)return;const c=o.axes;for(let u=0;u<c.length;u++){const h=c[u];h.getValue?Ry(l,h.getValue(r)):Ry(a,h.getCategory(r))}0===a.length&&Ry(a,this.categoryAxis.getCategory(r)),a.length>0&&l.length>0&&e.trigger(i,{element:Os(t),originalEvent:t,category:Mu(a),value:Mu(l)})}pointPane(e){const t=this.panes;for(let i=0;i<t.length;i++){const s=t[i];if(s.contentBox.containsPoint(e))return s}}updateAxisOptions(e,t){tB(this.options,e,t),tB(this.originalOptions,e,t)}}function tB(n,e,t){C([].concat(e instanceof io?n.categoryAxis:n.valueAxis)[e.axisIndex],t)}function hse(n,e,t){return Ti(n,function(i){return 0===t&&!i.categoryAxis||i.categoryAxis===e})}B(hD,{categoryAxis:{},valueAxis:{}}),C(hD.prototype,df);const xl=hD;function dD(n,e){let i,t=0;if(!e||e<=0)return n;const s=function(){const r=Pd()-t,o=arguments,a=function(){n.apply(null,o),t=Pd()};if(!t)return a();i&&clearTimeout(i),r>e?a():i=setTimeout(a,e-r)};return s.cancel=function(){clearTimeout(i)},s}function nB(n){return"function"==typeof n}function iB(n){return"string"==typeof n?[n]:n}function fse(){this._defaultPrevented=!0}function pse(){return!0===this._defaultPrevented}const gse=class dse extends Y{constructor(){super(),this._events={}}bind(e,t,i){const s=iB(e),r=nB(t),o=s.length;if(void 0===t){for(let a in e)this.bind(a,e[a]);return this}for(let a=0;a<o;a++){const l=s[a];let c=r?t:t[l];if(c){if(i){const h=c;c=()=>{this.unbind(l,c),h.apply(this,arguments)},c.original=h}(this._events[l]=this._events[l]||[]).push(c)}}return this}one(e,t){return this.bind(e,t,!0)}first(e,t){const i=iB(e),s=nB(t);for(let r=0,o=i.length;r<o;r++){const a=i[r],l=s?t:t[a];l&&(this._events[a]=this._events[a]||[]).unshift(l)}return this}trigger(e,t={}){let i=this._events[e];if(i){const s=i.length;t.sender=this,t._defaultPrevented=!1,t.preventDefault=fse,t.isDefaultPrevented=pse,i=i.slice();for(let r=0;r<s;r++)i[r].call(this,t);return!0===t._defaultPrevented}return!1}unbind(e,t){const i=this._events[e];if(void 0===e)this._events={};else if(i)if(t)for(let s=i.length-1;s>=0;s--)(i[s]===t||i[s].original===t)&&i.splice(s,1);else this._events[e]=[];return this}},mse=["click","mouseenter","mouseleave","mousemove","resize"],fD=class yse extends gse{constructor(e,t){super(),this.options=Object.assign({},t),this.element=e,this.element._kendoExportVisual=this.exportVisual.bind(this),this._click=this._handler("click"),this._mouseenter=this._handler("mouseenter"),this._mouseleave=this._handler("mouseleave"),this._mousemove=this._handler("mousemove"),this._visual=new pt,Rd(e,this.options),this.bind(mse,this.options),this._enableTracking()}draw(e){this._visual.children.push(e)}clear(){this._visual.children=[]}destroy(){this._visual=null,this.element._kendoExportVisual=null,this.unbind()}eventTarget(e){let i,t=AF(e);for(;!i&&t&&(i=t._kendoNode,t!==this.element);)t=t.parentElement;if(i)return i.srcElement}exportVisual(){return this._visual}getSize(){return Rd(this.element)}currentSize(e){if(!e)return this._size;this._size=e}setSize(e){Rd(this.element,e),this.currentSize(e),this._resize()}resize(e){const t=this.getSize(),i=this.currentSize();(e||(t.width>0||t.height>0)&&(!i||t.width!==i.width||t.height!==i.height))&&(this.currentSize(t),this._resize(t,e),this.trigger("resize",t))}size(e){if(!e)return this.getSize();this.setSize(e)}suspendTracking(){this._suspendedTracking=!0}resumeTracking(){this._suspendedTracking=!1}_enableTracking(){}_resize(){}_handler(e){return t=>{const i=this.eventTarget(t);i&&!this._suspendedTracking&&this.trigger(e,{element:i,originalEvent:t,type:e})}}_elementOffset(){const e=this.element,t=RF(e),{left:i,top:s}=kF(e);return{left:i+t.left,top:s+t.top}}_surfacePoint(e){const t=this._elementOffset(),i=EF(e),s=i.x-t.left,r=i.y-t.top,o=NF(this.element).invert();return new L(s,r).transform(o)}},ff=class vse extends Y{constructor(e){super(),this.childNodes=[],this.parent=null,e&&(this.srcElement=e,this.observe())}destroy(){this.srcElement&&this.srcElement.removeObserver(this);const e=this.childNodes;for(let t=0;t<e.length;t++)this.childNodes[t].destroy();this.parent=null}load(){}observe(){this.srcElement&&this.srcElement.addObserver(this)}append(e){this.childNodes.push(e),e.parent=this}insertAt(e,t){this.childNodes.splice(t,0,e),e.parent=this}remove(e,t){const i=e+t;for(let s=e;s<i;s++)this.childNodes[s].removeSelf();this.childNodes.splice(e,t)}removeSelf(){this.clear(),this.destroy()}clear(){this.remove(0,this.childNodes.length)}invalidate(){this.parent&&this.parent.invalidate()}geometryChange(){this.invalidate()}optionsChange(){this.invalidate()}childrenChange(e){"add"===e.action?this.load(e.items,e.index):"remove"===e.action&&this.remove(e.index,e.items.length),this.invalidate()}};function wl(n,e){return oe(e)&&null!==e?` ${n}="${e}" `:""}function Cl(n){let e="";for(let t=0;t<n.length;t++)e+=wl(n[t][0],n[t][1]);return e}function sB(n){let e="";for(let t=0;t<n.length;t++){let i=n[t][1];oe(i)&&(e+=n[t][0]+":"+i+";")}if(""!==e)return e}const co={},pf="http://www.w3.org/2000/svg",Ny="none";let rB=function(n,e){n.innerHTML=e};if(typeof document<"u"){const n="<svg xmlns='"+pf+"'></svg>",e=document.createElement("div"),t=typeof DOMParser<"u";e.innerHTML=n,t&&e.firstChild.namespaceURI!==pf&&(rB=function(i,s){const o=(new DOMParser).parseFromString(s,"text/xml"),a=document.adoptNode(o.documentElement);i.innerHTML="",i.appendChild(a)})}const oB=rB,aB="transform",Fy={clip:"clip-path",fill:"fill"};function lB(n,e){return"clip"===n||"fill"===n&&(!e||"Gradient"===e.nodeType)}const la=class bse extends ff{constructor(e,t){super(e),this.definitions={},this.options=t}destroy(){this.element&&(this.element._kendoNode=null,this.element=null),this.clearDefinitions(),super.destroy()}load(e,t){for(let i=0;i<e.length;i++){const s=e[i],r=s.children,o=new co[s.nodeType](s,this.options);oe(t)?this.insertAt(o,t):this.append(o),o.createDefinitions(),r&&r.length>0&&o.load(r);const a=this.element;a&&o.attachTo(a,t)}}root(){let e=this;for(;e.parent;)e=e.parent;return e}attachTo(e,t){const i=document.createElement("div");oB(i,"<svg xmlns='"+pf+"' version='1.1'>"+this.render()+"</svg>");const s=i.firstChild.firstChild;s&&(oe(t)?e.insertBefore(s,e.childNodes[t]||null):e.appendChild(s),this.setElement(s))}setElement(e){this.element&&(this.element._kendoNode=null),this.element=e,this.element._kendoNode=this;const t=this.childNodes;for(let i=0;i<t.length;i++)t[i].setElement(e.childNodes[i])}clear(){this.clearDefinitions(),this.element&&(this.element.innerHTML="");const e=this.childNodes;for(let t=0;t<e.length;t++)e[t].destroy();this.childNodes=[]}removeSelf(){if(this.element){const e=this.element.parentNode;e&&e.removeChild(this.element),this.element=null}super.removeSelf()}template(){return this.renderChildren()}render(){return this.template()}renderChildren(){const e=this.childNodes;let t="";for(let i=0;i<e.length;i++)t+=e[i].render();return t}optionsChange(e){const{field:t,value:i}=e;"visible"===t?this.css("display",i?"":Ny):Fy[t]&&lB(t,i)?this.updateDefinition(t,i):"opacity"===t?this.attr("opacity",i):"cursor"===t?this.css("cursor",i):"id"===t&&(i?this.attr("id",i):this.removeAttr("id")),super.optionsChange(e)}attr(e,t){this.element&&this.element.setAttribute(e,t)}allAttr(e){for(let t=0;t<e.length;t++)this.attr(e[t][0],e[t][1])}css(e,t){this.element&&(this.element.style[e]=t)}allCss(e){for(let t=0;t<e.length;t++)this.css(e[t][0],e[t][1])}removeAttr(e){this.element&&this.element.removeAttribute(e)}mapTransform(e){const t=[];return e&&t.push([aB,"matrix("+e.matrix().toString(6)+")"]),t}renderTransform(){return Cl(this.mapTransform(this.srcElement.transform()))}transformChange(e){e?this.allAttr(this.mapTransform(e)):this.removeAttr(aB)}mapStyle(){const e=this.srcElement.options,t=[["cursor",e.cursor]];return!1===e.visible&&t.push(["display",Ny]),t}renderStyle(){return wl("style",sB(this.mapStyle(!0)))}renderOpacity(){return wl("opacity",this.srcElement.options.opacity)}renderId(){return wl("id",this.srcElement.options.id)}createDefinitions(){const e=this.srcElement,t=this.definitions;if(e){const i=e.options;let s;for(let r in Fy){let o=i.get(r);o&&lB(r,o)&&(t[r]=o,s=!0)}s&&this.definitionChange({action:"add",definitions:t})}}definitionChange(e){this.parent&&this.parent.definitionChange(e)}updateDefinition(e,t){const i=this.definitions,s=i[e],r=Fy[e],o={};s&&(o[e]=s,this.definitionChange({action:"remove",definitions:o}),delete i[e]),t?(o[e]=t,this.definitionChange({action:"add",definitions:o}),i[e]=t,this.attr(r,this.refUrl(t.id))):s&&this.removeAttr(r)}clearDefinitions(){this.definitionChange({action:"remove",definitions:this.definitions}),this.definitions={}}renderDefinitions(){return Cl(this.mapDefinitions())}mapDefinitions(){const e=this.definitions,t=[];for(let i in e)t.push([Fy[i],this.refUrl(e[i].id)]);return t}refUrl(e){const t=(this.options||{}).skipBaseHref,i=this.baseUrl().replace(/'/g,"\\'");return`url(${t?"":i}#${e})`}baseUrl(){return function _se(){const n=document.getElementsByTagName("base")[0];let e=document.location.href,t="";if(n&&!(ru.browser||{}).msie){const i=e.indexOf("#");-1!==i&&(e=e.substring(0,i)),t=e}return t}()}},cB=class xse extends la{template(){return`<stop ${this.renderOffset()} ${this.renderStyle()} />`}renderOffset(){return wl("offset",this.srcElement.offset())}mapStyle(){const e=this.srcElement;return[["stop-color",e.color()],["stop-opacity",e.opacity()]]}optionsChange(e){"offset"===e.field?this.attr(e.field,e.value):("color"===e.field||"opacity"===e.field)&&this.css("stop-"+e.field,e.value)}},uB=class wse extends la{constructor(e){super(e),this.id=e.id,this.loadStops()}loadStops(){const e=this.srcElement.stops,t=this.element;for(let i=0;i<e.length;i++){let s=new cB(e[i]);this.append(s),t&&s.attachTo(t)}}optionsChange(e){"gradient.stops"===e.field?(ff.prototype.clear.call(this),this.loadStops()):"gradient"===e.field&&this.allAttr(this.mapCoordinates())}renderCoordinates(){return Cl(this.mapCoordinates())}mapSpace(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]}},hB=class Cse extends uB{template(){return`<linearGradient id='${this.id}' ${this.renderCoordinates()}>${this.renderChildren()}</linearGradient>`}mapCoordinates(){const e=this.srcElement,t=e.start(),i=e.end();return[["x1",t.x],["y1",t.y],["x2",i.x],["y2",i.y],this.mapSpace()]}},dB=class Dse extends uB{template(){return`<radialGradient id='${this.id}' ${this.renderCoordinates()}>${this.renderChildren()}</radialGradient>`}mapCoordinates(){const e=this.srcElement,t=e.center(),i=e.radius();return[["cx",t.x],["cy",t.y],["r",i],this.mapSpace()]}},fB=class Sse extends la{constructor(e){super(),this.srcElement=e,this.id=e.id,this.load([e])}template(){return`<clipPath id='${this.id}'>${this.renderChildren()}</clipPath>`}},pB=class Tse extends la{constructor(){super(),this.definitionMap={}}attachTo(e){this.element=e}template(){return`<defs>${this.renderChildren()}</defs>`}definitionChange(e){const{definitions:t,action:i}=e;"add"===i?this.addDefinitions(t):"remove"===i&&this.removeDefinitions(t)}createDefinition(e,t){let i;return"clip"===e?i=fB:"fill"===e&&(t instanceof Km?i=hB:t instanceof Ym&&(i=dB)),new i(t)}addDefinitions(e){for(let t in e)this.addDefinition(t,e[t])}addDefinition(e,t){const{element:i,definitionMap:s}=this,r=t.id,o=s[r];if(o)o.count++;else{const a=this.createDefinition(e,t);s[r]={element:a,count:1},this.append(a),i&&a.attachTo(this.element)}}removeDefinitions(e){for(let t in e)this.removeDefinition(e[t])}removeDefinition(e){const t=this.definitionMap,i=e.id,s=t[i];s&&(s.count--,0===s.count&&(this.remove(this.childNodes.indexOf(s.element),1),delete t[i]))}},pD=class Mse extends la{constructor(e){super(),this.options=e,this.defs=new pB}attachTo(e){this.element=e,this.defs.attachTo(e.firstElementChild)}clear(){ff.prototype.clear.call(this)}template(){return this.defs.render()+this.renderChildren()}definitionChange(e){this.defs.definitionChange(e)}},gB={dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},gD="solid",Ese={"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},ca=class Ase extends la{geometryChange(){this.attr("d",this.renderData()),this.invalidate()}optionsChange(e){switch(e.field){case"fill":e.value?this.allAttr(this.mapFill(e.value)):this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:e.value}));break;case"stroke":e.value?this.allAttr(this.mapStroke(e.value)):this.removeAttr("stroke");break;case"transform":this.transformChange(e.value);break;default:const t=Ese[e.field];t&&this.attr(t,e.value)}super.optionsChange(e)}content(){this.element&&(this.element.textContent=this.srcElement.content())}renderData(){return this.printPath(this.srcElement)}printPath(e){const t=e.segments,i=t.length;if(i>0){const s=[];let r,o;for(let a=1;a<i;a++){let l=this.segmentType(t[a-1],t[a]);l!==o&&(o=l,s.push(l)),s.push("L"===l?this.printPoints(t[a].anchor()):this.printPoints(t[a-1].controlOut(),t[a].controlIn(),t[a].anchor()))}return r="M"+this.printPoints(t[0].anchor())+" "+s.join(" "),e.options.closed&&(r+="Z"),r}}printPoints(){const e=arguments,t=e.length,i=[];for(let s=0;s<t;s++)i.push(e[s].toString(3));return i.join(" ")}segmentType(e,t){return e.controlOut()&&t.controlIn()?"C":"L"}mapStroke(e){const t=[];return e&&!ll(e.color)?(t.push(["stroke",e.color]),t.push(["stroke-width",e.width]),t.push(["stroke-linecap",this.renderLinecap(e)]),t.push(["stroke-linejoin",e.lineJoin]),oe(e.opacity)&&t.push(["stroke-opacity",e.opacity]),oe(e.dashType)&&t.push(["stroke-dasharray",this.renderDashType(e)])):t.push(["stroke",Ny]),t}renderStroke(){return Cl(this.mapStroke(this.srcElement.options.stroke))}renderDashType(e){const{dashType:t,width:i=1}=e;if(t&&t!==gD){const s=gB[t.toLowerCase()],r=[];for(let o=0;o<s.length;o++)r.push(s[o]*i);return r.join(" ")}}renderLinecap(e){const{dashType:t,lineCap:i}=e;return t&&"solid"!==t?"butt":i}mapFill(e){const t=[];return e&&"Gradient"===e.nodeType||(e&&!ll(e.color)?(t.push(["fill",e.color]),oe(e.opacity)&&t.push(["fill-opacity",e.opacity])):t.push(["fill",Ny])),t}renderFill(){return Cl(this.mapFill(this.srcElement.options.fill))}template(){return`<path ${this.renderId()} ${this.renderStyle()} ${this.renderOpacity()} ${wl("d",this.renderData())}${this.renderStroke()}${this.renderFill()}${this.renderDefinitions()}${this.renderTransform()}></path>`}},vB=class Ise extends ca{renderData(){return this.printPath(this.srcElement.toPath())}},_B=class kse extends ca{geometryChange(){const e=this.center();this.attr("cx",e.x),this.attr("cy",e.y),this.attr("r",this.radius()),this.invalidate()}center(){return this.srcElement.geometry().center}radius(){return this.srcElement.geometry().radius}template(){return`<circle ${this.renderId()} ${this.renderStyle()} ${this.renderOpacity()}cx='${this.center().x}' cy='${this.center().y}' r='${this.radius()}'${this.renderStroke()} ${this.renderFill()} ${this.renderDefinitions()}${this.renderTransform()} ></circle>`}},bB=class Pse extends la{template(){return`<g${this.renderId()+this.renderTransform()+this.renderStyle()+this.renderOpacity()+this.renderDefinitions()}>${this.renderChildren()}</g>`}optionsChange(e){"transform"===e.field&&this.transformChange(e.value),super.optionsChange(e)}},Rse=/&/g,Ose=/</g,Nse=/"/g,Fse=/'/g,Lse=/>/g;function mD(n){return String(n).replace(Rse,"&amp;").replace(Ose,"&lt;").replace(Lse,"&gt;").replace(Nse,"&quot;").replace(Fse,"&#39;")}const xB=class Bse extends ca{geometryChange(){this.allAttr(this.mapPosition()),this.invalidate()}optionsChange(e){"src"===e.field&&this.allAttr(this.mapSource()),super.optionsChange(e)}mapPosition(){const e=this.srcElement.rect(),t=e.topLeft();return[["x",t.x],["y",t.y],["width",e.width()+"px"],["height",e.height()+"px"]]}renderPosition(){return Cl(this.mapPosition())}mapSource(e){let t=this.srcElement.src();return e&&(t=mD(t)),[["xlink:href",t]]}renderSource(){return Cl(this.mapSource(!0))}template(){return`<image preserveAspectRatio='none' ${this.renderId()} ${this.renderStyle()} ${this.renderTransform()} ${this.renderOpacity()}${this.renderPosition()} ${this.renderSource()} ${this.renderDefinitions()}></image>`}},wB=class Vse extends ca{renderData(){const e=this.srcElement.paths;if(e.length>0){const t=[];for(let i=0;i<e.length;i++)t.push(this.printPath(e[i]));return t.join(" ")}}},CB=class Hse extends ca{geometryChange(){const e=this.srcElement.geometry();this.attr("x",e.origin.x),this.attr("y",e.origin.y),this.attr("width",e.size.width),this.attr("height",e.size.height),this.attr("rx",e.cornerRadius[0]),this.attr("ry",e.cornerRadius[1]),this.invalidate()}size(){return this.srcElement.geometry().size}origin(){return this.srcElement.geometry().origin}rx(){return this.srcElement.geometry().cornerRadius[0]}ry(){return this.srcElement.geometry().cornerRadius[1]}template(){return`<rect ${this.renderId()} ${this.renderStyle()} ${this.renderOpacity()} x='${this.origin().x}' y='${this.origin().y}' rx='${this.rx()}' ry='${this.ry()}' width='${this.size().width}' height='${this.size().height}' ${this.renderStroke()} ${this.renderFill()} ${this.renderDefinitions()} ${this.renderTransform()} />`}},yD=/&(?:[a-zA-Z]+|#\d+);/g;function vD(n){if(!n||"string"!=typeof n||!yD.test(n))return n;const e=vD._element;return yD.lastIndex=0,n.replace(yD,t=>(e.innerHTML=t,e.textContent||e.innerText))}typeof document<"u"&&(vD._element=document.createElement("span"));const DB=class zse extends ca{geometryChange(){const e=this.pos();this.attr("x",e.x),this.attr("y",e.y),this.invalidate()}optionsChange(e){"font"===e.field?(this.attr("style",sB(this.mapStyle())),this.geometryChange()):"content"===e.field&&super.content(this.srcElement.content()),super.optionsChange(e)}mapStyle(e){const t=super.mapStyle(e);let i=this.srcElement.options.font;return e&&(i=mD(i)),t.push(["font",i],["white-space","pre"]),t}pos(){const e=this.srcElement.position(),t=this.srcElement.measure();return e.clone().setY(e.y+t.baseline)}renderContent(){let e=this.srcElement.content();return e=vD(e),e=mD(e),Vw(e)}renderTextAnchor(){let e;return(this.options||{}).rtl&&!(ru.browser.msie||ru.browser.edge)&&(e="end"),wl("text-anchor",e)}template(){return`<text ${this.renderId()} ${this.renderTextAnchor()} ${this.renderStyle()} ${this.renderOpacity()}x='${this.pos().x}' y='${this.pos().y}' ${this.renderStroke()} ${this.renderTransform()} ${this.renderDefinitions()}${this.renderFill()}>${this.renderContent()}</text>`}};co.Arc=vB,co.Circle=_B,co.Group=bB,co.Image=xB,co.MultiPath=wB,co.Path=ca,co.Rect=CB,co.Text=DB;const SB=class Gse extends fD{get type(){return"svg"}constructor(e,t){super(e,t),this._root=new pD(Object.assign({rtl:"rtl"===Am(e,"direction").direction},this.options)),oB(this.element,this._template()),this._rootElement=this.element.firstElementChild,function jse(n){let e;try{e=n.getScreenCTM?n.getScreenCTM():null}catch{}if(e){const t=-e.e%1,i=-e.f%1,s=n.style;(0!==t||0!==i)&&(s.left=t+"px",s.top=i+"px")}}(this._rootElement),this._root.attachTo(this._rootElement),Lw(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove}),this.resize()}destroy(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,Bw(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove})),super.destroy()}translate(e){const t=`${Math.round(e.x)} ${Math.round(e.y)} ${this._size.width} ${this._size.height}`;this._offset=e,this._rootElement.setAttribute("viewBox",t)}draw(e){super.draw(e),this._root.load([e])}clear(){super.clear(),this._root.clear()}svg(){return"<?xml version='1.0' ?>"+this._template()}exportVisual(){let{_visual:e,_offset:t}=this;if(t){const i=new pt;i.children.push(e),i.transform(Xe().translate(-t.x,-t.y)),e=i}return e}_resize(){this._offset&&this.translate(this._offset)}_template(){return`<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='${pf}' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>${this._root.render()}</svg>`}},uo={};function Ly(n,e){const t=e.segments;if(0===t.length)return;let i=t[0],s=i.anchor();n.moveTo(s.x,s.y);for(let r=1;r<t.length;r++){i=t[r],s=i.anchor();let a=t[r-1].controlOut(),l=i.controlIn();a&&l?n.bezierCurveTo(a.x,a.y,l.x,l.y,s.x,s.y):n.lineTo(s.x,s.y)}e.options.closed&&n.closePath()}const _D=class $se extends ff{constructor(e){super(e),e&&this.initClip()}initClip(){const e=this.srcElement.clip();e&&(this.clip=e,e.addObserver(this))}clear(){this.srcElement&&this.srcElement.removeObserver(this),this.clearClip(),super.clear()}clearClip(){this.clip&&(this.clip.removeObserver(this),delete this.clip)}setClip(e){this.clip&&(e.beginPath(),Ly(e,this.clip),e.clip())}optionsChange(e){"clip"===e.field&&(this.clearClip(),this.initClip()),super.optionsChange(e)}setTransform(e){if(this.srcElement){const t=this.srcElement.transform();t&&e.transform.apply(e,t.matrix().toArray(6))}}loadElements(e,t,i){for(let s=0;s<e.length;s++){let r=e[s],o=r.children,a=new uo[r.nodeType](r,i);o&&o.length>0&&a.load(o,t,i),oe(t)?this.insertAt(a,t):this.append(a)}}load(e,t,i){this.loadElements(e,t,i),this.invalidate()}setOpacity(e){if(this.srcElement){const t=this.srcElement.opacity();oe(t)&&this.globalAlpha(e,t)}}globalAlpha(e,t){let i=t;i&&e.globalAlpha&&(i*=e.globalAlpha),e.globalAlpha=i}visible(){const e=this.srcElement;return!e||e&&!1!==e.options.visible}};class Wse extends(eC(_D,"childNodes")){renderTo(e){if(!this.visible())return;e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e);const t=this.childNodes;for(let i=0;i<t.length;i++){let s=t[i];s.visible()&&s.renderTo(e)}e.restore()}}const bD=Wse;class Kse extends(eC(bD,"childNodes")){constructor(e,t){super(),this.canvas=e,this.size=t,this.ctx=e.getContext("2d");const i=this._invalidate.bind(this);this.invalidate=dD(()=>{_L(i)},16.666666666666668)}destroy(){super.destroy(),this.canvas=null,this.ctx=null}load(e,t,i){this.loadElements(e,t,i),this._invalidate()}_rescale(e){const{canvas:t,size:i}=this;t.width=i.width*e,t.height=i.height*e,this.ctx.scale(e,e)}_devicePixelRatio(){return"number"==typeof window.devicePixelRatio?window.devicePixelRatio:1}_invalidate(e){if(!this.ctx)return;const i=e&&e.fixedScale?1:this._devicePixelRatio();this._rescale(i),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx)}}const TB=Kse,MB=class Yse extends Y{constructor(){super(),this.shapes=[]}_add(e,t){this.shapes.push({bbox:t,shape:e}),e._quadNode=this}pointShapes(e){const t=this.shapes,i=t.length,s=[];for(let r=0;r<i;r++)t[r].bbox.containsPoint(e)&&s.push(t[r].shape);return s}insert(e,t){this._add(e,t)}remove(e){const t=this.shapes,i=t.length;for(let s=0;s<i;s++)if(t[s].shape===e){t.splice(s,1);break}}};class Eu extends MB{constructor(e){super(),this.children=[],this.rect=e}inBounds(e){const t=this.rect,i=t.bottomRight(),s=e.bottomRight();return t.origin.x<=e.origin.x&&t.origin.y<=e.origin.y&&s.x<=i.x&&s.y<=i.y}pointShapes(e){const t=this.children,i=t.length,s=super.pointShapes(e);for(let r=0;r<i;r++)Id(s,t[r].pointShapes(e));return s}insert(e,t){const i=this.children;let s=!1;if(this.inBounds(t)){if(this.shapes.length<4)this._add(e,t);else{i.length||this._initChildren();for(let r=0;r<i.length;r++)if(i[r].insert(e,t)){s=!0;break}s||this._add(e,t)}s=!0}return s}_initChildren(){const{rect:e,children:t}=this,i=e.center(),s=e.width()/2,r=e.height()/2;t.push(new Eu(new Be([e.origin.x,e.origin.y],[s,r])),new Eu(new Be([i.x,e.origin.y],[s,r])),new Eu(new Be([e.origin.x,i.y],[s,r])),new Eu(new Be([i.x,i.y],[s,r])))}}const EB=Eu,vr=3e3;function Qse(n,e){return n._zIndex<e._zIndex?1:n._zIndex>e._zIndex?-1:0}const xD=class Xse extends Y{constructor(){super(),this.initRoots()}initRoots(){this.rootMap={},this.root=new MB,this.rootElements=[]}clear(){const e=this.rootElements;for(let t=0;t<e.length;t++)this.remove(e[t]);this.initRoots()}pointShape(e){const t=(this.rootMap[Math.floor(e.x/vr)]||{})[Math.floor(e.y/vr)];let i=this.root.pointShapes(e);t&&(i=i.concat(t.pointShapes(e))),this.assignZindex(i),i.sort(Qse);for(let s=0;s<i.length;s++)if(i[s].containsPoint(e))return i[s]}assignZindex(e){for(let t=0;t<e.length;t++){let i=e[t],s=0,r=Math.pow(1e4,75),o=[];for(;i;)o.push(i),i=i.parent;for(;o.length;)i=o.pop(),s+=((i.parent?i.parent.children:this.rootElements).indexOf(i)+1)*r,r/=1e4;e[t]._zIndex=s}}optionsChange(e){("transform"===e.field||"stroke.width"===e.field)&&this.bboxChange(e.element)}geometryChange(e){this.bboxChange(e.element)}bboxChange(e){if("Group"===e.nodeType)for(let t=0;t<e.children.length;t++)this.bboxChange(e.children[t]);else e._quadNode&&e._quadNode.remove(e),this._insertShape(e)}add(e){const t=Array.isArray(e)?e.slice(0):[e];Id(this.rootElements,t),this._insert(t)}childrenChange(e){if("remove"===e.action)for(let t=0;t<e.items.length;t++)this.remove(e.items[t]);else this._insert(Array.prototype.slice.call(e.items,0))}_insert(e){let t;for(;e.length>0;)t=e.pop(),t.addObserver(this),"Group"===t.nodeType?Id(e,t.children):this._insertShape(t)}_insertShape(e){const t=e.bbox();if(t){const i=this.getSectors(t),s=i[0][0],r=i[1][0];if(this.inRoot(i))this.root.insert(e,t);else{const o=this.rootMap;o[s]||(o[s]={}),o[s][r]||(o[s][r]=new EB(new Be([s*vr,r*vr],[vr,vr]))),o[s][r].insert(e,t)}}}remove(e){if(e.removeObserver(this),"Group"===e.nodeType){const t=e.children;for(let i=0;i<t.length;i++)this.remove(t[i])}else e._quadNode&&(e._quadNode.remove(e),delete e._quadNode)}inRoot(e){return e[0].length>1||e[1].length>1}getSectors(e){const t=e.bottomRight(),i=Math.floor(t.x/vr),s=Math.floor(t.y/vr),r=[[],[]];for(let o=Math.floor(e.origin.x/vr);o<=i;o++)r[0].push(o);for(let o=Math.floor(e.origin.y/vr);o<=s;o++)r[1].push(o);return r}},ua=class nre extends _D{renderTo(e){e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),e.beginPath(),this.renderPoints(e,this.srcElement),this.setLineDash(e),this.setLineCap(e),this.setLineJoin(e),this.setFill(e),this.setStroke(e),e.restore()}setFill(e){const t=this.srcElement.options.fill;let i=!1;return t&&("Gradient"===t.nodeType?(this.setGradientFill(e,t),i=!0):ll(t.color)||(e.fillStyle=t.color,e.save(),this.globalAlpha(e,t.opacity),e.fill(),e.restore(),i=!0)),i}setGradientFill(e,t){const i=this.srcElement.rawBBox();let s;if(t instanceof Km){let r=t.start(),o=t.end();s=e.createLinearGradient(r.x,r.y,o.x,o.y)}else if(t instanceof Ym){let r=t.center();s=e.createRadialGradient(r.x,r.y,0,r.x,r.y,t.radius())}(function tre(n,e){for(let t=0;t<e.length;t++){let i=e[t],s=Om(i.color());s.a*=i.opacity(),n.addColorStop(i.offset(),s.toCssRgba())}})(s,t.stops),e.save(),t.userSpace()||e.transform(i.width(),0,0,i.height(),i.origin.x,i.origin.y),e.fillStyle=s,e.fill(),e.restore()}setStroke(e){const t=this.srcElement.options.stroke;if(t&&!ll(t.color)&&t.width>0)return e.strokeStyle=t.color,e.lineWidth=Fw(t.width,1),e.save(),this.globalAlpha(e,t.opacity),e.stroke(),e.restore(),!0}dashType(){const e=this.srcElement.options.stroke;if(e&&e.dashType)return e.dashType.toLowerCase()}setLineDash(e){const t=this.dashType();if(t&&t!==gD){const i=gB[t];e.setLineDash?e.setLineDash(i):(e.mozDash=i,e.webkitLineDash=i)}}setLineCap(e){const t=this.dashType(),i=this.srcElement.options.stroke;t&&t!==gD?e.lineCap="butt":i&&i.lineCap&&(e.lineCap=i.lineCap)}setLineJoin(e){const t=this.srcElement.options.stroke;t&&t.lineJoin&&(e.lineJoin=t.lineJoin)}renderPoints(e,t){Ly(e,t)}},IB=class ire extends ua{renderPoints(e){Ly(e,this.srcElement.toPath())}},kB=class sre extends ua{renderPoints(e){const{center:t,radius:i}=this.srcElement.geometry();e.arc(t.x,t.y,i,0,2*Math.PI)}},PB=class rre extends ua{constructor(e,t){super(e),this.onLoad=this.onLoad.bind(this),this.onError=this.onError.bind(this),this.loading=kd();const i=this.img=new Image;t&&!/^data:/i.test(e.src())&&(i.crossOrigin=t),i.src=e.src(),i.complete?this.onLoad():(i.onload=this.onLoad,i.onerror=this.onError)}renderTo(e){"resolved"===this.loading.state()&&(e.save(),this.setTransform(e),this.setClip(e),this.drawImage(e),e.restore())}optionsChange(e){"src"===e.field?(this.loading=kd(),this.img.src=this.srcElement.src()):super.optionsChange(e)}onLoad(){this.loading.resolve(),this.invalidate()}onError(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))}drawImage(e){const t=this.srcElement.rect(),i=t.topLeft();e.drawImage(this.img,i.x,i.y,t.width(),t.height())}},RB=class ore extends ua{renderPoints(e){const t=this.srcElement.paths;for(let i=0;i<t.length;i++)Ly(e,t[i])}},OB=class are extends ua{renderPoints(e){const t=this.srcElement.geometry(),[i,s]=t.cornerRadius;if(0===i&&0===s){const{origin:r,size:o}=t;e.rect(r.x,r.y,o.width,o.height)}else super.renderPoints(e,ae.fromRect(t))}},NB=class lre extends ua{renderTo(e){const t=this.srcElement,i=t.position(),s=t.measure();e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),e.beginPath(),e.font=t.options.font,e.textAlign="left",this.setFill(e)&&e.fillText(t.content(),i.x,i.y+s.baseline),this.setStroke(e)&&(this.setLineDash(e),e.strokeText(t.content(),i.x,i.y+s.baseline)),e.restore()}};uo.Arc=IB,uo.Circle=kB,uo.Group=bD,uo.Image=PB,uo.MultiPath=RB,uo.Path=ua,uo.Rect=OB,uo.Text=NB;const wD=class cre extends fD{get type(){return"canvas"}constructor(e,t){super(e,t),this.element.innerHTML=this._template(this);const i=this.element.firstElementChild,s=Rd(e);i.width=s.width,i.height=s.height,this._rootElement=i,this._root=new TB(i,s),this._mouseTrackHandler=this._trackMouse.bind(this),Lw(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}destroy(){super.destroy(),this._root&&(this._root.destroy(),this._root=null),this._searchTree&&(this._searchTree.clear(),delete this._searchTree),this._cursor&&(this._cursor.destroy(),delete this._cursor),Bw(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}draw(e){super.draw(e),this._root.load([e],void 0,this.options.cors),this._searchTree&&this._searchTree.add([e])}clear(){super.clear(),this._root.clear(),this._searchTree&&this._searchTree.clear(),this._cursor&&this._cursor.clear()}eventTarget(e){if(this._searchTree){const t=this._surfacePoint(e);return this._searchTree.pointShape(t)}}image(){const{_root:e,_rootElement:t}=this,i=[];e.traverse(o=>{o.loading&&i.push(o.loading)});const s=kd(),r=()=>{e._invalidate({fixedScale:!0});try{const o=t.toDataURL();s.resolve(o)}catch(o){s.reject(o)}};return IF(i).then(r,r),s}suspendTracking(){super.suspendTracking(),this._searchTree&&(this._searchTree.clear(),delete this._searchTree)}resumeTracking(){if(super.resumeTracking(),!this._searchTree){this._searchTree=new xD;const e=this._root.childNodes,t=[];for(let i=0;i<e.length;i++)t.push(e[i].srcElement);this._searchTree.add(t)}}_resize(){this._rootElement.width=this._size.width,this._rootElement.height=this._size.height,this._root.size=this._size,this._root.invalidate()}_template(){return"<canvas style='width: 100%; height: 100%;'></canvas>"}_enableTracking(){this._searchTree=new xD,this._cursor=new class Jse{constructor(e){e.bind("mouseenter",this._mouseenter.bind(this)),e.bind("mouseleave",this._mouseleave.bind(this)),this.element=e.element}clear(){this._resetCursor()}destroy(){this._resetCursor(),delete this.element}_mouseenter(e){const t=this._shapeCursor(e);t?(this._current||(this._defaultCursor=this._getCursor()),this._setCursor(t)):this._resetCursor()}_mouseleave(){this._resetCursor()}_shapeCursor(e){let t=e.element;for(;t&&!oe(t.options.cursor);)t=t.parent;if(t)return t.options.cursor}_getCursor(){if(this.element)return this.element.style.cursor}_setCursor(e){this.element&&(this.element.style.cursor=e,this._current=e)}_resetCursor(){this._current&&(this._setCursor(this._defaultCursor||""),delete this._current)}}(this),super._enableTracking()}_trackMouse(e){if(this._suspendedTracking)return;const t=this.eventTarget(e);if("click"!==e.type){const i=this._currentShape;i&&i!==t&&this.trigger("mouseleave",{element:i,originalEvent:e,type:"mouseleave"}),t&&i!==t&&this.trigger("mouseenter",{element:t,originalEvent:e,type:"mouseenter"}),this.trigger("mousemove",{element:t,originalEvent:e,type:"mousemove"}),this._currentShape=t}else t&&this.trigger("click",{element:t,originalEvent:e,type:"click"})}};let CD,DD;const FB=()=>typeof document<"u";class SD extends Y{static get support(){return DD||(DD={canvas:FB()&&document.createElement("canvas").getContext,svg:FB()&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}),DD}static get current(){return CD||(CD=new SD),CD}constructor(){super(),this._items=[{name:"svg",type:SB},{name:"canvas",type:wD}]}create(e,t){const i=this._items;let s=i[0];if(t&&t.type){const r=t.type.toLowerCase();for(let o=0;o<i.length;o++)if(i[o].name===r){s=i[o];break}}if(s)return new s.type(e,t);TF(`Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n- The browser does not support SVG and Canvas. User agent: ${navigator.userAgent}`)}}const TD=SD,gf=class dre extends fD{static get support(){return TD.support}static create(e,t){return TD.current.create(e,t)}};function pre(){this._defaultPrevented=!0}const gre=class fre extends Y{constructor(){super(),this._points=[]}destroy(){this._points=[]}show(e,t){const i=[].concat(e);this.hide();for(let s=0;s<i.length;s++){const r=i[s];r&&r.toggleHighlight&&r.hasHighlight()&&(this.togglePointHighlight(r,!0,t),this._points.push(r))}}togglePointHighlight(e,t,i){const s=(e.options.highlight||{}).toggle;if(s){const r={category:e.category,series:e.series,dataItem:e.dataItem,value:e.value,stackValue:e.stackValue,preventDefault:pre,visual:e.highlightVisual(),show:t};s(r),r._defaultPrevented||e.toggleHighlight(t,i)}else e.toggleHighlight(t,i)}hide(){const e=this._points;for(;e.length;)this.togglePointHighlight(e.pop(),!1)}isHighlighted(e){const t=this._points;for(let i=0;i<t.length;i++)if(e===t[i])return!0;return!1}};function LB(n,e){const t=(e||"").toLowerCase(),i=n.event;return"none"===t&&!(i.ctrlKey||i.shiftKey||i.altKey)||i[t+"Key"]}function MD(n){const e={};for(let t=0;t<n.length;t++){const i=n[t];i.axis.options.name&&(e[i.axis.options.name]={min:i.range.min,max:i.range.max})}return e}class BB extends Y{constructor(e,t){super(),this.plotArea=e,this.options=C({},this.options,t)}start(e){return this._active=LB(e,this.options.key),this._active}move(e){if(this._active){const t=this.axisRanges=this._panAxes(e,Q).concat(this._panAxes(e,J));if(t.length)return this.axisRanges=t,MD(t)}}end(){const e=this._active;return this._active=!1,e}pan(){const{plotArea:e,axisRanges:t}=this;if(t.length){for(let i=0;i<t.length;i++){const s=t[i];e.updateAxisOptions(s.axis,s.range)}e.redraw(e.panes)}}destroy(){delete this.plotArea}_panAxes(e,t){const i=this.plotArea,s=-e[t].delta,r=(this.options.lock||"").toLowerCase(),o=[];if(0!==s&&(r||"").toLowerCase()!==t){const a=i.axes;for(let l=0;l<a.length;l++){const c=a[l];if(t===Q&&!c.options.vertical||t===J&&c.options.vertical){const u=c.pan(s);u&&(u.limitRange=!0,o.push({axis:c,range:u}))}}}return o}}BB.prototype.options={key:"none",lock:"none"};const mre=BB;class VB extends Y{constructor(e,t){super(),this.chart=e,this.options=C({},this.options,t),this.createElement()}createElement(){const e=this._marquee=document.createElement("div");e.className="k-marquee";const t=document.createElement("div");t.className="k-marquee-color",e.appendChild(t)}removeElement(){this._marquee.parentNode&&this._marquee.parentNode.removeChild(this._marquee)}setStyles(e){Dt(this._marquee,e)}start(e){if(LB(e,this.options.key)){const t=this.chart,i=t._eventCoordinates(e),s=this._zoomPane=t._plotArea.paneByPoint(i),r=s?s.chartsBox().clone():null;if(s&&r){const o=this._elementOffset();return r.translate(o.left,o.top),this._zoomPaneClipBox=r,document.body.appendChild(this._marquee),this.setStyles({left:e.pageX+1,top:e.pageY+1,width:0,height:0}),!0}}return!1}_elementOffset(){const e=this.chart.element,{paddingLeft:t,paddingTop:i}=Dt(e,["paddingLeft","paddingTop"]),s=lu(e);return{left:t+s.left,top:i+s.top}}move(e){this._zoomPane&&this.setStyles(this._selectionPosition(e))}end(e){if(this._zoomPane){const i=this._elementOffset(),s=this._selectionPosition(e);return s.left-=i.left,s.top-=i.top,this._updateAxisRanges({x:s.left,y:s.top},{x:s.left+s.width,y:s.top+s.height}),this.removeElement(),delete this._zoomPane,MD(this.axisRanges)}}zoom(){const e=this.axisRanges;if(e&&e.length){const t=this.chart._plotArea;for(let i=0;i<e.length;i++){const s=e[i];t.updateAxisOptions(s.axis,s.range)}t.redraw(t.panes)}}destroy(){this.removeElement(),delete this._marquee,delete this.chart}_updateAxisRanges(e,t){const i=(this.options.lock||"").toLowerCase(),s=[],r=this._zoomPane.axes;for(let o=0;o<r.length;o++){const a=r[o],l=a.options.vertical;if((i!==Q||l)&&(i!==J||!l)&&N(a.axisIndex)){const c=a.pointsRange(e,t);c&&s.push({axis:a,range:c})}}this.axisRanges=s}_selectionPosition(e){const t=this._zoomPaneClipBox,i={x:e.x.startLocation,y:e.y.startLocation},{x:{location:s},y:{location:r}}=e,o=(this.options.lock||"").toLowerCase();let a=Math.min(i.x,s),l=Math.min(i.y,r),c=Math.abs(i.x-s),u=Math.abs(i.y-r);return o===Q&&(a=t.x1,c=t.width()),o===J&&(l=t.y1,u=t.height()),s>t.x2&&(c=t.x2-i.x),s<t.x1&&(c=i.x-t.x1),r>t.y2&&(u=t.y2-i.y),r<t.y1&&(u=i.y-t.y1),{left:Math.max(a,t.x1),top:Math.max(l,t.y1),width:c,height:u}}}VB.prototype.options={key:"shift",lock:"none"};const yre=VB,wre=class xre extends Y{constructor(e,t){super(),this.chart=e,this.options=C({rate:.3},this.options,t)}updateRanges(e,t){const i=(this.options.lock||"").toLowerCase(),s=[],r=this.chart._plotArea.axes;for(let o=0;o<r.length;o++){const a=r[o],l=a.options.vertical;if((i!==Q||l)&&(i!==J||!l)&&a.zoomRange){const c=ie(this.options.rate,.01,.9),u=a.zoomRange(-e*c,t);u&&s.push({axis:a,range:u})}}return this.axisRanges=s,MD(s)}zoom(){const e=this.axisRanges,t=this.chart._plotArea;if(e&&e.length&&t.updateAxisOptions){for(let i=0;i<e.length;i++){const s=e[i];t.updateAxisOptions(s.axis,s.range)}t.redraw(t.panes)}}destroy(){delete this.chart}};function By(n,e,t){const i=t.transform()||Xe(),s=i.matrix();s.e+=n.x-e.origin.x,s.f+=n.y-e.origin.y,i.matrix(s),t.transform(i)}function mf(n,e,t,i,s){let r;return r="start"===t?e.origin[i]:"end"===t?e.origin[i]+e.size[s]-n:e.origin[i]+(e.size[s]-n)/2,r}function Cre(n,e,t,i,s){let r;return r="start"===t?e.origin[i]+e.size[s]-n:"end"===t?e.origin[i]:e.origin[i]+(e.size[s]-n)/2,r}const Dre={alignContent:"start",justifyContent:"start",alignItems:"start",spacing:0,orientation:"horizontal",lineSpacing:0,wrap:!0,revers:!1},Sre=(n,e)=>{n.forEach(e)},Tre=(n,e)=>{for(let i=n.length-1;i>=0;i--)e(n[i],i)},HB=class Mre extends pt{constructor(e,t){super(Object.assign({},Dre,t)),this._rect=e,this._fieldMap={}}rect(e){return e?(this._rect=e,this):this._rect}_initMap(){const e=this.options,t=this._fieldMap;"horizontal"===e.orientation?(t.sizeField="width",t.groupsSizeField="height",t.groupAxis="x",t.groupsAxis="y"):(t.sizeField="height",t.groupsSizeField="width",t.groupAxis="y",t.groupsAxis="x"),e.reverse?(this.forEach=Tre,this.justifyAlign=Cre):(this.forEach=Sre,this.justifyAlign=mf)}reflow(){if(!this._rect||0===this.children.length)return;this._initMap(),this.options.transform&&this.transform(null);const e=this.options,t=this._rect,{groups:i,groupsSize:s}=this._initGroups(),{sizeField:r,groupsSizeField:o,groupAxis:a,groupsAxis:l}=this._fieldMap,c=new L,u=new L,h=new dl;let f,p,g,d=mf(s,t,e.alignContent,l,o);const y=(b,w)=>{const D=p.elements[w];u[a]=f,u[l]=mf(b.size[o],g,e.alignItems,l,o),By(u,b,D),f+=b.size[r]+e.spacing};for(let b=0;b<i.length;b++)p=i[b],c[a]=f=this.justifyAlign(p.size,t,e.justifyContent,a,r),c[l]=d,h[r]=p.size,h[o]=p.lineSize,g=new Be(c,h),this.forEach(p.bboxes,y),d+=p.lineSize+e.lineSpacing;if(!e.wrap&&p.size>t.size[r]){const b=t.size[r]/g.size[r],w=g.topLeft().scale(b,b),E=mf(g.size[o]*b,t,e.alignContent,l,o),V=Xe();"x"===a?V.translate(t.origin.x-w.x,E-w.y):V.translate(E-w.x,t.origin.y-w.y),V.scale(b,b),this.transform(V)}}_initGroups(){const{options:e,children:t}=this,{lineSpacing:i,wrap:s,spacing:r}=e,o=this._fieldMap.sizeField;let a=this._newGroup();const l=[],c=function(){l.push(a),u+=a.lineSize+i};let u=-i;for(let h=0;h<t.length;h++){let d=t[h],f=t[h].clippedBBox();d.visible()&&f&&(s&&a.size+f.size[o]+r>this._rect.size[o]?0===a.bboxes.length?(this._addToGroup(a,f,d),c(),a=this._newGroup()):(c(),a=this._newGroup(),this._addToGroup(a,f,d)):this._addToGroup(a,f,d))}return a.bboxes.length&&c(),{groups:l,groupsSize:u}}_addToGroup(e,t,i){e.size+=t.size[this._fieldMap.sizeField]+this.options.spacing,e.lineSize=Math.max(t.size[this._fieldMap.groupsSizeField],e.lineSize),e.bboxes.push(t),e.elements.push(i)}_newGroup(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]}}},Are=class Ere extends Qe{constructor(e,t){super(e),this.chartService=t}render(){const{children:e,options:t}=this,i=t.vertical;this.visual=new HB(null,{spacing:i?0:t.spacing,lineSpacing:i?t.spacing:0,orientation:i?"vertical":"horizontal",reverse:t.rtl,alignItems:i?"start":"center"});for(let s=0;s<e.length;s++){let r=e[s];r.reflow(new z),r.renderVisual()}}reflow(e){this.visual.rect(e.toRect()),this.visual.reflow();const t=this.visual.clippedBBox();this.box=t?Zm(t):new z}renderVisual(){this.addVisual()}createVisual(){}},kre=class Ire extends fl{constructor(e){super(e),this.createContainer(),e.rtl?(this.createLabel(),this.createMarker()):(this.createMarker(),this.createLabel())}createContainer(){this.container=new oC({vertical:!1,wrap:!1,align:ye,spacing:this.options.spacing}),this.append(this.container)}createMarker(){this.container.append(new na(this.markerOptions()))}markerOptions(){const e=this.options,t=e.markerColor;return C({},e.markers,{background:t,border:{color:t}})}createLabel(){const e=this.options,t=C({},e.labels);this.container.append(new ki(e.text,t))}renderComplete(){super.renderComplete();const e=this.options.cursor||{},t=this._itemOverlay=ae.fromRect(this.container.box.toRect(),{fill:{color:Ue,opacity:0},stroke:null,cursor:e.style||e});this.appendVisual(t)}click(e,t){const i=this.eventArgs(t);!e.trigger("legendItemClick",i)&&t&&"contextmenu"===t.type&&t.preventDefault()}over(e,t){const i=this.eventArgs(t);return e.trigger("legendItemHover",i)||e._legendItemHover(i.seriesIndex,i.pointIndex),!0}out(e,t){e._unsetActivePoint(),e.trigger("legendItemLeave",this.eventArgs(t))}eventArgs(e){const t=this.options;return{element:Os(e),text:t.text,series:t.series,seriesIndex:t.series.index,pointIndex:t.pointIndex}}renderVisual(){const e=this.options,t=e.visual;t?(this.visual=t({active:e.active,series:e.series,sender:this.getSender(),pointIndex:e.pointIndex,options:{markers:this.markerOptions(),labels:e.labels},createVisual:()=>{this.createVisual(),this.renderChildren(),this.renderComplete();const i=this.visual;return delete this.visual,i}}),this.addVisual()):super.renderVisual()}},zB="horizontal",Vy="custom";class UB extends Qe{constructor(e,t={}){super(e),this.chartService=t,Se(this.options.position,[ze,We,st,Oe,Vy])||(this.options.position=We),this.createContainers(),this.createLegendTitle(e.title),this.createItems()}createContainers(){const e=this.options,{position:t,align:i}=e;let s=t,r=ye;t===Vy?s=Oe:Se(t,[ze,st])?(s="start"===i?Oe:"end"===i?We:ye,r=t):i&&("start"===i?r=ze:"end"===i&&(r=st)),this.container=new fl({margin:e.margin,padding:e.padding,background:e.background,border:e.border,vAlign:r,align:s,zIndex:e.zIndex,shrinkToFit:!0}),this.itemsContainer=this.hasTitle()?new fl({vAlign:r,align:s,zIndex:e.zIndex,shrinkToFit:!0}):this.container,this.append(this.container)}createItems(){const e=this.getService(),t=this.options,i=this.isVertical(),s=new Are({vertical:i,spacing:t.spacing,rtl:e.rtl},e);let r=t.items;t.reverse&&(r=r.slice(0).reverse());const o=r.length;for(let a=0;a<o;a++)s.append(new kre(C({},{markers:t.markers,labels:t.labels,rtl:e.rtl},t.item,r[a])));s.render(),this.itemsContainer.append(s)}isVertical(){const{orientation:e,position:t}=this.options;return t===Vy&&e!==zB||(N(e)?e!==zB:Se(t,[Oe,We]))}hasItems(){return this.container.children[0].children.length>0}reflow(e){const t=this.options,i=e.clone();this.hasItems()?(t.position===Vy?(this.containerCustomReflow(i),this.box=i):this.containerReflow(i),this.hasTitle()&&this.title.reflow(new z(this.container.box.x1,this.title.box.y1,this.container.box.x2,this.title.box.y2))):this.box=i}containerReflow(e){const{options:t,container:i}=this,{position:s,width:r,height:o}=t,a=s===ze||s===st?Q:J,l=this.isVertical(),c=e.clone();let u=e.clone();(s===Oe||s===We)&&(u.y1=c.y1=0),l&&o?(u.y2=u.y1+o,u.align(c,J,i.options.vAlign)):!l&&r&&(u.x2=u.x1+r,u.align(c,Q,i.options.align)),i.reflow(u),u=i.box;const h=u.clone();(t.offsetX||t.offsetY)&&(u.translate(t.offsetX,t.offsetY),i.reflow(u)),h[a+1]=e[a+1],h[a+2]=e[a+2],this.box=h}containerCustomReflow(e){const{options:t,container:i}=this,{offsetX:s,offsetY:r,width:o,height:a}=t,l=this.isVertical();let c=e.clone();l&&a?c.y2=c.y1+a:!l&&o&&(c.x2=c.x1+o),i.reflow(c),c=i.box,i.reflow(new z(s,r,s+c.width(),r+c.height()))}renderVisual(){this.hasItems()&&super.renderVisual()}createLegendTitle(e){let t=C({},{color:Rt,position:ze,align:ye},e),i=t.text;if(e&&!1!==e.visible){if(N(t)&&t.visible){const s=bn(t);s?i=s({text:i}):t.format&&(i=this.chartService.format.auto(t.format,i))}this.title=new ki(i,t),this.createTitleLayout(),this.appendTitleLayoutContent()}}createTitleLayout(){this.layout=new oC({vertical:!0,wrap:!1}),this.container.append(this.layout)}hasTitle(){return Boolean(this.options.title&&!1!==this.options.title.visible)}appendTitleLayoutContent(){this.options.title.position===st?(this.layout.append(this.itemsContainer),this.layout.append(this.title)):(this.layout.append(this.title),this.layout.append(this.itemsContainer))}}B(UB,{position:We,items:[],offsetX:0,offsetY:0,margin:at(5),padding:at(5),border:{color:Rt,width:0},item:{cursor:"pointer",spacing:6},spacing:6,background:"",zIndex:1,markers:{border:{width:0},width:15,height:3,type:"rect",align:Oe,vAlign:ye}});const Rre=UB;class ED extends Y{constructor(){super(),this._registry=[]}register(e,t){this._registry.push({type:e,seriesTypes:t})}create(e,t,i){const s=this._registry;let o,r=s[0];for(let a=0;a<s.length;a++){const l=s[a];if(o=Lt(e,l.seriesTypes),o.length>0){r=l;break}}return new r.type(o,t,i)}}ED.current=new ED;const ho=ED;function fo(n){const e=document.createElement("div");return n&&(e.className=n),e}function jB(n){let e=n;for(;e&&!Ad(e,"k-handle");)e=e.parentNode;return e}class GB extends Y{constructor(e,t,i,s){super();const r=e.element;this.options=C({},this.options,i),this.chart=e,this.observer=s,this.chartElement=r,this.categoryAxis=t,this._dateAxis=this.categoryAxis instanceof Wd,this.initOptions(),this.visible=this.options.visible&&r.offsetHeight,this.visible&&(this.createElements(),this.set(this._index(this.options.from),this._index(this.options.to)),this.bindEvents())}onPane(e){return this.categoryAxis.pane===e}createElements(){const e=this.options,t=this.wrapper=fo("k-selector");Dt(t,{top:e.offset.top,left:e.offset.left,width:e.width,height:e.height,direction:"ltr"});const i=this.selection=fo("k-selection");this.leftMask=fo("k-mask"),this.rightMask=fo("k-mask"),t.appendChild(this.leftMask),t.appendChild(this.rightMask),t.appendChild(i),i.appendChild(fo("k-selection-bg"));const s=this.leftHandle=fo("k-handle k-left-handle"),r=this.rightHandle=fo("k-handle k-right-handle");s.appendChild(fo()),r.appendChild(fo()),i.appendChild(s),i.appendChild(r),this.chartElement.appendChild(t);const o=Dt(i,["borderLeftWidth","borderRightWidth","height"]),a=Dt(s,"height").height,l=Dt(r,"height").height;e.selection={border:{left:o.borderLeftWidth,right:o.borderRightWidth}},Dt(s,{top:(o.height-a)/2}),Dt(r,{top:(o.height-l)/2}),t.style.cssText=t.style.cssText}bindEvents(){!1!==this.options.mousewheel&&(this._mousewheelHandler=this._mousewheel.bind(this),Od(this.wrapper,{[Dy]:this._mousewheelHandler})),this._domEvents=cC.create(this.wrapper,{stopPropagation:!0,start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),press:this._press.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)})}initOptions(){const{options:e,categoryAxis:t}=this,i=t.pane.chartsBox(),s=this.chart.chartService.intl;this._dateAxis&&C(e,{min:En(s,e.min),max:En(s,e.max),from:En(s,e.from),to:En(s,e.to)});const{paddingLeft:r,paddingTop:o}=Dt(this.chartElement,["paddingLeft","paddingTop"]);this.options=C({},{width:i.width(),height:i.height()+.1,padding:{left:r,top:o},offset:{left:i.x1+r,top:i.y1+o},from:e.min,to:e.max},e)}destroy(){this._domEvents&&(this._domEvents.destroy(),delete this._domEvents),clearTimeout(this._mwTimeout),this._state=null,this.wrapper&&(this._mousewheelHandler&&(Nd(this.wrapper,{[Dy]:this._mousewheelHandler}),this._mousewheelHandler=null),this.chartElement.removeChild(this.wrapper),this.wrapper=null)}_rangeEventArgs(e){return{axis:this.categoryAxis.options,from:this._value(e.from),to:this._value(e.to)}}_start(e){const t=this.options,i=Os(e);if(this._state||!i)return;this.chart._unsetActivePoint(),this._state={moveTarget:jB(i)||i,startLocation:e.x?e.x.location:0,range:{from:this._index(t.from),to:this._index(t.to)}};const s=this._rangeEventArgs({from:this._index(t.from),to:this._index(t.to)});this.trigger(VC,s)&&(this._state=null)}_press(e){let t;t=this._state?this._state.moveTarget:jB(Os(e)),t&&Jn(t,"k-handle-active")}_move(e){if(!this._state)return;const{_state:t,options:i,categoryAxis:s}=this,{range:r,moveTarget:o}=t,a=s.options.reverse,l=this._index(i.from),c=this._index(i.to),u=this._index(i.min),h=this._index(i.max),d=t.startLocation-e.x.location,f_from=r.from,f_to=r.to,p=r.to-r.from,g=Dt(this.wrapper,"width").width/(s.categoriesCount()-1),y=Math.round(d/g)*(a?-1:1);if(!o)return;const b=Ad(o,"k-left-handle"),w=Ad(o,"k-right-handle");Ad(o,"k-selection k-selection-bg")?(r.from=Math.min(Math.max(u,l-y),h-p),r.to=Math.min(r.from+p,h)):b&&!a||w&&a?(r.from=Math.min(Math.max(u,l-y),h-1),r.to=Math.max(r.from+1,r.to)):(b&&a||w&&!a)&&(r.to=Math.min(Math.max(u+1,c-y),h),r.from=Math.min(r.to-1,r.from)),(r.from!==f_from||r.to!==f_to)&&(this.move(r.from,r.to),this.trigger(lf,this._rangeEventArgs(r)))}_end(){if(this._state){const e=this._state.moveTarget;e&&function hee(n,e){n&&n.className&&(n.className=n.className.replace(e,"").replace(uee," "))}(e,"k-handle-active");const t=this._state.range;this.set(t.from,t.to),this.trigger(HC,this._rangeEventArgs(t)),delete this._state}}_tap(e){const{options:t,categoryAxis:i}=this,s=this.chart._eventCoordinates(e),r=i.pointCategoryIndex(new ue(s.x,i.box.y1)),o=this._index(t.from),a=this._index(t.to),l=this._index(t.min),c=this._index(t.max),u=a-o,d={},f=3===e.event.which;let p=Math.round(o+u/2-r);this._state||f||(this.chart._unsetActivePoint(),i.options.justified||p--,d.from=Math.min(Math.max(l,o-p),c-u),d.to=Math.min(d.from+u,c),this._start(e),this._state&&(this._state.range=d,this.trigger(lf,this._rangeEventArgs(d)),this._end()))}_mousewheel(e){let t=Rw(e);if(this._start({target:this.selection}),this._state){const i=this._state.range;e.preventDefault(),e.stopPropagation(),Math.abs(t)>1&&(t*=3),this.options.mousewheel.reverse&&(t*=-1),this.expand(t)&&this.trigger(lf,{axis:this.categoryAxis.options,delta:t,originalEvent:e,from:this._value(i.from),to:this._value(i.to)}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout(()=>{this._end()},150)}}_gesturestart(e){const t=this.options;this._state={range:{from:this._index(t.from),to:this._index(t.to)}};const i=this._rangeEventArgs(this._state.range);this.trigger(VC,i)?this._state=null:e.preventDefault()}_gestureend(){this._state&&(this.trigger(HC,this._rangeEventArgs(this._state.range)),delete this._state)}_gesturechange(e){const{chart:t,_state:i,options:s,categoryAxis:r}=this,o=i.range,a=t._toModelCoordinates(e.touches[0].x.location).x,l=t._toModelCoordinates(e.touches[1].x.location).x,c=Math.min(a,l),u=Math.max(a,l);e.preventDefault(),o.from=r.pointCategoryIndex(new ue(c))||s.min,o.to=r.pointCategoryIndex(new ue(u))||s.max,this.move(o.from,o.to),this.trigger(lf,this._rangeEventArgs(o))}_index(e){let t=e;return e instanceof Date&&(t=this.categoryAxis.categoryIndex(e)),t}_value(e){let t=e;return this._dateAxis&&(t=this.categoryAxis.categoryAt(e),t>this.options.max&&(t=this.options.max)),t}_slot(e){const t=this.categoryAxis,i=this._index(e);return t.getSlot(i,i,!0)}move(e,t){const i=this.options,s=this.categoryAxis.options.reverse,{offset:r,padding:o,selection:{border:a}}=i,c=s?e:t,u="x"+(s?2:1);let h=this._slot(s?t:e);const d=H(h[u]-r.left+o.left);Dt(this.leftMask,{width:d}),Dt(this.selection,{left:d}),h=this._slot(c);const f=H(i.width-(h[u]-r.left+o.left));Dt(this.rightMask,{width:f});let p=i.width-f;p!==i.width&&(p+=a.right),Dt(this.rightMask,{left:p}),Dt(this.selection,{width:Math.max(i.width-(d+f)-a.right,0)})}set(e,t){const i=this.options,s=this._index(i.min),r=this._index(i.max),o=ie(this._index(e),s,r),a=ie(this._index(t),o+1,r);i.visible&&this.move(o,a),i.from=this._value(o),i.to=this._value(a)}expand(e){const t=this.options,i=this._index(t.min),s=this._index(t.max),r=t.mousewheel.zoom,o=this._index(t.from),a=this._index(t.to);let l={from:o,to:a};const c=C({},l);if(this._state&&(l=this._state.range),r!==We&&(l.from=ie(ie(o-e,0,a-1),i,s)),r!==Oe&&(l.to=ie(ie(a+e,l.from+1,s),i,s)),l.from!==c.from||l.to!==c.to)return this.set(l.from,l.to),!0}zoom(e,t){const i=this.options,s=this._index(i.min),r=this._index(i.max),o=this._index(i.from),a=this._index(i.to);let l={from:o,to:a};const c=C({},l),{reverse:u}=this.categoryAxis.options,h=Q+(u?"2":"1"),d=this.categoryAxis.lineBox(),f=Math.abs(d[h]-t.x),p=d.width(),g=H(f/p,2),y=H(g*e),b=H((1-g)*e);if(this._state&&(l=this._state.range),l.from=ie(ie(o-y,0,a-1),s,r),l.to=ie(ie(a+b,l.from+1,r),s,r),l.from!==c.from||l.to!==c.to)return this.set(l.from,l.to),!0}trigger(e,t){return(this.observer||this.chart).trigger(e,t)}}B(GB,{visible:!0,mousewheel:{zoom:"both"},min:Kt,max:Ot});const $B=GB,Lre=class Fre extends iD{show(e){if(!e||!e.tooltipAnchor||this._current&&this._current===e)return;const t=C({},this.options,e.options.tooltip),i=e.tooltipAnchor();i?(this._current=e,super.show({point:e,anchor:i},t,e)):this.hide()}hide(){delete this._current,super.hide()}};class WB extends iD{constructor(e,t){super(e.chartService,t),this.plotArea=e,this.formatService=e.chartService.format}showAt(e,t){const i=Ti(e,function(s){const r=s.series.tooltip;return!(r&&!1===r.visible)});if(i.length>0){const s=i[0],r=this.plotArea.categoryAxis.getSlot(s.categoryIx),o=t?this._slotAnchor(t,r):this._defaultAnchor(s,r);this.show({anchor:o,shared:!0,points:e,category:s.category,categoryText:this.formatService.auto(this.options.categoryFormat,s.category),series:this.plotArea.series},this.options)}}_slotAnchor(e,t){return this.plotArea.categoryAxis.options.vertical||(e.x=t.center().x),{point:e,align:{horizontal:"left",vertical:"center"}}}_defaultAnchor(e,t){const i=e.owner.pane.chartsBox(),s=this.plotArea.categoryAxis.options.vertical,r=i.center(),o=t.center();let l;return l=s?new ue(r.x,o.y):new ue(o.x,r.y),{point:l,align:{horizontal:"center",vertical:"center"}}}}B(WB,{categoryFormat:"{0:d}"});const qB=WB;class KB extends Ii{setup(){const{element:e,options:t}=this;if(e.bbox()){this.origin=t.origin;const s=t.vertical?J:Q,r=this.fromScale=new L(1,1);r[s]=qd,e.transform(Xe().scale(r.x,r.y))}else this.abort()}step(e){const t=Ji(this.fromScale.x,1,e),i=Ji(this.fromScale.y,1,e);this.element.transform(Xe().scale(t,i,this.origin))}abort(){super.abort(),this.element.transform(null)}}B(KB,{duration:is}),Fs.current.register(Vs,KB);class YB extends Ii{setup(){const e=this.center=this.element.bbox().center();this.element.transform(Xe().scale(qd,qd,e))}step(e){this.element.transform(Xe().scale(e,e,this.center))}}B(YB,{easing:"easeOutElastic"}),Fs.current.register(pu,YB);class ZB extends Ii{setup(){this.fadeTo=this.element.opacity(),this.element.opacity(0)}step(e){this.element.opacity(e*this.fadeTo)}}B(ZB,{duration:200,easing:"linear"}),Fs.current.register(ia,ZB);class XB extends Ii{setup(){this.element.transform(Xe().scale(qd,qd,this.options.center))}step(e){this.element.transform(Xe().scale(e,e,this.options.center))}}B(XB,{easing:"easeOutElastic",duration:is}),Fs.current.register(ra,XB);class QB extends ky{render(){super.render(),this.renderSegments()}createSegment(e,t,i){let r;return r=t.style===fu?$C:Su,new r(e,t,i)}animationPoints(){return super.animationPoints().concat(this._segments)}createMissingValue(e,t){if(t===ro){const i={x:e.x,y:e.y};return Pi(i.x)||(i.x=0),Pi(i.y)||(i.y=0),i}}}C(QB.prototype,WC);const JB=QB;class AD extends aa{initFields(){this.namedXAxes={},this.namedYAxes={},this.xAxisRangeTracker=new My,this.yAxisRangeTracker=new My}render(e=this.panes){const t=this.groupSeriesByPane();for(let i=0;i<e.length;i++){const s=e[i],r=t[s.options.name||"default"]||[];this.addToLegend(r);const o=this.filterVisibleSeries(r);!o||(this.createScatterChart(Lt(o,NC),s),this.createScatterLineChart(Lt(o,FC),s),this.createBubbleChart(Lt(o,pu),s))}this.createAxes(e)}appendChart(e,t){this.xAxisRangeTracker.update(e.xAxisRanges),this.yAxisRangeTracker.update(e.yAxisRanges),super.appendChart(e,t)}removeAxis(e){const t=e.options.name;super.removeAxis(e),e.options.vertical?(this.yAxisRangeTracker.reset(t),delete this.namedYAxes[t]):(this.xAxisRangeTracker.reset(t),delete this.namedXAxes[t]),e===this.axisX&&delete this.axisX,e===this.axisY&&delete this.axisY}seriesPaneName(e){const t=this.options,i=e.xAxis,r=Ti([].concat(t.xAxis),function(d){return d.name===i})[0],o=e.yAxis,l=Ti([].concat(t.yAxis),function(d){return d.name===o})[0];return(r||{}).pane||(l||{}).pane||(t.panes||[{}])[0].name||"default"}createScatterChart(e,t){e.length>0&&this.appendChart(new ky(this,{series:e,clip:t.options.clip}),t)}createScatterLineChart(e,t){e.length>0&&this.appendChart(new JB(this,{series:e,clip:t.options.clip}),t)}createBubbleChart(e,t){e.length>0&&this.appendChart(new Eie(this,{series:e,clip:t.options.clip}),t)}createXYAxis(e,t,i){const s=e.name,r=t?this.namedYAxes:this.namedXAxes,o=t?this.yAxisRangeTracker:this.xAxisRangeTracker,a=C({reverse:!t&&this.chartService.rtl},e,{vertical:t}),l=oa(a.type,wy),c=o.query(),u=l?{min:.1,max:1}:{min:0,max:1},h=o.query(s)||c||u,d=[a.min,a.max],f=this.series;for(let b=0;b<f.length;b++){const w=f[b],D=w[t?"yAxis":"xAxis"];if(D===a.name||0===i&&!D){const E=Ft.current.bindPoint(w,0).valueFields;d.push(E[t?"y":"x"]);break}}let p,g;0===i&&c&&(h.min=Math.min(h.min,c.min),h.max=Math.max(h.max,c.max));for(let b=0;b<d.length;b++)if(d[b]instanceof Date){p=!0;break}g=oa(a.type,Yo)||!a.type&&p?YL:l?uy:ns;const y=new g(h.min,h.max,a,this.chartService);if(y.axisIndex=i,s){if(r[s])throw new Error(`${t?"Y":"X"} axis with name ${s} is already defined`);r[s]=y}return this.appendAxis(y),y}createAxes(e){const t=this.options,i=[].concat(t.xAxis),s=[],r=[].concat(t.yAxis),o=[];for(let a=0;a<i.length;a++)Se(this.findPane(i[a].pane),e)&&s.push(this.createXYAxis(i[a],!1,a));for(let a=0;a<r.length;a++)Se(this.findPane(r[a].pane),e)&&o.push(this.createXYAxis(r[a],!0,a));this.axisX=this.axisX||s[0],this.axisY=this.axisY||o[0]}_dispatchEvent(e,t,i){const s=e._eventCoordinates(t),r=new ue(s.x,s.y),o=this.axes,a=o.length,l=[],c=[];for(let u=0;u<a;u++){const h=o[u],d=h.options.vertical?c:l,f=h.getValue(r);null!==f&&d.push(f)}l.length>0&&c.length>0&&e.trigger(i,{element:Os(t),originalEvent:t,x:Mu(l),y:Mu(c)})}updateAxisOptions(e,t){const i=e.options.vertical,s=this.groupAxes(this.panes),r=(i?s.y:s.x).indexOf(e);eV(this.options,r,i,t),eV(this.originalOptions,r,i,t)}}function eV(n,e,t,i){C([].concat(t?n.yAxis:n.xAxis)[e],i)}B(AD,{xAxis:{},yAxis:{}}),C(AD.prototype,df);const Bre=AD;class ID extends Qe{constructor(e,t,i){super(i),this.value=e,this.sector=t}render(){const e=this.options.labels,t=this.owner.chartService;let i=this.value;if(this._rendered||!1===this.visible)return;this._rendered=!0;const s=bn(e),r=this.pointData();if(s?i=s(r):e.format&&(i=t.format.auto(e.format,i)),e.visible&&(i||0===i)){if(e.position===ye||e.position===Cy)e.color||(e.color=Ww(this.options.color)),e.background||(e.background=this.options.color);else{const o=t.theme.seriesDefaults.labels;e.color=e.color||o.color,e.background=e.background||o.background}this.label=new ki(i,C({},e,{align:ye,vAlign:"",animation:{type:ia,delay:this.animationDelay}}),r),this.append(this.label)}}reflow(e){this.render(),this.box=e,this.reflowLabel()}reflowLabel(){const{options:{labels:e},label:t}=this,i=this.sector.clone(),s=e.distance,r=i.middle();if(t){const o=t.box.height(),a=t.box.width();let l;if(e.position===ye)i.radius=Math.abs((i.radius-o)/2)+o,l=i.point(r),t.reflow(new z(l.x,l.y-o/2,l.x,l.y));else if(e.position===Cy)i.radius=i.radius-o/2,l=i.point(r),t.reflow(new z(l.x,l.y-o/2,l.x,l.y));else{let c;l=i.clone().expand(s).point(r),l.x>=i.center.x?(c=l.x+a,t.orientation=We):(c=l.x-a,t.orientation=Oe),t.reflow(new z(c,l.y-o,l.x,l.y))}}}createVisual(){const{sector:e,options:t}=this;if(super.createVisual(),this.value)if(t.visual){const i=(e.startAngle+180)%360,s=t.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,center:new L(e.center.x,e.center.y),radius:e.radius,innerRadius:e.innerRadius,startAngle:i,endAngle:i+e.angle,options:t,sender:this.getSender(),createVisual:()=>{const r=new pt;return this.createSegmentVisual(r),r}});s&&this.visual.append(s)}else this.createSegmentVisual(this.visual)}createSegmentVisual(e){const{sector:t,options:i}=this,s=i.border||{},o=i.color,a={color:o,opacity:i.opacity},l=this.createSegment(t,C({fill:a,stroke:{opacity:i.opacity},zIndex:i.zIndex},s.width>0?{stroke:{color:s.color,width:s.width,opacity:s.opacity,dashType:s.dashType}}:{}));e.append(l),ZC(i)&&e.append(this.createGradientOverlay(l,{baseColor:o,fallbackFill:a},C({center:[t.center.x,t.center.y],innerRadius:t.innerRadius,radius:t.radius,userSpace:!0},i.overlay)))}createSegment(e,t){return t.singleSegment?new eo(new ts(new L(e.center.x,e.center.y),e.radius),t):Wm.current.createRing(e,t)}createAnimation(){const{options:e,sector:{center:t}}=this;C(e,{animation:{center:[t.x,t.y],delay:this.animationDelay}}),super.createAnimation()}createHighlight(e){const t=this.options.highlight||{},i=t.border||{};return this.createSegment(this.sector,C({},e,{fill:{color:t.color,opacity:t.opacity},stroke:{opacity:i.opacity,width:i.width,color:i.color}}))}highlightVisual(){return this.visual.children[0]}highlightVisualArgs(){const e=this.sector;return{options:this.options,radius:e.radius,innerRadius:e.innerRadius,center:new L(e.center.x,e.center.y),startAngle:e.startAngle,endAngle:e.angle+e.startAngle,visual:this.visual}}tooltipAnchor(){const e=this.sector.clone().expand(5),t=e.middle();return{point:e.point(t),align:zre(t+180)}}formatValue(e){return this.owner.formatPointValue(this,e)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}}}const Vre=H(Yt(30),10),Hre=H(Yt(60),10);function zre(n){const e=Yt(n),t=H(Math.sin(e),10),i=H(Math.cos(e),10);let s,r;return s=Math.abs(t)>Hre?ye:i<0?We:Oe,r=Math.abs(t)<Vre?ye:t<0?st:ze,{horizontal:s,vertical:r}}B(ID,{color:Ue,overlay:{gradient:"roundedBevel"},border:{width:.5},labels:{visible:!1,distance:35,font:uF,margin:at(.5),align:ks,zIndex:1,position:vl},animation:{type:ra},highlight:{visible:!0,border:{width:1}},visible:!0}),C(ID.prototype,Hs);const tV=ID,nV={createLegendItem:function(n,e,t){const i=this.options.legend||{},s=i.labels||{},r=i.inactiveItems||{},o=r.labels||{};if(t&&!1!==t.visibleInLegend){const a=!1!==t.visible,l=a?bn(s):bn(o)||bn(s);let u,h,c=t.category;l&&(c=l({text:c,series:t.series,dataItem:t.dataItem,percentage:t.percentage,value:n})),a?(u={},h=e.color):(u={color:o.color,font:o.font},h=(r.markers||{}).color),Pi(c)&&""!==c&&this.legendItems.push({active:a,pointIndex:t.index,text:c,series:t.series,markerColor:h,labels:u})}}};class Hy extends Qe{constructor(e,t){super(t),this.plotArea=e,this.chartService=e.chartService,this.points=[],this.legendItems=[],this.render()}render(){this.traverseDataPoints(this.addValue.bind(this))}traverseDataPoints(e){const{options:t,plotArea:{options:{seriesColors:i=[]}}}=this,s=i.length,r=t.series,o=r.length;for(let a=0;a<o;a++){const l=r[a],c=l.data,{total:u,points:h,count:d}=z2(l),f=360/u;let p,g;isFinite(f)||(p=360/d),g=N(l.startAngle)?l.startAngle:t.startAngle,a!==o-1&&l.labels.position===vl&&(l.labels.position=ye);for(let y=0;y<h.length;y++){const b=h[y];if(!b)continue;const{fields:w,value:D,visible:E}=b,V=0!==D?p||D*f:0,q=1!==c.length&&Boolean(w.explode);Ct(l.color)||(l.color=w.color||i[y%s]),e(D,new Vm(null,0,0,g,V),{owner:this,category:N(w.category)?w.category:"",index:y,series:l,seriesIx:a,dataItem:c[y],percentage:0!==u?D/u:0,explode:q,visibleInLegend:w.visibleInLegend,visible:E,zIndex:o-a,animationDelay:this.animationDelay(y,a,o)}),!1!==E&&(g+=V)}}}evalSegmentOptions(e,t,i){const s=i.series;ao(e,{value:t,series:s,dataItem:i.dataItem,category:i.category,percentage:i.percentage},{defaults:s._defaults,excluded:["data","content","template","visual","toggle"]})}addValue(e,t,i){const s=C({},i.series,{index:i.index});if(this.evalSegmentOptions(s,e,i),this.createLegendItem(e,s,i),!1===i.visible)return;const r=new tV(e,t,s);Object.assign(r,i),this.append(r),this.points.push(r)}reflow(e){const{options:t,points:i,seriesConfigs:s=[]}=this,r=i.length,o=e.clone(),l=Math.min(o.width(),o.height()),c=l/2,u=l-.85*l,h=new z(o.x1,o.y1,o.x1+l,o.y1+l),d=h.center(),f=o.center(),p=t.series.length,g=[],y=[];let b=ge(t.padding,u);this.targetBox=e,b=b>c-5?c-5:b,h.translate(f.x-d.x,f.y-d.y);const w=c-b,D=new ue(w+h.x1+b,w+h.y1+b);for(let E=0;E<r;E++){const V=i[E],q=V.sector,re=V.seriesIx;if(q.radius=w,q.center=D,s.length){const gt=s[re];q.innerRadius=gt.innerRadius,q.radius=gt.radius}re===p-1&&V.explode&&(q.center=q.clone().setRadius(.15*q.radius).point(q.middle())),V.reflow(h);const Me=V.label;Me&&Me.options.position===vl&&re===p-1&&(Me.orientation===We?y.push(Me):g.push(Me))}g.length>0&&(g.sort(this.labelComparator(!0)),this.leftLabelsReflow(g)),y.length>0&&(y.sort(this.labelComparator(!1)),this.rightLabelsReflow(y)),this.box=h}leftLabelsReflow(e){const t=this.distanceBetweenLabels(e);this.distributeLabels(t,e)}rightLabelsReflow(e){const t=this.distanceBetweenLabels(e);this.distributeLabels(t,e)}distanceBetweenLabels(e){const t=Nt(this.points),i=t.sector,s=e.length-1,r=i.radius+t.options.labels.distance,o=[];let a=e[0].box,l=H(a.y1-(i.center.y-r-a.height()-a.height()/2));o.push(l);for(let c=0;c<s;c++)a=e[c].box,l=H(e[c+1].box.y1-a.y2),o.push(l);return l=H(i.center.y+r-e[s].box.y2-e[s].box.height()/2),o.push(l),o}distributeLabels(e,t){const i=e.length;let s,r,o;for(let a=0;a<i;a++)for(o=-e[a],s=r=a;o>0&&(s>=0||r<i);)o=this._takeDistance(e,a,--s,o),o=this._takeDistance(e,a,++r,o);this.reflowLabels(e,t)}_takeDistance(e,t,i,s){let r=s;if(e[i]>0){const o=Math.min(e[i],r);r-=o,e[i]-=o,e[t]+=o}return r}reflowLabels(e,t){const i=Nt(this.points),s=i.sector,r=i.options.labels,o=t.length,a=r.distance;let c,l=s.center.y-(s.radius+a)-t[0].box.height();e[0]+=2;for(let u=0;u<o;u++){const h=t[u],d=h.box;l+=e[u],c=this.hAlignLabel(d.x2,s.clone().expand(a),l,l+d.height(),h.orientation===We),h.orientation===We?(r.align!==ks&&(c=s.radius+s.center.x+a),h.reflow(new z(c+d.width(),l,c,l))):(r.align!==ks&&(c=s.center.x-s.radius-a),h.reflow(new z(c-d.width(),l,c,l))),l+=d.height()}}createVisual(){const{options:{connectors:e},points:t}=this,i=t.length;super.createVisual(),this._connectorLines=[];for(let r=0;r<i;r++){const o=t[r],{sector:a,label:l}=o,c=a.middle(),u=(o.options.connectors||{}).color||e.color;if(l){const h=new ae({stroke:{color:u,width:e.width},animation:{type:ia,delay:o.animationDelay}});if(l.options.position===vl){const d=l.box,f=a.center;let y,b,w,p=a.point(c),g=new ue(d.x1,d.center().y);p=a.clone().expand(e.padding).point(c),h.moveTo(p.x,p.y),l.orientation===We?(b=new ue(d.x1-e.padding,d.center().y),w=iV(f,p,g,b),g=new ue(b.x-4,b.y),w=w||g,w.x=Math.min(w.x,g.x),this.pointInCircle(w,a.center,a.radius+4)||w.x<a.center.x?(y=a.center.x+a.radius+4,h.lineTo(o.options.labels.align!==oo?y<g.x?y:p.x+8:y,p.y),h.lineTo(g.x,b.y)):(w.y=b.y,h.lineTo(w.x,w.y))):(b=new ue(d.x2+e.padding,d.center().y),w=iV(f,p,g,b),g=new ue(b.x+4,b.y),w=w||g,w.x=Math.max(w.x,g.x),this.pointInCircle(w,a.center,a.radius+4)||w.x>a.center.x?(y=a.center.x-a.radius-4,h.lineTo(o.options.labels.align!==oo?y>g.x?y:p.x-8:y,p.y),h.lineTo(g.x,b.y)):(w.y=b.y,h.lineTo(w.x,w.y))),h.lineTo(b.x,b.y),this._connectorLines.push(h),this.visual.append(h)}}}}renderVisual(){if(super.renderVisual(),zF(this.options.series,e=>e.autoFit)){const e=this.targetBox,t=this.box.center(),i=this.visual.bbox();if(!i)return;const s=i.bottomRight(),r=Math.min((t.y-e.y1)/(t.y-i.origin.y),(e.y2-t.y)/(s.y-t.y),(t.x-e.x1)/(t.x-i.origin.x),(e.x2-t.x)/(s.x-t.x));r<1&&this.visual.transform(Xe().scale(r,r,[t.x,t.y]))}}labelComparator(e){const t=e?-1:1;return function(i,s){return((i.parent.sector.middle()+270)%360-(s.parent.sector.middle()+270)%360)*t}}hAlignLabel(e,t,i,s,r){const{radius:o,center:{x:a,y:l}}=t,c=Math.min(Math.abs(l-i),Math.abs(l-s));return c>o?e:a+Math.sqrt(o*o-c*c)*(r?1:-1)}pointInCircle(e,t,i){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<Math.pow(i,2)}formatPointValue(e,t){return this.chartService.format.auto(t,e.value)}animationDelay(e){return 70*e}stackRoot(){return this}}function iV(n,e,t,i){const r=(i.y-t.y)*(e.x-n.x)-(i.x-t.x)*(e.y-n.y);let o;if(0!==r){const a=((i.x-t.x)*(n.y-t.y)-(i.y-t.y)*(n.x-t.x))/r;o=new ue(n.x+a*(e.x-n.x),n.y+a*(e.y-n.y))}return o}B(Hy,{startAngle:90,connectors:{width:2,color:"#939393",padding:8},inactiveItems:{markers:{},labels:{}}}),C(Hy.prototype,nV),Hy.prototype.isStackRoot=!0;const sV=Hy,rV=class jre extends aa{render(){this.createPieChart(this.series)}createPieChart(e){const t=e[0],i=new sV(this,{series:e,padding:t.padding,startAngle:t.startAngle,connectors:t.connectors,legend:this.options.legend});this.appendChart(i)}appendChart(e,t){super.appendChart(e,t),cl(this.options.legend.items,e.legendItems)}};class kD extends tV{reflowLabel(){const{options:{labels:e},label:t}=this,i=this.sector.clone(),s=i.middle();if(t){const r=t.box.height();if(e.position===ye){i.radius-=(i.radius-i.innerRadius)/2;const o=i.point(s);t.reflow(new z(o.x,o.y-r/2,o.x,o.y))}else super.reflowLabel()}}createSegment(e,t){return Wm.current.createRing(e,t)}}B(kD,{overlay:{gradient:"roundedGlass"},labels:{position:ye},animation:{type:ra}}),C(kD.prototype,Hs);const oV=kD;class aV extends sV{addValue(e,t,i){const s=C({},i.series,{index:i.index});if(this.evalSegmentOptions(s,e,i),this.createLegendItem(e,s,i),!1===i.visible)return;const r=new oV(e,t,s);Object.assign(r,i),this.append(r),this.points.push(r)}reflow(e){const t=this.options,i=e.clone(),r=Math.min(i.width(),i.height()),o=r/2,l=t.series,c=l.length;let u=ge(t.padding,r-.85*r);u=u>o-5?o-5:u;let f,h=o-u,d=0;for(let w=0;w<c;w++){const D=l[w];0===w&&N(D.holeSize)&&(f=D.holeSize,h-=D.holeSize),N(D.size)?h-=D.size:d++,N(D.margin)&&w!==c-1&&(h-=D.margin)}N(f)||(f=(o-u)/(c+.75)*.75,h-=f);let y,b,p=f,g=0;this.seriesConfigs=[];for(let w=0;w<c;w++){const D=l[w];y=ge(D.size,h/d),p+=g,b=p+y,this.seriesConfigs.push({innerRadius:p,radius:b}),g=D.margin||0,p=b}super.reflow(e)}animationDelay(e,t,i){return 50*e+is*(t+1)/(i+1)}}B(aV,{startAngle:90,connectors:{width:2,color:"#939393",padding:8}});const $re=aV,lV=class Yre extends aa{initFields(){this.valueAxisRangeTracker=new My}render(){this.addToLegend(this.series),this.createPolarAxis(),this.createCharts(),this.createValueAxis()}alignAxes(){const e=this.valueAxis,t=e.range(),s=e.getSlot(e.options.reverse?t.max:t.min),r=this.polarAxis.getSlot(0).center,o=e.box.translate(r.x-s.x1,r.y-s.y1);e.reflow(o)}createValueAxis(){const e=this.valueAxisRangeTracker,t=e.query(),i=this.valueAxisOptions({roundToMajorUnit:!1,zIndex:-1});let s,r;i.type===wy?(s=kne,r={min:.1,max:1}):(s=Ine,r={min:0,max:1});const o=e.query(name)||t||r;o&&t&&(o.min=Math.min(o.min,t.min),o.max=Math.max(o.max,t.max));const a=new s(o.min,o.max,i,this.chartService);this.valueAxis=a,this.appendAxis(a)}reflowAxes(){const{options:{plotArea:e},valueAxis:t,polarAxis:i,box:s}=this,r=.15*Math.min(s.width(),s.height()),o=at(e.padding||{},r),a=s.clone().unpad(o),l=a.clone();l.y2=l.y1+Math.min(l.width(),l.height()),l.align(a,J,ye);const c=l.clone().shrink(0,l.height()/2);i.reflow(l),t.reflow(c);const u=t.lineBox().height()-t.box.height();t.reflow(t.box.unpad({top:u})),this.axisBox=l,this.alignAxes(l)}backgroundBox(){return this.box}detachLabels(){}};class cV extends ky{pointSlot(e,t){const s=ue.onCircle(e.center,e.startAngle,e.center.y-t.y1);return new z(s.x,s.y,s.x,s.y)}}B(cV,{clip:!1});const uV=cV;class PD extends JB{}PD.prototype.pointSlot=uV.prototype.pointSlot,B(PD,{clip:!1});const hV=PD,Xre=class Zre extends YC{fillToAxes(e){const t=this._polarAxisCenter();e.lineTo(t.x,t.y)}_polarAxisCenter(){return this.parent.plotArea.polarAxis.box.center()}strokeSegments(){let e=this._strokeSegments;if(!e){const t=this._polarAxisCenter(),i=new dy(!1),s=this.points();s.push(t),e=this._strokeSegments=i.process(s),e.pop()}return e}},Jre=class Qre extends Tu{fillToAxes(e){const i=this.parent.plotArea.polarAxis.box.center(),s=new Ns([i.x,i.y]);e.segments.unshift(s),e.segments.push(s)}};function toe(n,e){return n.value.x-e.value.x}const noe=class eoe extends hV{createSegment(e,t,i){let r;return r=(t.line||{}).style===fu?new Xre(e,t,i):new Jre(e,t,i),r}createMissingValue(e,t){let i;return Pi(e.x)&&t!==du&&(i={x:e.x,y:e.y},t===ro&&(i.y=0)),i}seriesMissingValues(e){return e.missingValues||ro}_hasMissingValuesGap(){const e=this.options.series;for(let t=0;t<e.length;t++)if("gap"===this.seriesMissingValues(e[t]))return!0}sortPoints(e){if(e.sort(toe),this._hasMissingValuesGap())for(let t=0;t<e.length;t++){const i=e[t];i&&!Pi(i.value.y)&&"gap"===this.seriesMissingValues(i.series)&&delete e[t]}return e}};class RD extends lV{createPolarAxis(){const e=new Ene(this.options.xAxis,this.chartService);this.polarAxis=e,this.axisX=e,this.appendAxis(e)}valueAxisOptions(e){return C(e,{majorGridLines:{type:Ko},minorGridLines:{type:Ko}},this.options.yAxis)}createValueAxis(){super.createValueAxis(),this.axisY=this.valueAxis}appendChart(e,t){this.valueAxisRangeTracker.update(e.yAxisRanges),aa.prototype.appendChart.call(this,e,t)}createCharts(){const e=this.filterVisibleSeries(this.series),t=this.panes[0];this.createLineChart(Lt(e,[RC]),t),this.createScatterChart(Lt(e,[OC]),t),this.createAreaChart(Lt(e,[PC]),t)}createLineChart(e,t){if(0===e.length)return;const i=new hV(this,{series:e});this.appendChart(i,t)}createScatterChart(e,t){if(0===e.length)return;const i=new uV(this,{series:e});this.appendChart(i,t)}createAreaChart(e,t){if(0===e.length)return;const i=new noe(this,{series:e});this.appendChart(i,t)}_dispatchEvent(e,t,i){const s=e._eventCoordinates(t),r=new ue(s.x,s.y),o=this.axisX.getValue(r),a=this.axisY.getValue(r);null!==o&&null!==a&&e.trigger(i,{element:Os(t),x:o,y:a})}createCrosshairs(){}}B(RD,{xAxis:{},yAxis:{}}),C(RD.prototype,df);const ioe=RD;class dV extends KC{pointSlot(e,t){const i=e.center.y-t.y1,s=ue.onCircle(e.center,e.middle(),i);return new z(s.x,s.y,s.x,s.y)}renderSegments(){if(super.renderSegments(),this._segments&&this._segments.length>1){const e=function soe(n){const e=[];for(let t=0;t<n.length;t++){const i=n[t];e[i.seriesIx]=e[i.seriesIx]||[],e[i.seriesIx].push(i)}return e}(this._segments);for(let t=0;t<e.length;t++){const i=e[t];if(i&&i.length>1){const s=i[0].linePoints[0],r=Nt(i),o=Nt(r.linePoints),l=o.categoryIx===o.categoriesCount-1;0===s.categoryIx&&l&&Nt(i).linePoints.push(s)}}}}createSegment(e,t,i){let r;r=t.style===fu?$C:Su;const o=new r(e,t,i),a=this.seriesMissingValues(t);return(e.length===t.data.length||a===du)&&(o.options.closed=!0),o}}B(dV,{clip:!1,limitPoints:!1});const fV=dV,ooe=class roe extends YC{fillToAxes(){}},loe=class aoe extends Tu{fillToAxes(){}},uoe=class coe extends fV{createSegment(e,t,i,s){const o=(t.line||{}).style;let a,l,c;return this.options.isStacked&&i>0&&s&&(l=s.linePoints.slice(0),a=s),o===fu?(c=new ooe(e,t,i,a,l),c.options.closed=!0):(e.push(e[0]),c=new loe(e,t,i,a,l)),c}seriesMissingValues(e){return e.missingValues||ro}};class pV extends oV{constructor(e,t){super(e,null,t)}}B(pV,{overlay:{gradient:"none"},labels:{distance:10}});const hoe=pV;class gV extends Qe{constructor(e){super(e),this.forEach=e.rtl?M2:T2}reflow(e){const{options:t,children:i}=this,{gap:s,spacing:r}=t,o=i.length,l=e.angle/(o+s+r*(o-1));let c=e.startAngle+l*(s/2);this.forEach(i,u=>{const h=e.clone();h.startAngle=c,h.angle=l,u.sector&&(h.radius=u.sector.radius),u.reflow(h),u.sector=h,c+=l+l*r})}}B(gV,{gap:1,spacing:0});const doe=gV,poe=class foe extends Qe{reflow(e){const{options:{reverse:t},children:i}=this,s=i.length,r=t?s-1:0,o=t?-1:1;this.box=new z;for(let a=r;a>=0&&a<s;a+=o){const l=i[a].sector;l.startAngle=e.startAngle,l.angle=e.angle}}};class OD extends cf{pointType(){return hoe}clusterType(){return doe}stackType(){return poe}categorySlot(e,t){return e.getSlot(t)}pointSlot(e,t){const i=e.clone(),s=e.center.y;return i.radius=s-t.y1,i.innerRadius=s-t.y2,i}reflowPoint(e,t){e.sector=t,e.reflow()}createAnimation(){this.options.animation.center=this.box.toRect().center(),super.createAnimation()}}OD.prototype.reflow=lo.prototype.reflow,B(OD,{clip:!1,limitPoints:!1,animation:{type:"pie"}});const goe=OD;class ND extends lV{createPolarAxis(){const e=new DC(this.options.categoryAxis,this.chartService);this.polarAxis=e,this.categoryAxis=e,this.appendAxis(e),this.aggregateCategories(),this.createCategoryAxesLabels()}valueAxisOptions(e){return this._hasBarCharts&&C(e,{majorGridLines:{type:Ko},minorGridLines:{type:Ko}}),this._isStacked100&&C(e,{roundToMajorUnit:!1,labels:{format:"P0"}}),C(e,this.options.valueAxis)}aggregateCategories(){xl.prototype.aggregateCategories.call(this,this.panes)}createCategoryAxesLabels(){xl.prototype.createCategoryAxesLabels.call(this,this.panes)}filterSeries(e){return e}createCharts(){const e=this.filterVisibleSeries(this.series),t=this.panes[0];this.createAreaChart(Lt(e,[_y]),t),this.createLineChart(Lt(e,[xy]),t),this.createBarChart(Lt(e,[by]),t)}chartOptions(e){const t={series:e},i=e[0];if(i){const s=this.filterVisibleSeries(e),r=i.stack;t.isStacked=r&&s.length>1,t.isStacked100=r&&"100%"===r.type&&s.length>1,t.isStacked100&&(this._isStacked100=!0)}return t}createAreaChart(e,t){if(0===e.length)return;const i=new uoe(this,this.chartOptions(e));this.appendChart(i,t)}createLineChart(e,t){if(0===e.length)return;const i=new fV(this,this.chartOptions(e));this.appendChart(i,t)}createBarChart(e,t){if(0===e.length)return;const i=e[0],s=this.chartOptions(e);s.gap=i.gap,s.spacing=i.spacing;const r=new goe(this,s);this.appendChart(r,t),this._hasBarCharts=!0}seriesCategoryAxis(){return this.categoryAxis}_dispatchEvent(e,t,i){const s=e._eventCoordinates(t),r=new ue(s.x,s.y),o=this.categoryAxis.getCategory(r),a=this.valueAxis.getValue(r);null!==o&&null!==a&&e.trigger(i,{element:Os(t),category:o,value:a})}createCrosshairs(){}}C(ND.prototype,df,{appendChart:xl.prototype.appendChart,aggregateSeries:xl.prototype.aggregateSeries,seriesSourcePoints:xl.prototype.seriesSourcePoints}),B(ND,{categoryAxis:{categories:[]},valueAxis:{}});const moe=ND;class FD extends Qe{constructor(e,t,i){super(t),this.value=e,this.options.index=i.index}reflow(e){const t=this.points,i=this.children[0];this.box=new z(t[0].x,t[0].y,t[1].x,t[2].y),i&&i.reflow(new z(e.x1,t[0].y,e.x2,t[2].y))}createVisual(){const e=this.options;let t;super.createVisual(),t=e.visual?e.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,points:this.points,options:e,sender:this.getSender(),createVisual:()=>this.createPath()}):this.createPath(),t&&this.visual.append(t)}createPath(){const e=this.options,t=e.border;return ae.fromPoints(this.points,{fill:{color:e.color,opacity:e.opacity},stroke:{color:t.color,opacity:t.opacity,width:t.width}}).close()}createHighlight(e){return ae.fromPoints(this.points,e)}highlightVisual(){return this.visual.children[0]}highlightVisualArgs(){const e=ae.fromPoints(this.points).close();return{options:this.options,path:e}}tooltipAnchor(){const e=this.box;return{point:new ue(e.center().x,e.y1),align:{horizontal:"center",vertical:"top"}}}formatValue(e){return this.owner.formatPointValue(this,e)}}B(FD,{color:Ue,border:{width:1}}),C(FD.prototype,Hs);const yoe=FD;class LD extends Qe{constructor(e,t){super(t),this.plotArea=e,this.points=[],this.labels=[],this.legendItems=[],this.render()}formatPointValue(e,t){return this.chartService.format.auto(t,e.value)}render(){const{options:e,plotArea:{options:{seriesColors:t=[]}}}=this,i=e.series[0],s=i.data;if(!s)return;const{total:r,points:o}=z2(i);for(let a=0;a<o.length;a++){const l=o[a];if(!l)continue;let c=l.fields;Ct(i.color)||(i.color=c.color||t[a%t.length]),c=C({index:a,owner:this,series:i,dataItem:s[a],percentage:l.value/r},c,{visible:l.visible});const u=l.valueFields.value,h=this.createSegment(u,c),d=this.createLabel(u,c);h&&d&&h.append(d)}}evalSegmentOptions(e,t,i){const s=i.series;ao(e,{value:t,series:s,dataItem:i.dataItem,index:i.index},{defaults:s._defaults,excluded:["data","content","template","toggle","visual"]})}createSegment(e,t){const i=C({},t.series);if(this.evalSegmentOptions(i,e,t),this.createLegendItem(e,i,t),!1!==t.visible){const s=new yoe(e,i,t);return Object.assign(s,t),this.append(s),this.points.push(s),s}}createLabel(e,t){const{series:i,dataItem:s}=t,r=C({},this.options.labels,i.labels);let o=e;if(r.visible){const a=bn(r),l={dataItem:s,value:e,percentage:t.percentage,category:t.category,series:i};a?o=a(l):r.format&&(o=this.plotArea.chartService.format.auto(r.format,o)),r.color||(r.color=Ww(i.color),r.background||(r.background=i.color)),this.evalSegmentOptions(r,e,t);const c=new ki(o,C({vAlign:r.position},r),l);return this.labels.push(c),c}}labelPadding(){const e=this.labels,t={left:0,right:0};for(let i=0;i<e.length;i++){const r=e[i].options.align;if(r!==ye){const o=e[i].box.width();r===Oe?t.left=Math.max(t.left,o):t.right=Math.max(t.right,o)}}return t}dynamicSlopeReflow(e,t,i){const{options:s,points:r}=this,o=r.length,a=r[0];let l=a;for(let d=0;d<r.length;d++)r[d].percentage>l.percentage&&(l=r[d]);let c=a.percentage/l.percentage*t,u=(t-c)/2,h=0;for(let d=0;d<o;d++){const f=r[d].percentage,p=r[d+1],g=p?p.percentage:f,y=r[d].points=[],b=s.dynamicHeight?i*f:i/o;let w;w=f?(t-c*(g/f))/2:g?0:t/2,w=ie(w,0,t),y.push(new L(e.x1+u,e.y1+h)),y.push(new L(e.x1+t-u,e.y1+h)),y.push(new L(e.x1+t-w,e.y1+b+h)),y.push(new L(e.x1+w,e.y1+b+h)),u=w,h+=b+s.segmentSpacing,c=ie(t-2*w,0,t)}}constantSlopeReflow(e,t,i){const{options:s,points:r}=this,o=r.length,a=s.neckRatio<=1;let c=a?0:(t-t/s.neckRatio)/2;const h=((a?t:t-2*c)-(a?s.neckRatio*t:t))/2;let d=0;for(let f=0;f<o;f++){const p=r[f].points=[],g=r[f].percentage,y=s.dynamicHeight?h*g:h/o,b=s.dynamicHeight?i*g:i/o;p.push(new L(e.x1+c,e.y1+d)),p.push(new L(e.x1+t-c,e.y1+d)),p.push(new L(e.x1+t-c-y,e.y1+b+d)),p.push(new L(e.x1+c+y,e.y1+b+d)),c+=y,d+=b+s.segmentSpacing}}reflow(e){const t=this.points,i=t.length;if(!i)return;const s=this.options,r=e.clone().unpad(this.labelPadding()),o=r.height()-s.segmentSpacing*(i-1),a=r.width();s.dynamicSlope?this.dynamicSlopeReflow(r,a,o):this.constantSlopeReflow(r,a,o);for(let l=0;l<i;l++)t[l].reflow(e)}}B(LD,{neckRatio:.3,width:300,dynamicSlope:!1,dynamicHeight:!0,segmentSpacing:0,labels:{visible:!1,align:ye,position:ye,zIndex:1}}),C(LD.prototype,nV);const voe=LD;class zy extends Qe{constructor(e,t){super(),this.options=t,this.color=t.color||Ue,this.value=e}render(){this._rendered||(this._rendered=!0,this.createMarker(),this.createLabel(),this.createNote())}createLabel(){const t=this.options.labels;if(t.visible){const i=this.pointData();let r,s=bn(t),o=t.color;r=s?s(i):this.formatValue(t.format),o||(o=Ww(this.color)),this.label=new ki(r,C({align:ye,vAlign:ye,margin:{left:5,right:5},zIndex:ge(t.zIndex,this.series.zIndex)},t,{color:o}),i),this.append(this.label)}}formatValue(e){return this.owner.formatPointValue(this,e)}reflow(e){this.render();const t=this.label;this.box=e,t&&t.reflow(this.markerBox()),this.note&&this.note.reflow(e),this.marker.reflow(this.markerBox())}markerBox(){const t=this.options.markers,i=t.border,s=this.box.toRect(),o=ge(t.type,"rect")===gF;let a=ge(i.width,o?1:0);const l=Math.round(a/2);if(t.size){const c=s.center();s.size.width=s.size.height=t.size,s.origin.x=Math.round(c.x-s.size.width/2),s.origin.y=Math.round(c.y-s.size.height/2)}return s.size.width-=a,s.size.height-=a,s.origin.y+=l+.5,s.origin.x+=l+.5,Zm(s)}markerBorder(){const e=this.options,i=e.markers.border,s=ge(i.opacity,e.opacity);return{color:i.color||this.color,width:i.width,opacity:s,dashType:i.dashType}}createMarker(){const e=this.options,t=e.markers,i=new na({type:ge(t.type,"rect"),width:t.size,height:t.size,rotation:t.rotation,background:this.color,border:this.markerBorder(),borderRadius:t.borderRadius,opacity:this.series.opacity||e.opacity,zIndex:ge(e.zIndex,this.series.zIndex),animation:e.animation,visual:e.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category});this.marker=i,this.append(i)}createHighlight(e){const t=this.options,i=this.options.highlight.markers||this.options.markers,s=new na({type:ge(i.type,"rect"),width:i.size,height:i.size,rotation:i.rotation,background:i.color||this.color,border:this.markerBorder(),borderRadius:i.borderRadius,opacity:this.series.opacity||t.opacity,zIndex:ge(t.zIndex,this.series.zIndex)});s.reflow(this.markerBox());const r=s.getElement();return r.options.fill=e.fill,r.options.stroke=e.stroke,r}highlightVisual(){return this.rectVisual}highlightVisualArgs(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}}tooltipAnchor(){const e=this.box.center().x;return{point:new ue(e,this.box.y1-5),align:{horizontal:ye,vertical:st}}}overlapsBox(e){return this.box.overlaps(e)}unclipElements(){}pointData(){return{x:this.value.x,y:this.value.y,value:this.value.value,dataItem:this.dataItem,series:this.series}}}C(zy.prototype,Hs),C(zy.prototype,Du),zy.prototype.defaults={markers:{type:"rect",borderRadius:4,border:{color:"transparent"}},padding:{top:1},labels:{visible:!1,padding:3},opacity:1,notes:{label:{}}};const mV=zy;class BD extends Qe{constructor(e,t){super(t),this.plotArea=e,this.chartService=e.chartService,this._initFields(),this.render()}_initFields(){this.points=[],this.seriesOptions=[],this.valueRange={min:Ot,max:Kt},this._evalSeries=[]}render(){this.setRange(),this.traverseDataPoints(this.addValue.bind(this))}setRange(){const{options:{series:e}}=this;for(let t=0;t<e.length;t++){const i=e[t];for(let s=0;s<i.data.length;s++){const{valueFields:r}=this._bindPoint(i,t,s);N(r.value)&&null!==r.value&&(this.valueRange.min=Math.min(this.valueRange.min,r.value),this.valueRange.max=Math.max(this.valueRange.max,r.value))}}}addValue(e,t){let i;e&&N(e.value)&&null!==e.value&&(i=this.createPoint(e,t),i&&Object.assign(i,t)),this.points.push(i)}evalPointOptions(e,t,i){const{series:s,seriesIx:r}=i,o={defaults:s._defaults,excluded:["data","tooltip","content","template","visual","toggle"]};let a=this._evalSeries[r];N(a)||(this._evalSeries[r]=a=ao(e,{},o,!0));let l=e;return a&&(l=C({},e),ao(l,{value:t,series:s,dataItem:i.dataItem,min:this.valueRange.min,max:this.valueRange.max},o)),l}pointType(){return mV}pointOptions(e,t){let i=this.seriesOptions[t];if(!i){const s=this.pointType().prototype.defaults;this.seriesOptions[t]=i=C({},s,{markers:{opacity:e.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},e)}return i}createPoint(e,t){const i=t.series;let s=this.pointOptions(i,t.seriesIx),r=t.color||i.color;s=this.evalPointOptions(s,e,t),Ct(i.color)?r=s.color:0!==this.valueRange.max&&(r=((n,e=.05)=>{const t=Om(n),i=1-e;return s=>{const r=t.toHSL(),o=100-r.l;return r.l+=Math.min((i-s)*o,o),r.toCss()}})(r)(e.value/this.valueRange.max));const o=new mV(e,s);return o.color=r,this.append(o),o}seriesAxes(e){const{xAxis:t,yAxis:i}=e,s=this.plotArea,r=t?s.namedXAxes[t]:s.axisX,o=i?s.namedYAxes[i]:s.axisY;if(!r)throw new Error("Unable to locate X axis with name "+t);if(!o)throw new Error("Unable to locate Y axis with name "+i);return{xAxis:r,yAxis:o}}reflow(e){const t=this.points,i=!this.options.clip;let s=0;this.traverseDataPoints((r,o)=>{const a=t[s++],{xAxis:l,yAxis:c}=this.seriesAxes(o.series),u=l.categoryIndex(r.x),h=c.categoryIndex(r.y),d=l.getSlot(u,u,i),f=c.getSlot(h,h,i);if(a)if(d&&f){const p=this.pointSlot(d,f);a.reflow(p)}else a.visible=!1}),this.box=e}pointSlot(e,t){return new z(e.x1,t.y1,e.x2,t.y2)}traverseDataPoints(e){const{options:{series:t}}=this;for(let i=0;i<t.length;i++){const s=t[i],{xAxis:r,yAxis:o}=this.seriesAxes(s),a=r.currentRangeIndices(),l=o.currentRangeIndices();for(let c=0;c<s.data.length;c++){const{valueFields:u,fields:h}=this._bindPoint(s,i,c),d=r.totalIndex(u.x),f=o.totalIndex(u.y),g=l.min<=f&&f<=l.max;a.min<=d&&d<=a.max&&g&&e(u,C({pointIx:c,series:s,seriesIx:i,dataItem:s.data[c],owner:this},h))}}}formatPointValue(e,t){const i=e.value;return this.chartService.format.auto(t,i.x,i.y,i.value)}animationPoints(){const e=this.points,t=[];for(let i=0;i<e.length;i++)t.push((e[i]||{}).marker);return t}}B(BD,{series:[],tooltip:{format:"{0}, {1}: {2}"},labels:{format:"{2}"},clip:!0}),C(BD.prototype,{_bindPoint:lo.prototype._bindPoint});const woe=BD;class VD extends aa{initFields(){this.namedXAxes={},this.namedYAxes={}}render(e=this.panes){this.bindCategories(),this.createAxes(e),this.createCharts(e),this.createAxisLabels()}bindCategories(){const e=this.srcSeries||this.series;for(let t=0;t<e.length;t++){const i=e[t],s=i.data||[],{xAxis:r,yAxis:o}=this.seriesAxes(i),a=KF(r.categories||[]),l=KF(o.categories||[]);for(let c=0;c<s.length;c++){const{x:u,y:h}=Ft.current.bindPoint(i,c).valueFields;a.has(u)||a.add(u),l.has(h)||l.add(h)}r.categories=a.values(),o.categories=l.values()}}createCharts(e){const t=this.groupSeriesByPane();for(let i=0;i<e.length;i++){const s=e[i],r=t[s.options.name||"default"]||[];this.addToLegend(r);const o=this.filterVisibleSeries(r);!o||this.createHeatmapChart(Lt(o,[kC]),s)}}createHeatmapChart(e,t){const i=new woe(this,{series:e});this.appendChart(i,t)}seriesPaneName(e){const t=this.options,i=e.xAxis,r=Ti([].concat(t.xAxis),function(d){return d.name===i})[0],o=e.yAxis,l=Ti([].concat(t.yAxis),function(d){return d.name===o})[0];return(r||{}).pane||(l||{}).pane||(t.panes||[{}])[0].name||"default"}seriesAxes(e){let t,i;const s=this.options,r=[].concat(s.xAxis),o=e.xAxis;t=o?r.find(c=>c.name===o):r[0];const a=[].concat(s.yAxis),l=e.yAxis;if(i=l?a.find(c=>c.name===l):a[0],!t)throw new Error("Unable to locate X axis with name "+o);if(!i)throw new Error("Unable to locate Y axis with name "+l);return{xAxis:t,yAxis:i}}createAxisLabels(){const e=this.axes;for(let t=0;t<e.length;t++)e[t].createLabels()}createXYAxis(e,t,i){const s=e.name,r=t?this.namedYAxes:this.namedXAxes,o=Object.assign({axisCrossingValue:0},e,{vertical:t,reverse:t||this.chartService.rtl?!e.reverse:e.reverse,justified:!1}),l=[o.min,o.max,o.categories?o.categories[0]:null],c=this.series;for(let f=0;f<c.length;f++){const p=c[f],g=p[t?"yAxis":"xAxis"];if(g===o.name||0===i&&!g){const y=Ft.current.bindPoint(p,0).valueFields;l.push(y[t?"y":"x"]);break}}let u,h;for(let f=0;f<l.length;f++)if(l[f]instanceof Date){u=!0;break}h=oa(o.type,Yo)||!o.type&&u?Wd:io;const d=new h(o,this.chartService);if(d.axisIndex=i,s){if(r[s])throw new Error(`${t?"Y":"X"} axis with name ${s} is already defined`);r[s]=d}return this.appendAxis(d),d.mapCategories(),d}createAxes(e){const t=this.options,i=[].concat(t.xAxis),s=[],r=[].concat(t.yAxis),o=[];for(let a=0;a<i.length;a++)Se(this.findPane(i[a].pane),e)&&s.push(this.createXYAxis(i[a],!1,a));for(let a=0;a<r.length;a++)Se(this.findPane(r[a].pane),e)&&o.push(this.createXYAxis(r[a],!0,a));this.axisX=this.axisX||s[0],this.axisY=this.axisY||o[0]}removeAxis(e){const t=e.options.name;super.removeAxis(e),e.options.vertical?delete this.namedYAxes[t]:delete this.namedXAxes[t],e===this.axisX&&delete this.axisX,e===this.axisY&&delete this.axisY}_dispatchEvent(e,t,i){const s=e._eventCoordinates(t),r=new ue(s.x,s.y),o=this.axes,a=o.length,l=[],c=[];for(let u=0;u<a;u++){const h=o[u];Ry(h.options.vertical?c:l,h.getCategory(r))}l.length>0&&c.length>0&&e.trigger(i,{element:Os(t),originalEvent:t,x:Mu(l),y:Mu(c)})}updateAxisOptions(e,t){const i=e.options.vertical,s=this.groupAxes(this.panes),r=(i?s.y:s.x).indexOf(e);yV(this.options,r,i,t),yV(this.originalOptions,r,i,t)}crosshairOptions(e){return Object.assign({},e.options.crosshair,{zIndex:0})}}function yV(n,e,t,i){C([].concat(t?n.yAxis:n.xAxis)[e],i)}B(VD,{xAxis:{},yAxis:{}}),C(VD.prototype,df);const Coe=VD,Ri="color",Oi="first",ti="max",po="noteText";ho.current.register(xl,[Vs,oo,Xd,bu,Yd,vu,gu,Qd,sa,tf,Zd,_u,ef,yu,nf,mu,Jd,xu]),ho.current.register(Bre,[NC,FC,pu]),ho.current.register(rV,[ra]),ho.current.register(class Wre extends rV{render(){this.createDonutChart(this.series)}createDonutChart(e){const t=e[0],i=new $re(this,{series:e,padding:t.padding,connectors:t.connectors,legend:this.options.legend});this.appendChart(i)}},[yy]),ho.current.register(class _oe extends aa{render(){this.createFunnelChart(this.series)}createFunnelChart(e){const t=e[0],i=new voe(this,{series:e,legend:this.options.legend,neckRatio:t.neckRatio,dynamicHeight:t.dynamicHeight,dynamicSlope:t.dynamicSlope,segmentSpacing:t.segmentSpacing,highlight:t.highlight});this.appendChart(i)}appendChart(e,t){super.appendChart(e,t),cl(this.options.legend.items,e.legendItems)}},[vy]),ho.current.register(ioe,[PC,RC,OC]),ho.current.register(moe,[_y,by,xy]),ho.current.register(Coe,[kC]),Ft.current.register([Vs,oo,Xd,bu,Yd,vu],[Si],[yr,Ri,po,a2,l2]),Ft.current.register([ef,yu,Jd,xu],["from","to"],[yr,Ri,po]),Ft.current.register([nf,mu],[Si],[yr,Ri,po,"summary"]),Ft.current.register([PC,RC,OC],[Q,J],[Ri]),Ft.current.register([_y,by,xy],[Si],[Ri]),Ft.current.register([vy],[Si],[yr,Ri,"visibleInLegend","visible"]),bl.current.register([Vs,oo,Xd,bu,Yd,vu,nf,mu],{value:ti,color:Oi,noteText:Oi,errorLow:"min",errorHigh:ti}),bl.current.register([ef,yu,Jd,xu],{from:"min",to:ti,color:Oi,noteText:Oi}),bl.current.register([_y,by,xy],{value:ti,color:Oi}),Ft.current.register([NC,FC,pu],[Q,J],[Ri,po,"xErrorLow","xErrorHigh","yErrorLow","yErrorHigh"]),Ft.current.register([pu],[Q,J,"size"],[Ri,yr,po]),Ft.current.register([kC],[Q,J,Si],[Ri,po]),Ft.current.register([gu,Qd],["open","high","low","close"],[yr,Ri,"downColor",po]),bl.current.register([gu,Qd],{open:ti,high:ti,low:"min",close:ti,color:Oi,downColor:Oi,noteText:Oi}),Ft.current.register([Zd,_u],["lower","q1","median","q3","upper","mean","outliers"],[yr,Ri,po]),bl.current.register([Zd,_u],{lower:ti,q1:ti,median:ti,q3:ti,upper:ti,mean:ti,outliers:Oi,color:Oi,noteText:Oi}),Ft.current.register([sa,tf],["current","target"],[yr,Ri,"visibleInLegend",po]),bl.current.register([sa,tf],{current:ti,target:ti,color:Oi,noteText:Oi}),Ft.current.register([ra,yy],[Si],[yr,Ri,"explode","visibleInLegend","visible"]);const zD=[yr,Si,Q,J],Dl="mousemove",vV="contextmenu",_V="mouseleave";class bV extends Y{constructor(e,t,i,s={}){super(),this.observers=[],this.addObserver(s.observer),this.chartService=new aC(this,s),this.chartService.theme=i,this._initElement(e);const r=C({},this.options,t);this._originalOptions=C({},r),this._theme=i,this._initTheme(r,i),this._initHandlers(),this._initSurface(),this.bindCategories(),Fee.preloadFonts(t,()=>{this.fontLoaded=!0,this._destroyed||(this.trigger("init"),this._redraw(),this._attachEvents())})}_initElement(e){for(this._setElementClass(e),e.style.position="relative";e.firstChild;)e.removeChild(e.firstChild);this.element=e}_setElementClass(e){Jn(e,"k-chart")}_initTheme(e,t){const i=[],s=e.series||[];for(let r=0;r<s.length;r++)i.push(Object.assign({},s[r]));e.series=i,function Eoe(n){const e=zD;for(let t=0;t<e.length;t++){const i=e[t]+"Axes";n[i]&&(n[e[t]+"Axis"]=n[i],delete n[i])}}(e),this.applyDefaults(e,t),null===e.seriesColors&&delete e.seriesColors,this.options=C({},t,e),this.applySeriesColors()}getSize(){const e=this.options.chartArea||{};return{width:e.width?parseInt(e.width,10):Math.floor(this.element.offsetWidth),height:e.height?parseInt(e.height,10):Math.floor(this.element.offsetHeight)}}resize(e){const t=this.getSize(),i=this._size,s=t.width>0||t.height>0;e||s&&(!i||t.width!==i.width||t.height!==i.height)?(this._size=t,this._resize(t,e),this.trigger("resize",t)):s&&this._selections&&zF(this._selections,r=>!r.visible)&&(this._destroySelections(),this._setupSelection())}_resize(){this._noTransitionsRedraw()}redraw(e){if(this.applyDefaults(this.options),this.applySeriesColors(),e){const t=this._model._plotArea,i=t.findPane(e);t.redraw(i)}else this._redraw()}getAxis(e){return r2(e,this._plotArea.axes)}findAxisByName(e){return this.getAxis(e)}findPaneByName(e){const t=this._plotArea.panes;for(let i=0;i<t.length;i++)if(t[i].options.name===e)return new TC(t[i])}findPaneByIndex(e){const t=this._plotArea.panes;if(t[e])return new TC(t[e])}plotArea(){return new Bne(this._plotArea)}toggleHighlight(e,t){const i=this._plotArea,s=(i.srcSeries||i.series||[])[0];let r;if(Ct(t))r=i.filterPoints(t);else{let o,a;Ps(t)?(o=t.series,a=t.category):o=a=t,r=s.type===yy?xV(i.pointsBySeriesName(o),a):s.type===ra||s.type===vy?xV((i.charts[0]||{}).points,a):i.pointsBySeriesName(o)}r&&this.togglePointsHighlight(e,r)}togglePointsHighlight(e,t){const i=this._highlight;for(let s=0;s<t.length;s++)i.togglePointHighlight(t[s],e)}showTooltip(e){const t=this._sharedTooltip(),{_tooltip:i,_plotArea:s}=this;let r,o;if(Ct(e)?(r=s.findPoint(e),r&&t&&(o=r.categoryIx)):t&&N(e)&&(o=s.categoryAxis.categoryIndex(e)),t){if(o>=0){const a=this._plotArea.pointsByCategoryIndex(o);i.showAt(a)}}else r&&i.show(r)}hideTooltip(){this._tooltip.hide()}_initSurface(){const e=this.surface,t=this._surfaceWrap(),i=this.options.chartArea||{};i.width&&Xr(t,{width:i.width}),i.height&&Xr(t,{height:i.height}),e&&e.options.type===this.options.renderAs?(this.surface.clear(),this.surface.resize()):(this._destroySurface(),this.surface=gf.create(t,{type:this.options.renderAs}),this.surface.bind("mouseenter",this._surfaceMouseenterHandler),this.surface.bind("mouseleave",this._surfaceMouseleaveHandler))}_surfaceWrap(){return this.element}_redraw(){const e=this._getModel();this._size={width:e.options.width,height:e.options.height},this._destroyView(),this._model=e,this._plotArea=e._plotArea,e.renderVisual(),!1!==this.options.transitions&&e.traverse(function(t){t.animation&&t.animation.setup()}),this._initSurface(),this.surface.draw(e.visual),!1!==this.options.transitions&&e.traverse(function(t){t.animation&&t.animation.play()}),this._tooltip=this._createTooltip(),this._highlight=new gre,this._setupSelection(),this._createPannable(),this._createZoomSelection(),this._createMousewheelZoom(),this.trigger("render"),CV(this._plotArea.panes),this._navState||this._cancelDomEvents()}exportVisual(e){let t;if(e&&(e.width||e.height||e.options)){const i=this.options,s=C({},e.options,{chartArea:{width:e.width,height:e.height}});UD(this._originalOptions,s),this.options=C({},this._originalOptions,s),this._initTheme(this.options,this._theme),this.bindCategories();const r=this._getModel();r.renderVisual(),CV(r._plotArea.panes),t=r.visual,this.options=i}else t=this.surface.exportVisual();return t}_sharedTooltip(){return this._plotArea instanceof xl&&this.options.tooltip&&this.options.tooltip.shared}_createPannable(){const e=this.options;!1!==e.pannable&&(this._pannable=new mre(this._plotArea,e.pannable))}_createZoomSelection(){const e=this.options.zoomable,t=(e||{}).selection;!1!==e&&!1!==t&&(this._zoomSelection=new yre(this,t))}_createMousewheelZoom(){const e=this.options.zoomable,t=(e||{}).mousewheel;!1!==e&&!1!==t&&(this._mousewheelZoom=new wre(this,t))}_toggleDragZoomEvents(){const t=this.options.zoomable,s=(t||{}).mousewheel,r=!(this.options.pannable||!1!==t&&!1!==(t||{}).selection||this.requiresHandlers([BC,sf,rf])),o=(!1===t||!1===s)&&!this.requiresHandlers([af,wu,Cu]),a=this.element;this._dragZoomEnabled&&r&&o?(a.style.touchAction=this._touchAction||"",this._dragZoomEnabled=!1):!this._dragZoomEnabled&&!(r&&o)&&(a.style.touchAction="none",this._dragZoomEnabled=!0),this._toggleDomEvents(!r,!o)}_toggleDomEvents(e,t){const i=this.domEvents;!i||(i.toggleDrag&&i.toggleDrag(e),i.toggleZoom&&i.toggleZoom(t))}_createTooltip(){const{options:{tooltip:e}}=this;let t;return t=this._sharedTooltip()?this._createSharedTooltip(e):new Lre(this.chartService,e),t}_createSharedTooltip(e){return new qB(this._plotArea,e)}applyDefaults(e,t){(function Aoe(n,e){const t=(e||{}).axisDefaults||{};let i,s,r;function o(a){const l=(a||{}).color||s.color,c=C({},t,t[i],s,s[i],{line:{color:l},labels:{color:l},title:{color:l}},a);return delete c[i],c}for(let a=0;a<zD.length;a++)i=zD[a]+"Axis",s=n.axisDefaults||{},r=[].concat(n[i]),r=r.map(o),n[i]=r.length>1?r:r[0]})(e,t),function Ioe(n,e){const t=n.series,i=t.length,s=n.seriesDefaults,r=C({},n.seriesDefaults),o=e?C({},e.seriesDefaults):{},a=C({},o);wV(r),wV(a);for(let l=0;l<i;l++){const c=t[l].type||n.seriesDefaults.type,u=C({data:[]},a,o[c],{tooltip:n.tooltip},r,s[c]);t[l]._defaults=u,t[l]=C({},u,t[l]),t[l].data=t[l].data||[]}}(e,t)}applySeriesColors(){const e=this.options,t=e.series,i=e.seriesColors||[];for(let s=0;s<t.length;s++){const r=t[s],o=i[s%i.length],a=r._defaults;r.color=r.color||o,a&&(a.color=a.color||o)}}_getModel(){const e=this.options,t=this._createPlotArea(),i=new qte(this._modelOptions());return i.chart=this,i._plotArea=t,ML.buildTitle(e.title,i),e.legend&&e.legend.visible&&i.append(new Rre(t.options.legend,this.chartService)),i.append(t),i.reflow(),i}_modelOptions(){const e=this.options,t=this.getSize();return C({transitions:e.transitions,width:t.width||600,height:t.height||400},e.chartArea)}_createPlotArea(e){const t=this.options;return ho.current.create(e?[]:t.series,t,this.chartService)}_setupSelection(){const{_plotArea:{axes:e}}=this,t=this._selections=[];for(let i=0;i<e.length;i++){const s=e[i],r=s.options;if(s instanceof io&&r.select&&!r.vertical){const o=s.range(),a=new $B(this,s,C({min:o.min,max:o.max},r.select));t.push(a)}}}_selectStart(e){return this.trigger(VC,e)}_select(e){return this.trigger(lf,e)}_selectEnd(e){return this.trigger(HC,e)}_initHandlers(){this._clickHandler=this._click.bind(this),this._mousewheelHandler=this._mousewheel.bind(this),this._mouseleaveHandler=this._mouseleave.bind(this),this._surfaceMouseenterHandler=this._mouseover.bind(this),this._surfaceMouseleaveHandler=this._mouseout.bind(this),this._mousemove=dD(this._mousemove.bind(this),20)}addObserver(e){e&&this.observers.push(e)}removeObserver(e){const t=this.observers.indexOf(e);t>=0&&this.observers.splice(t,1)}requiresHandlers(e){const t=this.observers;for(let i=0;i<t.length;i++)if(t[i].requiresHandlers(e))return!0}trigger(e,t={}){e===f2&&(t.anchor.point=this._toDocumentCoordinates(t.anchor.point)),t.sender=this;const i=this.observers;let s=!1;for(let r=0;r<i.length;r++)i[r].trigger(e,t)&&(s=!0);return s}_attachEvents(){const e=this.element;this._touchAction=e.style.touchAction,Od(e,{[vV]:this._clickHandler,[Dy]:this._mousewheelHandler,[_V]:this._mouseleaveHandler}),this._shouldAttachMouseMove()&&Od(e,{[Dl]:this._mousemove}),this.domEvents=cC.create(this.element,{start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)}),this._toggleDragZoomEvents()}_mouseleave(e){this._hoveredPoint&&(this._hoveredPoint.out(this,e),this._hoveredPoint=null),this._plotArea.hovered&&(this.trigger(LC),this._plotArea.hovered=!1)}_cancelDomEvents(){this.domEvents&&this.domEvents.cancel&&this.domEvents.cancel()}_gesturestart(e){this._mousewheelZoom&&!this._stopChartHandlers(e)&&(this._gestureDistance=e.distance,this._unsetActivePoint(),this.surface.suspendTracking())}_gestureend(e){this._zooming&&!this._stopChartHandlers(e)&&(this.surface&&this.surface.resumeTracking(),this._zooming=!1,this.trigger(Cu,{}))}_gesturechange(e){const t=this._mousewheelZoom;if(t&&!this._stopChartHandlers(e)){e.preventDefault();let s=-e.distance/this._gestureDistance+1;if(Math.abs(s)>=.1){s=Math.round(10*s),this._gestureDistance=e.distance;const r={delta:s,axisRanges:yf(this._plotArea.axes),originalEvent:e};if(this._zooming||!this.trigger(af,r)){const o=this._eventCoordinates(e);this._zooming||(this._zooming=!0),(r.axisRanges=t.updateRanges(s,o))&&!this.trigger(wu,r)&&t.zoom()}}}}_mouseout(e){if(e.element){const t=this._drawingChartElement(e.element,e);t&&t.leave&&t.leave(this,e.originalEvent)}}_start(e){const t=this._eventCoordinates(e);this._stopChartHandlers(e)||!this._plotArea.backgroundContainsPoint(t)||(this.requiresHandlers([BC,sf,rf])&&this._startNavigation(e,t,BC),this._pannable&&this._pannable.start(e)&&(this.surface.suspendTracking(),this._unsetActivePoint(),this._suppressHover=!0,this.chartService.panning=!0),this._zoomSelection&&this._zoomSelection.start(e)&&this.trigger(af,{axisRanges:yf(this._plotArea.axes),originalEvent:e}))}_move(e){let{_navState:t,_pannable:i}=this;if(!this._stopChartHandlers(e)){if(i){const s=i.move(e);s&&!this.trigger(sf,{axisRanges:s,originalEvent:e})&&i.pan()}else if(t){const s={},r=t.axes;for(let o=0;o<r.length;o++){const a=r[o];if(a.options.name){const c=a.options.vertical?e.y:e.x,u=c.startLocation-c.location;0!==u&&(s[a.options.name]=a.translateRange(u))}}t.axisRanges=s,this.trigger(sf,{axisRanges:s,originalEvent:e})}this._zoomSelection&&this._zoomSelection.move(e)}}_end(e){if(this._stopChartHandlers(e))return;const t=this._pannable;if(t&&t.end(e)?(this.surface.resumeTracking(),this.trigger(rf,{axisRanges:yf(this._plotArea.axes),originalEvent:e}),this._suppressHover=!1,this.chartService.panning=!1):this._endNavigation(e,rf),this._zoomSelection){const i=this._zoomSelection.end(e);i&&!this.trigger(wu,{axisRanges:i,originalEvent:e})&&(this._zoomSelection.zoom(),this.trigger(Cu,{axisRanges:i,originalEvent:e}))}}_stopChartHandlers(e){const t=this._selections||[];if(!t.length)return!1;const i=this._eventCoordinates(e),s=this._plotArea.paneByPoint(i);if(s)for(let r=0;r<t.length;r++)if(t[r].onPane(s))return!0}_mousewheelZoomRate(){return ge(((this.options.zoomable||{}).mousewheel||{}).rate,.3)}_mousewheel(e){const t=Rw(e),i=this._mousewheelZoom,s=this._eventCoordinates(e);if(!this._stopChartHandlers(e)&&this._plotArea.backgroundContainsPoint(s))if(i){const r={delta:t,axisRanges:yf(this._plotArea.axes),originalEvent:e};(this._zooming||!this.trigger(af,r))&&(e.preventDefault(),this._zooming||(this._unsetActivePoint(),this.surface.suspendTracking(),this._zooming=!0),this._mwTimeout&&clearTimeout(this._mwTimeout),r.axisRanges=i.updateRanges(t,s),r.axisRanges&&!this.trigger(wu,r)&&i.zoom(),this._mwTimeout=setTimeout(()=>{this.trigger(Cu,r),this._zooming=!1,this.surface&&this.surface.resumeTracking()},150))}else{let r=this._navState;if(r||this._startNavigation(e,s,af)||(r=this._navState),r){const o=r.totalDelta||t;r.totalDelta=o+t;const a=this._navState.axes,l={};for(let c=0;c<a.length;c++){const u=a[c],h=u.options.name;h&&(l[h]=u.scaleRange(-o*this._mousewheelZoomRate(),s))}this.trigger(wu,{delta:t,axisRanges:l,originalEvent:e}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout(()=>{this._endNavigation(e,Cu)},150)}}}_startNavigation(e,t,i){const s=this._model._plotArea,r=s.findPointPane(t),o=s.axes.slice(0);if(!r)return;const a=yf(o);this.trigger(i,{axisRanges:a,originalEvent:e})?this._cancelDomEvents():(this._suppressHover=!0,this._unsetActivePoint(),this._navState={axisRanges:a,pane:r,axes:o})}_endNavigation(e,t){this._navState&&(this.trigger(t,{axisRanges:this._navState.axisRanges,originalEvent:e}),this._suppressHover=!1,this._navState=null)}_getChartElement(e,t){const i=this.surface.eventTarget(e);if(i)return this._drawingChartElement(i,e,t)}_drawingChartElement(e,t,i){let r,s=e;for(;s&&!r;)r=s.chartElement,s=s.parent;if(r)return r.aliasFor&&(r=r.aliasFor(t,this._eventCoordinates(t))),i&&(r=r.closest(i),r&&r.aliasFor&&(r=r.aliasFor())),r}_eventCoordinates(e){const t=Ree(e);return this._toModelCoordinates(t.x,t.y)}_elementPadding(){if(!this._padding){const{paddingLeft:e,paddingTop:t}=Dt(this.element,["paddingLeft","paddingTop"]);this._padding={top:t,left:e}}return this._padding}_toDocumentCoordinates(e){const t=this._elementPadding(),i=lu(this.element);return{left:H(e.x+t.left+i.left),top:H(e.y+t.top+i.top)}}_toModelCoordinates(e,t){const i=this.element,s=lu(i),r=this._elementPadding(),o=function Vee(n){if(!n)return km.unit();let e=UF(n),t=n.parentElement;for(;t;){const i=UF(t);e=e.multiplyCopy(i),t=t.parentElement}return e.b=e.c=e.e=e.f=0,e}(i).invert(),a=new L(e-s.left-r.left,t-s.top-r.top).transform(o);return new ue(a.x,a.y)}_tap(e){const t=this.surface.eventTarget(e),i=this._drawingChartElement(t,e),s=this._sharedTooltip();!this._startHover(t,e)&&!s&&this._unsetActivePoint(),s&&this._trackSharedTooltip(this._eventCoordinates(e),e,!0),this._propagateClick(i,e),this.handlingTap=!0,setTimeout(()=>{this.handlingTap=!1},0)}_click(e){const t=this._getChartElement(e);this._propagateClick(t,e)}_propagateClick(e,t){let i=e;for(;i;)i.click&&i.click(this,t),i=i.parent}_startHover(e,t){if(this._suppressHover)return!1;let i=this._drawingChartElement(e,t,function(a){return(a.hover||a.over)&&!(a instanceof aa)});const s=this._activePoint,r=this._plotArea.series.length>1,o=this._hasInactiveOpacity();return this._updateHoveredPoint(i,t),i&&s!==i&&i.hover?(this._activePoint=i,!this._sharedTooltip()&&!i.hover(this,t)&&(this._displayTooltip(i),o?this._displayInactiveOpacity(i,r):this._highlight.show(i))):!i&&o&&(r&&this._activeChartInstance&&(this._updateSeriesOpacity(i,!0),this._applySeriesOpacity(this._activeChartInstance.children,null,!0),this._activeChartInstance=null),this._highlight&&this._highlight.hide(),this._activePoint=null),i}_displayTooltip(e){C({},this.options.tooltip,e.options.tooltip).visible&&this._tooltip.show(e)}_displayInactiveOpacity(e,t,i){const s=this._activeChartInstance=this._chartInstanceFromPoint(e);if(s)if(t)this._updateSeriesOpacity(e),this._applySeriesOpacity(s.children,null,!0),this._applySeriesOpacity(s.children,e.series),this._highlight.show(i||e);else{let r;if(!s.supportsPointInactiveOpacity())return void this._highlight.show(e);r=this._getInactivePoints(e,s),r&&r.length&&this._highlight.show(r,1-this._getInactiveOpacityForSeries(e.series))}}_getInactivePoints(e,t){return this._getAllPointsOfType(t,e.constructor).filter(s=>s!==e)}_getAllPointsOfType(e,t){let i=[];for(let s=0;s<e.children.length;s++){const r=e.children[s];r.constructor===t?i.push(r):r.children&&r.children.length&&(i=i.concat(this._getAllPointsOfType(r,t)))}return i}_updateHoveredPoint(e,t){const i=this._hoveredPoint;i&&i!==e&&(i.out(this,t),this._hoveredPoint=null),e&&i!==e&&e.over&&(this._hoveredPoint=e,e.over(this,t))}_updateSeriesOpacity(e,t){const i=this._plotArea,s=i.series.length;for(let r=0;r<s;r++){const o=i.series[r],a=this._getDefaultOpacityForSeries(o),l=this._getInactiveOpacityForSeries(o);t||o===e.series?(o.opacity=a,o.line&&(o.line.opacity=a)):(o.defaultOpacity=a,o.opacity=l,o.line&&(o.line.opacity=l))}}_applySeriesOpacity(e,t,i,s){for(let r=0;r<e.length;r++){const o=e[r],a=o.series||s;if(a&&(a.highlight||{}).visible&&o.visual){const c=s?s.opacity:o.series.opacity;(a!==t||i)&&o.visual.opacity(i?1:c)}o.children&&o.children.length&&this._applySeriesOpacity(o.children,t,i,o.series)}}_chartInstanceFromPoint(e){let t=e.parent;for(;t&&!t.plotArea;)t=t.parent;return t}_hasInactiveOpacity(){let e=void 0!==this.options.seriesDefaults.highlight.inactiveOpacity,t=this.options.series.filter(i=>void 0!==i.highlight.inactiveOpacity).length>0;return e||t}_getInactiveOpacityForSeries(e){return e.highlight.inactiveOpacity||this.options.seriesDefaults.highlight.inactiveOpacity||e.opacity||1}_getDefaultOpacityForSeries(e){return e.defaultOpacity||e.opacity||1}_mouseover(e){const t=this._startHover(e.element,e.originalEvent);t&&t.tooltipTracking&&!this._mouseMoveTrackHandler&&!this._sharedTooltip()&&(this._mouseMoveTrackHandler=this._mouseMoveTracking.bind(this),Od(document,{[Dl]:this._mouseMoveTrackHandler}))}_mouseMoveTracking(e){const{options:t,_tooltip:i,_highlight:s,_activePoint:r}=this,o=this._eventCoordinates(e);if(this._plotArea.box.containsPoint(o)){if(r&&r.tooltipTracking&&r.series&&r.parent.getNearestPoint){const a=r.parent.getNearestPoint(o.x,o.y,r.seriesIx);a&&a!==r&&(this._activePoint=a,a.hover(this,e)||(C({},t.tooltip,a.options.tooltip).visible&&i.show(a),s.show(a)))}}else Nd(document,{[Dl]:this._mouseMoveTrackHandler}),this._unsetActivePoint(),this._mouseMoveTrackHandler=null}_mousemove(e){const t=this._eventCoordinates(e),i=this._plotArea;if(this._trackCrosshairs(t),i.hover){const s=i.backgroundContainsPoint(t);s?(i.hovered=!0,this._plotArea.hover(this,e)):i.hovered&&!s&&(this.trigger(LC),i.hovered=!1)}this._sharedTooltip()&&this._trackSharedTooltip(t,e)}_trackCrosshairs(e){const t=this._plotArea.crosshairs;for(let i=0;i<t.length;i++){const s=t[i];s.box.containsPoint(e)?s.showAt(e):s.hide()}}_trackSharedTooltip(e,t,i){if(this._suppressHover)return;const{options:{tooltip:s},_plotArea:r,_plotArea:{categoryAxis:o},_tooltip:a,_highlight:l}=this;if(r.backgroundContainsPoint(e)){const c=o.pointCategoryIndex(e);if(c!==this._tooltipCategoryIx||!this._sharedHighlight&&i){const u=r.pointsByCategoryIndex(c),h=u.map(function(f){return f.eventArgs(t)}),d=h[0]||{};d.categoryPoints=h,u.length>0&&!this.trigger(h2,d)?(s.visible&&a.showAt(u,e),l.show(u),this._sharedHighlight=!0):a.hide(),this._tooltipCategoryIx=c}else i&&this._sharedHighlight&&(l.hide(),a.hide(),this._sharedHighlight=!1)}else this._sharedHighlight&&(l.hide(),a.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1)}hideElements(e){const t=this._plotArea;this._mousemove.cancel(),t.hideCrosshairs(),this._unsetActivePoint(e)}_unsetActivePoint(e){const{_tooltip:t,_highlight:i}=this;this._activePoint=null,this._hoveredPoint=null,t&&!(e&&e.keepTooltipOpen)&&t.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1,i&&i.hide()}_deferRedraw(){this._redraw()}_clearRedrawTimeout(){this._redrawTimeout&&(clearInterval(this._redrawTimeout),this._redrawTimeout=null)}bindCategories(){const t=[].concat(this.options.categoryAxis);for(let i=0;i<t.length;i++){const s=t[i];!1!==s.autoBind&&this.bindCategoryAxisFromSeries(s,i)}}bindCategoryAxisFromSeries(e,t){const i=this.options.series,s=i.length,r=new CF;let l,o=[],a=!1;for(let c=0;c<s;c++){const u=i[c],h=u.categoryAxis===e.name||!u.categoryAxis&&0===t,d=u.data,f=d.length,p=u.categoryField&&h;if(a=p||a,p&&f>0){l=j2(e,fy(u.categoryField,d[0]));const g=l?U2:fy;for(let y=0;y<f;y++){const b=d[y],w=g(u.categoryField,b,this.chartService.intl);(l||!r.get(w))&&(o.push([w,b]),l||r.set(w,!0))}}}if(o.length>0){l&&(o=function Poe(n,e=ml){const t=function koe(n,e=ml){for(let t=1,i=n.length;t<i;t++)if(e(n[t],n[t-1])<0){n.sort(e);break}return n}(n,e),i=t.length,s=i>0?[t[0]]:[];for(let r=1;r<i;r++)0!==e(t[r],Nt(s))&&s.push(t[r]);return s}(o,function(u,h){return ml(u[0],h[0])}));const c=function Roe(n){const e=n.length,t=[];for(let i=0;i<e;i++){const s=n[i],r=s.length;for(let o=0;o<r;o++)t[o]=t[o]||[],t[o].push(s[o])}return t}(o);e.categories=c[0]}else a&&(e.categories=[])}_isBindable(e){const t=Ft.current.valueFields(e);let i=!0;for(let s=0;s<t.length;s++){let r=t[s];if(r===Si?r="field":r+="Field",!N(e[r])){i=!1;break}}return i}_noTransitionsRedraw(){const e=this.options;let t;!1!==e.transitions&&(e.transitions=!1,t=!0),this._redraw(),t&&(e.transitions=!0)}_legendItemHover(e,t){const{_plotArea:i,_highlight:s}=this,r=(i.srcSeries||i.series)[e];let o;o=Se(r.type,[ra,yy,vy])?i.findPoint(function(a){return a.series.index===e&&a.index===t}):i.pointsBySeriesIndex(e),this._hasInactiveOpacity()&&r.visible&&o?this._displayInactiveOpacity(o.length?o[0]:o,i.series.length>1,o):s.show(o)}_shouldAttachMouseMove(){return this._plotArea.crosshairs.length||this._tooltip&&this._sharedTooltip()||this.requiresHandlers([d2,LC])}updateMouseMoveHandler(){Nd(this.element,{[Dl]:this._mousemove}),this._shouldAttachMouseMove()&&Od(this.element,{[Dl]:this._mousemove})}applyOptions(e,t){UD(this._originalOptions,e),this._originalOptions=C(this._originalOptions,e),this.options=C({},this._originalOptions),t&&(this._theme=t,this.chartService.theme=t),this._initTheme(this.options,this._theme),this._toggleDragZoomEvents()}setOptions(e,t){this.applyOptions(e,t),this.bindCategories(),this.redraw(),this.updateMouseMoveHandler()}setDirection(e){this.chartService.rtl=Boolean(e),this.surface&&"svg"===this.surface.type&&this._destroySurface()}setIntlService(e){this.chartService.intl=e}noTransitionsRedraw(){this._noTransitionsRedraw()}destroy(){this._destroyed=!0,Nd(this.element,{[vV]:this._clickHandler,[Dy]:this._mousewheelHandler,[Dl]:this._mousemove,[_V]:this._mouseleaveHandler}),this.domEvents&&(this.domEvents.destroy(),delete this.domEvents),this._mouseMoveTrackHandler&&Nd(document,{[Dl]:this._mouseMoveTrackHandler}),this._destroyView(),this._destroySurface(),this._clearRedrawTimeout()}_destroySurface(){const e=this.surface;e&&(e.unbind("mouseenter",this._surfaceMouseenterHandler),e.unbind("mouseleave",this._surfaceMouseleaveHandler),e.destroy(),this.surface=null)}_destroySelections(){const e=this._selections;if(e)for(;e.length>0;)e.shift().destroy()}_destroyView(){const e=this._model;e&&(e.destroy(),this._model=null),this._unsetActivePoint(),this._destroySelections(),this._tooltip&&this._tooltip.destroy(),this._highlight&&this._highlight.destroy(),this._zoomSelection&&(this._zoomSelection.destroy(),delete this._zoomSelection),this._pannable&&(this._pannable.destroy(),delete this._pannable),this._mousewheelZoom&&(this._mousewheelZoom.destroy(),delete this._mousewheelZoom)}}function xV(n,e){if(n)for(let t=0;t<n.length;t++)if(n[t].category===e)return[n[t]]}function wV(n){delete n.bar,delete n.column,delete n.rangeColumn,delete n.line,delete n.verticalLine,delete n.pie,delete n.donut,delete n.area,delete n.verticalArea,delete n.scatter,delete n.scatterLine,delete n.bubble,delete n.candlestick,delete n.ohlc,delete n.boxPlot,delete n.bullet,delete n.verticalBullet,delete n.polarArea,delete n.polarLine,delete n.radarArea,delete n.radarLine,delete n.waterfall}function yf(n){const e={};for(let t=0;t<n.length;t++){const i=n[t],s=i.options.name;s&&(e[s]=i.range())}return e}const Ooe=["data","categories"];function UD(n,e){for(let t in e)if(!Se(t,Ooe)&&e.hasOwnProperty(t)){const i=e[t],s=n[t];if(N(s)){const r=null===i;r||!N(i)?(delete n[t],r&&delete e[t]):s&&Ps(i)&&Ps(s)&&UD(s,i)}}}function CV(n){for(let e=0;e<n.length;e++)n[e].notifyRender()}B(bV,{renderAs:"",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},seriesDefaults:{type:oo,data:[],highlight:{visible:!0},labels:{},negativeValues:{visible:!1}},series:[],seriesColors:null,tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}],pannable:!1,zoomable:!1});const jD=bV,Loe=class Foe extends qB{_slotAnchor(e,t){const s=this.plotArea.categoryAxis.options.vertical,r=s?{horizontal:"left",vertical:"center"}:{horizontal:"center",vertical:"bottom"};let o;return o=s?new ue(this.plotArea.box.x2,t.center().y):new ue(t.center().x,-2),{point:o,align:r}}_defaultAnchor(e,t){return this._slotAnchor({},t)}},DV=[Vs,sa];function SV(n){const e=[];for(let t=0;t<n.length;t++){const i=n[t];e[t]=i.style.display,i.style.display="none"}return e}function TV(n,e){for(let t=0;t<n.length;t++)n[t].style.display=e[t]}function MV(n){return we(n)?[n]:n}B(class EV extends jD{_setElementClass(e){Jn(e,"k-sparkline")}_initElement(e){super._initElement(e),this._initialWidth=Math.floor(Xr(e).width)}_resize(){const e=this.element,t=SV(e.childNodes);this._initialWidth=Math.floor(Xr(e).width),TV(e.childNodes,t),super._resize()}_modelOptions(){const e=this.options,t=this._surfaceWrap(),i=SV(t.childNodes),s=document.createElement("span");s.innerHTML="&nbsp;",t.appendChild(s);const r=C({width:this._autoWidth,height:Xr(t).height,transitions:e.transitions},e.chartArea,{inline:!0,align:!1});return Xr(t,{width:r.width,height:r.height}),t.removeChild(s),TV(t.childNodes,i),this.surface&&this.surface.resize(),r}_surfaceWrap(){if(!this.stage){const e=this.stage=document.createElement("span");this.element.appendChild(e)}return this.stage}_createPlotArea(e){const t=super._createPlotArea(e);return this._autoWidth=this._initialWidth||this._calculateWidth(t),t}_calculateWidth(e){const t=this.options,i=at(t.chartArea.margin),s=e.charts,r=this._surfaceWrap();let o=0;for(let l=0;l<s.length;l++){const c=s[l],u=(c.options.series||[])[0];if(!u)continue;if(u.type===Vs)return 150;if(u.type===sa)return 150;if(u.type===ra)return Xr(r).height;const h=c.categoryAxis;if(h){const d=h.categoriesCount()*(!c.options.isStacked&&Se(u.type,[oo,tf])?c.seriesOptions.length:1);o=Math.max(o,d)}}let a=o*t.pointWidth;return a>0&&(a+=i.left+i.right),a}_createSharedTooltip(e){return new Loe(this._plotArea,e)}static normalizeOptions(e){let t=MV(e);return t=_n(t)?{seriesDefaults:{data:t}}:C({},t),t.series||(t.series=[{data:MV(t.data)}]),C(t,{seriesDefaults:{type:t.type}}),(Se(t.series[0].type,DV)||Se(t.seriesDefaults.type,DV))&&(t=C({},{categoryAxis:{crosshair:{visible:!1}}},t)),t}},{chartArea:{margin:2},axisDefaults:{visible:!1,majorGridLines:{visible:!1},valueAxis:{narrowRange:!0}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:!0},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:!1},border:{width:0},markers:{size:2,visible:!1}},tooltip:{visible:!0,shared:!0},categoryAxis:{crosshair:{visible:!0,tooltip:{visible:!1}}},legend:{visible:!1},transitions:!1,pointWidth:5,panes:[{clip:!1}]});const zoe=class Hoe extends Ii{setup(){this._initialOpacity=parseFloat(Dt(this.element,"opacity").opacity)}step(e){Dt(this.element,{opacity:String(Ji(this._initialOpacity,0,e))})}abort(){super.abort(),Dt(this.element,{display:"none",opacity:String(this._initialOpacity)})}cancel(){super.abort(),Dt(this.element,{opacity:String(this._initialOpacity)})}};function $D(n,e){const t=document.createElement("div");return t.className=n,e&&(t.style.cssText=e),t}class AV extends Y{constructor(e,t,i){super(),this.options=C({},this.options,i),this.container=e,this.chartService=t;const s=Dt(e,["paddingLeft","paddingTop"]);this.chartPadding={top:s.paddingTop,left:s.paddingLeft},this.createElements(),e.appendChild(this.element)}createElements(){const e=this.element=$D("k-navigator-hint","display: none; position: absolute; top: 1px; left: 1px;"),t=this.tooltip=$D("k-tooltip k-chart-tooltip"),i=this.scroll=$D("k-scroll");t.innerHTML="&nbsp;",e.appendChild(t),e.appendChild(i)}show(e,t,i){const{element:s,options:r,scroll:o,tooltip:a}=this,l=lt(ct(e)+ct(t-e)/2),c=.4*i.width(),u=i.center().x-c,p=(i.center().x-u)/(r.max-r.min),g=l-r.min;let y=this.chartService.intl.format(r.format,e,t);const b=bn(r);this.clearHideTimeout(),this._visible||(Dt(s,{visibility:"hidden",display:"block"}),this._visible=!0),b&&(y=b({from:e,to:t})),a.innerHTML=y,Dt(a,{left:i.center().x-a.offsetWidth/2,top:i.y1});const w=Dt(a,["marginTop","borderTopWidth","height"]);Dt(o,{width:c,left:u+g*p,top:i.y1+w.marginTop+w.borderTopWidth+w.height/2}),Dt(s,{visibility:"visible"})}clearHideTimeout(){this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideAnimation&&this._hideAnimation.cancel()}hide(){this.clearHideTimeout(),this._hideTimeout=setTimeout(()=>{this._visible=!1,this._hideAnimation=new zoe(this.element),this._hideAnimation.setup(),this._hideAnimation.play()},this.options.hideDelay)}destroy(){this.clearHideTimeout(),this.container&&this.container.removeChild(this.element),delete this.container,delete this.chartService,delete this.element,delete this.tooltip,delete this.scroll}}B(AV,{format:"{0:d} - {1:d}",hideDelay:500});const Uoe=AV,ha="_navigator",go=ha;class Uy extends Y{constructor(e){super(),this.chart=e;const t=this.options=C({},this.options,e.options.navigator),i=t.select;i&&(i.from=this.parseDate(i.from),i.to=this.parseDate(i.to)),N(t.hint.visible)||(t.hint.visible=t.visible),this.chartObserver=new Pw(this,{[sf]:"_drag",[rf]:"_dragEnd",[wu]:"_zoom",[Cu]:"_zoomEnd"}),e.addObserver(this.chartObserver)}parseDate(e){return En(this.chart.chartService.intl,e)}clean(){this.selection&&(this.selection.destroy(),this.selection=null),this.hint&&(this.hint.destroy(),this.hint=null)}destroy(){this.chart&&(this.chart.removeObserver(this.chartObserver),delete this.chart),this.clean()}redraw(){this._redrawSelf(),this.initSelection()}initSelection(){const{chart:e,options:t}=this,i=this.mainAxis(),{min:s,max:r}=i.roundedRange(),{from:o,to:a,mousewheel:l}=t.select,c=function Goe(n){return IV.prototype=n,new IV}(i);0!==i.categoriesCount()&&(this.clean(),c.box=i.box,this.selection=new $B(e,c,{min:s,max:r,from:o||s,to:a||r,mousewheel:ge(l,{zoom:"left"}),visible:t.visible},new Pw(this,{selectStart:"_selectStart",select:"_select",selectEnd:"_selectEnd"})),t.hint.visible&&(this.hint=new Uoe(e.element,e.chartService,{min:s,max:r,template:bn(t.hint),format:t.hint.format})))}setRange(){const t=this.chart._createPlotArea(!0).namedCategoryAxes[go],{min:i,max:s}=t.roundedRange(),r=this.options.select||{};let o=r.from||i;o<i&&(o=i);let a=r.to||s;a>s&&(a=s),this.options.select=C({},r,{from:o,to:a}),this.filterAxes()}_redrawSelf(e){const t=this.chart._plotArea;t&&t.redraw(Nt(t.panes),e)}redrawSlaves(){const e=this.chart,t=e._plotArea,i=t.panes.slice(0,-1);t.srcSeries=e.options.series,t.options.categoryAxis=e.options.categoryAxis,t.clearSeriesPointsCache(),t.redraw(i)}_drag(e){const{chart:t,selection:i}=this,s=t._eventCoordinates(e.originalEvent),r=this.mainAxis(),o=r.roundedRange(),a=r.pane.box.containsPoint(s),c=e.axisRanges[t._plotArea.categoryAxis.options.name],u=this.options.select;let h;if(!c||a||!i)return;h=u.from&&u.to?ct(u.to)-ct(u.from):ct(i.options.to)-ct(i.options.from);const d=lt(ie(ct(c.min),o.min,ct(o.max)-h)),f=lt(ie(ct(d)+h,ct(o.min)+h,o.max));this.options.select={from:d,to:f},this.options.liveDrag&&(this.filterAxes(),this.redrawSlaves()),i.set(d,f),this.showHint(d,f)}_dragEnd(){this.filterAxes(),this.filter(),this.redrawSlaves(),this.hint&&this.hint.hide()}readSelection(){const{selection:{options:{from:e,to:t}},options:{select:i}}=this;i.from=e,i.to=t}filterAxes(){const{options:{select:e={}},chart:t}=this,i=t.options.categoryAxis,{from:s,to:r}=e;for(let o=0;o<i.length;o++){const a=i[o];a.pane!==ha&&(a.min=s,a.max=r)}}filter(){const{chart:e,options:{select:t}}=this;if(!e.requiresHandlers(["navigatorFilter"]))return;const i=this.mainAxis(),s={from:t.from,to:t.to};if("category"!==i.options.type){const r=new Wd(C({baseUnit:"fit"},e.options.categoryAxis[0],{categories:[t.from,t.to]}),e.chartService).options;s.from=ei(r.min,-r.baseUnitStep,r.baseUnit),s.to=ei(r.max,r.baseUnitStep,r.baseUnit)}this.chart.trigger("navigatorFilter",s)}_zoom(e){const{chart:{_plotArea:{categoryAxis:t}},selection:i,options:{select:s,liveDrag:r}}=this,o=this.mainAxis();let a=e.delta;if(!i)return;const l=o.categoryIndex(i.options.from),c=o.categoryIndex(i.options.to),u=this.chart._eventCoordinates(e.originalEvent);e.originalEvent.preventDefault(),Math.abs(a)>1&&(a*=3),c-l>1?(i.zoom(a,u),this.readSelection()):(t.options.min=s.from,s.from=t.scaleRange(-e.delta*this.chart._mousewheelZoomRate(),u).min),r&&(this.filterAxes(),this.redrawSlaves()),i.set(s.from,s.to),this.showHint(this.options.select.from,this.options.select.to)}_zoomEnd(e){this._dragEnd(e)}showHint(e,t){this.hint&&this.hint.show(e,t,this.chart._plotArea.backgroundBox())}_selectStart(e){return this.chart._selectStart(e)}_select(e){return this.showHint(e.from,e.to),this.chart._select(e)}_selectEnd(e){return this.hint&&this.hint.hide(),this.readSelection(),this.filterAxes(),this.filter(),this.redrawSlaves(),this.chart._selectEnd(e)}mainAxis(){const e=this.chart._plotArea;if(e)return e.namedCategoryAxes[go]}select(e,t){const i=this.options.select;return e&&t&&(i.from=this.parseDate(e),i.to=this.parseDate(t),this.filterAxes(),this.filter(),this.redrawSlaves(),this.selection.set(e,t)),{from:i.from,to:i.to}}static setup(e={},t={}){if(e.__navi)return;e.__navi=!0;const i=C({},t.navigator,e.navigator),s=e.panes=[].concat(e.panes),r=C({},i.pane,{name:ha});i.visible||(r.visible=!1,r.height=.1),s.push(r),Uy.attachAxes(e,i),Uy.attachSeries(e,i,t)}static attachAxes(e,t){const i=t.series||[],s=e.categoryAxis=[].concat(e.categoryAxis),r=e.valueAxis=[].concat(e.valueAxis),a=0===Lt(i,u2).length,l=C({type:"date",pane:ha,roundToBaseUnit:!a,justified:a,_collapse:!1,majorTicks:{visible:!0},tooltip:{visible:!1},labels:{step:1},autoBind:t.autoBindElements,autoBaseUnitSteps:{minutes:[1],hours:[1,2],days:[1,2],weeks:[],months:[1],years:[1]}}),c=t.categoryAxis;s.push(C({},l,{maxDateGroups:200},c,{name:go,title:null,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:!1},majorTicks:{visible:!1}}),C({},l,c,{name:go+"_labels",maxDateGroups:20,baseUnitStep:"auto",labels:{position:""},plotBands:[],autoBaseUnitSteps:{minutes:[]},_overlap:!0}),C({},l,c,{name:go+"_ticks",maxDateGroups:200,majorTicks:{width:.5},plotBands:[],title:null,labels:{visible:!1,mirror:!0},_overlap:!0})),r.push(C({name:go,pane:ha,majorGridLines:{visible:!1},visible:!1},t.valueAxis))}static attachSeries(e,t,i){const s=e.series=e.series||[],r=[].concat(t.series||[]),o=i.seriesColors,a=t.seriesDefaults;for(let l=0;l<r.length;l++)s.push(C({color:o[l%o.length],categoryField:t.dateField,visibleInLegend:!1,tooltip:{visible:!1}},a,r[l],{axis:go,categoryAxis:go,autoBind:t.autoBindElements}))}}function IV(){}const kV=Uy;B(class PV extends jD{applyDefaults(e,t){const i=Xr(this.element).width||600;let s=t;const r={seriesDefaults:{categoryField:e.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:!1},labels:{step:2},majorTicks:{visible:!1},maxDateGroups:Math.floor(i/28)}}};s&&(s=C({},s,r)),kV.setup(e,s),super.applyDefaults(e,s)}_setElementClass(e){Jn(e,"k-chart k-stockchart")}setOptions(e){this.destroyNavigator(),super.setOptions(e)}noTransitionsRedraw(){const e=this.options.transitions;this.options.transitions=!1,this._fullRedraw(),this.options.transitions=e}_resize(){this.noTransitionsRedraw()}_redraw(){const e=this.navigator;!this._dirty()&&e&&e.options.partialRedraw?e.redrawSlaves():this._fullRedraw()}_dirty(){const e=this.options,i=Ti([].concat(e.series,e.navigator.series),function(r){return r&&r.visible}).length,s=this._seriesCount!==i;return this._seriesCount=i,s}_fullRedraw(){let e=this.navigator;e||(e=this.navigator=new kV(this),this.trigger("navigatorCreated",{navigator:e})),e.clean(),e.setRange(),super._redraw(),e.initSelection()}_trackSharedTooltip(e){const i=this._plotArea.paneByPoint(e);i&&i.options.name===ha?this._unsetActivePoint():super._trackSharedTooltip(e)}bindCategories(){super.bindCategories(),this.copyNavigatorCategories()}copyNavigatorCategories(){const e=[].concat(this.options.categoryAxis);let t;for(let i=0;i<e.length;i++){const s=e[i];s.name===go?t=s.categories:t&&s.pane===ha&&(s.categories=t)}}destroyNavigator(){this.navigator&&(this.navigator.destroy(),this.navigator=null)}destroy(){this.destroyNavigator(),super.destroy()}_stopChartHandlers(e){const t=this._eventCoordinates(e),i=this._plotArea.paneByPoint(t);return super._stopChartHandlers(e)||i&&i.options.name===ha}_toggleDragZoomEvents(){this._dragZoomEnabled||(this.element.style.touchAction="none",this._dragZoomEnabled=!0)}},{dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:!0},valueAxis:{narrowRange:!0,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:!1},tooltip:{visible:!0},line:{width:2}},hint:{},visible:!0},tooltip:{visible:!0},legend:{visible:!1}});class Koe extends(uu(Vd(qm(dr)))){get nodeType(){return"Arc"}constructor(e=new ea,t={}){super(t),this.geometry(e),oe(this.options.stroke)||this.stroke("#000")}_bbox(e){return this._geometry.bbox(e)}rawBBox(){return this.geometry().bbox()}toPath(){const e=new ae,t=this.geometry().curvePoints();if(t.length>0){e.moveTo(t[0].x,t[0].y);for(let i=1;i<t.length;i+=3)e.curveTo(t[i],t[i+1],t[i+2])}return e}_containsPoint(e){return this.geometry().containsPoint(e)}_isOnPath(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)}}const Yoe=Koe;class Zoe extends(qm(dr,["rect"])){get nodeType(){return"Image"}constructor(e,t=new Be,i={}){super(i),this.src(e),this.rect(t)}src(e){return oe(e)?(this.options.set("src",e),this):this.options.get("src")}bbox(e){const t=ul(this.currentTransform(e));return this._rect.bbox(t)}rawBBox(){return this._rect.bbox()}_containsPoint(e){return this._rect.containsPoint(e)}_hasFill(){return this.src()}}const RV=Zoe;class Xoe extends(uu(Vd(qm(dr)))){get nodeType(){return"Rect"}constructor(e=new Be,t={}){super(t),this.geometry(e),oe(this.options.stroke)||this.stroke("#000")}_bbox(e){return this._geometry.bbox(e)}rawBBox(){return this._geometry.bbox()}_containsPoint(e){return this._geometry.containsPoint(e)}_isOnPath(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)}}const Qoe=Xoe;function OV(n,e,t,i,s){for(let r=0;r<n.length;r++){const o=n[r].clippedBBox();if(o){const a=o.origin.clone();a[i]=mf(o.size[s],e,t||"start",i,s),By(a,o,n[r])}}}function Joe(n,e,t){OV(n,e,t,"x","width")}function eae(n,e,t){OV(n,e,t,"y","height")}function WD(n,e,t,i){if(n.length>1){const s=new L;let r=n[0].bbox;for(let o=1;o<n.length;o++){let a=n[o].element,l=n[o].bbox;s[e]=r.origin[e]+r.size[i],s[t]=l.origin[t],By(s,l,a),l.origin[e]=s[e],r=l}}}function NV(n){const e=[];for(let t=0;t<n.length;t++){let i=n[t],s=i.clippedBBox();s&&e.push({element:i,bbox:s})}return e}function tae(n){WD(NV(n),"x","y","width")}function nae(n){WD(NV(n),"y","x","height")}function FV(n,e,t,i,s){const r=function iae(n,e,t){const i=e.size[t],s=[];let a,l,r=[],o=0;const c=function(){r.push({element:a,bbox:l})};for(let u=0;u<n.length;u++)if(a=n[u],l=a.clippedBBox(),l){let h=l.size[t];o+h>i?r.length?(s.push(r),r=[],c(),o=h):(c(),s.push(r),r=[],o=0):(c(),o+=h)}return r.length&&s.push(r),s}(n,e,s),o=e.origin.clone(),a=[];for(let l=0;l<r.length;l++){let c=r[l],u=c[0];o[i]=u.bbox.origin[i],By(o,u.bbox,u.element),u.bbox.origin[t]=o[t],WD(c,t,i,s),a.push([]);for(let h=0;h<c.length;h++)a[l].push(c[h].element)}return a}function sae(n,e){return FV(n,e,"x","y","width")}function rae(n,e){return FV(n,e,"y","x","height")}function oae(n,e){const t=n.clippedBBox();if(t){const i=t.size,s=e.size;if(s.width<i.width||s.height<i.height){const r=Math.min(s.width/i.width,s.height/i.height),o=n.transform()||Xe();o.scale(r,r),n.transform(o)}}}let qD;class KD extends Y{static get current(){return qD||(qD=new KD),qD}parse(e,t){const i=new fr(t);return Xw(i,e)}}const aae=KD;function LV(n){const e=new pD({skipBaseHref:!0}),t=n.clippedBBox();let i=n;if(t){const r=t.getOrigin(),o=new pt;o.transform(Xe().translate(-r.x,-r.y)),o.children.push(n),i=o}e.load([i]);const s=`<?xml version='1.0' ?><svg xmlns='${pf}' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>${e.render()}</svg>`;return e.destroy(),s}function BV(n,e){const t={width:"800px",height:"600px",cors:"Anonymous"};let i=n;const s=n.clippedBBox();if(s){const h=s.getOrigin();i=new pt,i.transform(Xe().translate(-h.x,-h.y)),i.children.push(n);const d=s.getSize();t.width=d.width+"px",t.height=d.height+"px"}const r=Object.assign(t,e),o=document.createElement("div"),a=o.style;a.display="none",a.width=r.width,a.height=r.height,document.body.appendChild(o);const l=new wD(o,r);l.suspendTracking(),l.draw(i);const c=l.image(),u=()=>{l.destroy(),document.body.removeChild(o)};return c.then(u,u),c}function VV(n,e){let t=LV(n);return(!e||!e.raw)&&(t="data:image/svg+xml;base64,"+MF(t)),kd().resolve(t)}const zV="arrowPointer",_f="barPointer",GV=Math.PI/180,da="inside",jy="linear",YD="outside",$V="radialPointer",WV="radialRangePointer";function qV(n,e){const t=n.getOrigin(),i=n.getSize(),s=at(e);return n.setOrigin([t.x-s.left,t.y-s.top]),n.setSize([i.width+(s.left+s.right),i.height+(s.top+s.bottom)]),n}const{Group:cae,Path:KV,Text:uae}=Tt;function YV(n,e){const t=n.box,i=n.children[0].box,s=e.border||{},r=e.background||"",o=KV.fromRect(new Be([t.x1,t.y1],[t.width(),t.height()]),{stroke:{}}),a=new uae(n.text,new L(i.x1,i.y1),{font:e.font,fill:{color:e.color}}),l=qV(a.bbox().clone(),e.padding),c=KV.fromRect(l,{stroke:{color:s.width?s.color:"",width:s.width,opacity:s.opacity,dashType:s.dashType,lineJoin:"round",lineCap:"round"},fill:{color:r}}),u=new cae;return u.append(o),u.append(c),u.append(a),u}function ZV(n,e,t){const i=N(n.from)?n.from:Kt,s=N(n.to)?n.to:Ot;return n.from=Math.max(Math.min(s,i),e),n.to=Math.min(Math.max(s,i),t),n}function XV(n,e){const t=at(e);return t.left=-t.left,t.top=-t.top,t.right=-t.right,t.bottom=-t.bottom,qV(n,t)}const{Path:dae,Surface:fae}=Tt;class QV extends Y{constructor(e,t,i,s={}){super(),this.element=e,this.theme=i,this.contextService=new aC(this,s),this._originalOptions=C({},this.options,t),this.options=C({},this._originalOptions),this._initTheme(i),this.redraw()}destroy(){this.surface&&(this.surface.destroy(),this.surface=null),delete this.element,delete this.surfaceElement}value(e){const t=this.pointers[0];if(0===arguments.length)return t.value();t.value(e),this._setValueOptions(e)}_draw(){const e=this.surface;e.clear(),e.draw(this._visuals)}exportVisual(){return this._visuals}allValues(e){const t=this.pointers,i=[];if(0===arguments.length){for(let s=0;s<t.length;s++)i.push(t[s].value());return i}if(_n(e))for(let s=0;s<e.length;s++)we(e[s])&&t[s].value(e[s]);this._setValueOptions(e)}_setValueOptions(e){const t=[].concat(this.options.pointer),i=[].concat(e);for(let s=0;s<i.length;s++)t[s].value=i[s]}resize(){this.noTransitionsRedraw()}noTransitionsRedraw(){const e=this.options.transitions;this._toggleTransitions(!1),this.redraw(),this._toggleTransitions(e)}redraw(){const e=this._surfaceSize(),t=new Be([0,0],[e.width,e.height]);this._initSurface(),this.gaugeArea=this._createGaugeArea(),this._createModel();const i=XV(t.bbox(),this._gaugeAreaMargin);this.reflow(i)}setOptions(e,t){this._originalOptions=C(this._originalOptions,e),this.options=C({},this._originalOptions),this._initTheme(t),this.redraw()}setDirection(e){this.contextService.rtl=Boolean(e),this.surface&&"svg"===this.surface.type&&(this.surface.destroy(),this.surface=null)}setIntlService(e){this.contextService.intl=e}_initTheme(e){let t=e||this.theme||{};this.theme=t,this.options=C({},t,this.options);const i=this.options,s=i.pointer;if(_n(s)){const r=[];for(let o=0;o<s.length;o++)r.push(C({},t.pointer,s[o]));i.pointer=r}}_createGaugeArea(){const e=this.options.gaugeArea,t=this.surface.size(),i=e.border||{};let s=new Be([0,0],[t.width,t.height]);return this._gaugeAreaMargin=e.margin||5,i.width>0&&(s=XV(s,i.width)),dae.fromRect(s,{stroke:{color:i.width?i.color:"",width:i.width,dashType:i.dashType,lineJoin:"round",lineCap:"round"},fill:{color:e.background}})}_initSurface(){const{options:e,surface:t}=this,i=this._surfaceElement(),s=this._surfaceSize();Xr(i,s),t&&t.options.type===e.renderAs?(this.surface.clear(),this.surface.resize()):(t&&t.destroy(),this.surface=fae.create(i,{type:e.renderAs}))}_surfaceSize(){const e=this.options,t=this._getSize();return e.gaugeArea&&C(t,e.gaugeArea),t}_surfaceElement(){return this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.element.appendChild(this.surfaceElement)),this.surfaceElement}getSize(){return this._getSize()}_getSize(){const e=this.element,t=this._defaultSize();let i=e.offsetWidth,s=e.offsetHeight;return i||(i=t.width),s||(s=t.height),{width:i,height:s}}_defaultSize(){return{width:200,height:200}}_toggleTransitions(e){this.options.transitions=e;for(let t=0;t<this.pointers.length;t++)this.pointers[t].options.animation.transitions=e}}B(QV,{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}});const JV=QV,{Path:ZD,Group:bf}=Tt,Gy=L;function pae(n,e){const{position:t,tickX:i,tickY:s}=n;let r,o;return n.vertical?(r=new Gy(i,t),o=new Gy(i+e.size,t)):(r=new Gy(t,s),o=new Gy(t,s+e.size)),new ZD({stroke:{color:e.color,width:e.width}}).moveTo(r).lineTo(o)}function eH(n,e,t,i){const s=e.length;if(i.visible){const{mirror:r,lineBox:o}=t;for(let a=i.skip;a<s;a+=i.step)a%i.skipUnit!=0&&(t.tickX=r?o.x2:o.x2-i.size,t.tickY=r?o.y1-i.size:o.y1,t.position=e[a],n.append(pae(t,i)))}}class tH extends ns{constructor(e,t){let i=e||{};!N(i.reverse)&&!1===i.vertical&&(t||{}).rtl&&(i=Object.assign({},i,{reverse:!0})),super(0,1,i,t),this.options.minorUnit=this.options.minorUnit||this.options.majorUnit/10}initUserOptions(e){let t=C({},this.options,e);return t=C({},t,{labels:{mirror:t.mirror}}),t.majorUnit=t.majorUnit||Ld(t.min,t.max),t}initFields(){}render(){const e=this.elements=new bf,t=this.renderLabels(),i=this.renderLine(),s=this.renderTicks(),r=this.renderRanges();return e.append(i,t,s,r),e}renderRanges(){const e=this.options,{min:t,max:i,vertical:s,labels:{mirror:r}}=e,o=e.ranges||[],a=new bf,l=o.length,c=e.rangeSize||e.minorTicks.size/2;for(let u=0;u<l;u++){const h=ZV(o[u],t,i),d=this.getSlot(h.from,h.to),f=s?this.lineBox():d,p=s?d:this.lineBox();s?f.x1-=c*(r?-1:1):p.y2+=c*(r?-1:1),a.append(ZD.fromRect(new Be([f.x1,p.y1],[f.x2-f.x1,p.y2-p.y1]),{fill:{color:h.color,opacity:h.opacity},stroke:{}}))}return a}renderLabels(){const{labels:e,options:t}=this,i=new bf;for(let s=0;s<e.length;s++)i.append(YV(e[s],t.labels));return i}renderLine(){const e=this.options.line,t=this.lineBox(),i=new bf;if(e.width>0&&e.visible){const s=new ZD({stroke:{color:e.color,dashType:e.dashType,width:e.width}});s.moveTo(t.x1,t.y1).lineTo(t.x2,t.y2),i.append(s)}return i}renderTicks(){const e=new bf,t=this.options,i=t.majorTicks.visible?t.majorUnit:0,s={vertical:t.vertical,mirror:t.labels.mirror,lineBox:this.lineBox()};return eH(e,this.getMajorTickPositions(),s,t.majorTicks),eH(e,this.getMinorTickPositions(),s,C({},{skipUnit:i/t.minorUnit},t.minorTicks)),e}}B(tH,{min:0,max:50,majorTicks:{size:15,align:da,color:Rt,width:.5,visible:!0},minorTicks:{size:10,align:da,color:Rt,width:.5,visible:!0},line:{width:.5},labels:{position:da,padding:2},mirror:!1,_alignLines:!1});const gae=tH;class nH extends Y{constructor(e,t){super();const{min:i,max:s}=e.options,r=this.options=C({},this.options,t);r.fill=r.color,this.scale=e,r.value=N(r.value)?ie(r.value,i,s):i}value(e){const t=this.options;if(0===arguments.length)return t.value;const{min:s,max:r}=this.scale.options;t._oldValue=N(t._oldValue)?t.value:s,t.value=ie(e,s,r),this.elements&&this.repaint()}}B(nH,{color:Rt});const XD=nH;class iH extends XD{constructor(e,t){super(e,t),this.options=C({track:{visible:N(t.track)}},this.options)}reflow(){const{options:e,scale:t}=this,{mirror:i,vertical:s}=t.options,r=t.lineBox(),o=e.track.size||e.size,a=e.size/2,l=at(e.margin);let u,h,d,c=s?l[i?"left":"right"]:l[i?"bottom":"top"];c=i?-c:c,s?(d=new z(r.x1+c,r.y1,r.x1+c,r.y2),i?d.x1-=o:d.x2+=o,e.shape!==_f&&(h=new z(r.x2+c,r.y1-a,r.x2+c,r.y2+a),u=h)):(d=new z(r.x1,r.y1-c,r.x2,r.y1-c),i?d.y2+=o:d.y1-=o,e.shape!==_f&&(h=new z(r.x1-a,r.y1-c,r.x2+a,r.y1-c),u=h)),this.trackBox=d,this.pointerRangeBox=h,this.box=u||d.clone().pad(e.border.width)}getElementOptions(){const e=this.options;return{fill:{color:e.color,opacity:e.opacity},stroke:N(e.border)?{color:e.border.width?e.border.color||e.color:"",width:e.border.width,dashType:e.border.dashType,opacity:e.opacity}:null}}_margin(){const{scale:e,options:t}=this,{mirror:i,vertical:s}=e.options,r=at(t.margin);return s?r[i?"left":"right"]:r[i?"bottom":"top"]}}B(iH,{shape:_f,track:{border:{width:1}},color:Rt,border:{width:1},opacity:1,margin:at(3),animation:{type:_f},visible:!0});const sH=iH;class QD extends Ii{setup(){const e=this.options,{margin:t,from:i,to:s,vertical:r}=e,o=r?"x1":"y1";e.mirror===r?(i[o]-=t,s[o]-=t):(i[o]+=t,s[o]+=t);const a=this.fromScale=new L(i.x1,i.y1),l=this.toScale=new L(s.x1,s.y1);0!==e.duration&&(e.duration=Math.max(a.distanceTo(l)/e.duration*1e3,1))}step(e){const t=Ji(this.fromScale.x,this.toScale.x,e),i=Ji(this.fromScale.y,this.toScale.y,e);this.element.transform(Xe().translate(t,i))}}B(QD,{easing:jy,duration:250}),Fs.current.register(zV,QD);const mae=QD,Iu=L,yae=ae,_ae=class vae extends sH{constructor(e,t){super(e,t),N(this.options.size)||(this.options.size=.6*this.scale.options.majorTicks.size)}pointerShape(){const{scale:e,options:{size:t}}=this,i=t/2,s=e.options.mirror?-1:1;let r;return r=e.options.vertical?[new Iu(0,0-i),new Iu(0-s*t,0),new Iu(0,0+i)]:[new Iu(0-i,0),new Iu(0,0+s*t),new Iu(0+i,0)],r}repaint(){const{scale:e,options:t}=this,i=new mae(this.elements,C(t.animation,{vertical:e.options.vertical,mirror:e.options.mirror,margin:this._margin(t.margin),from:e.getSlot(t._oldValue),to:e.getSlot(t.value)}));!1===t.animation.transitions&&(i.options.duration=0),i.setup(),i.play()}render(){const{scale:e,options:t}=this,i=this.getElementOptions(),s=this.pointerShape(t.value);t.animation.type=zV;const r=new yae({stroke:i.stroke,fill:i.fill}).moveTo(s[0]).lineTo(s[1]).lineTo(s[2]).close(),o=e.getSlot(t.value);return r.transform(Xe().translate(o.x1,o.y1)),this.elements=r,r}};class JD extends Ii{setup(){const e=this.options,t=this.axis=e.vertical?J:Q,i=this.to=e.newPoints[0][t],s=this.from=e.oldPoints[0][t];0!==e.duration&&(e.duration=Math.max(Math.abs(i-s)/e.speed*1e3,1)),this._set(s)}step(e){const t=Ji(this.from,this.to,e);this._set(t)}_set(e){const t="set"+this.axis.toUpperCase(),i=this.options.newPoints;i[0][t](e),i[1][t](e)}}B(JD,{easing:jy,speed:250}),Fs.current.register(_f,JD);const bae=JD,{Group:xae,Path:rH}=Tt,Cae=class wae extends sH{constructor(e,t){super(e,t),N(this.options.size)||(this.options.size=.3*this.scale.options.majorTicks.size)}pointerShape(e){const{scale:t,options:i}=this,{mirror:s,vertical:r}=t.options,o=s===r?-1:1,a=i.size*o,l=t.getSlot(t.options.min),c=t.getSlot(e),u=r?J:Q,h=r?Q:J,d=this._margin()*o,f=new L;f[u]=l[u+"1"],f[h]=l[h+"1"];const p=new L;p[u]=c[u+"1"],p[h]=c[h+"1"],r?(f.translate(d,0),p.translate(d,0)):(f.translate(0,d),p.translate(0,d));const g=p.clone(),y=f.clone();return r?(g.translate(a,0),y.translate(a,0)):(g.translate(0,a),y.translate(0,a)),[f,p,g,y]}repaint(){const{scale:e,options:t}=this,i=this.pointerShape(t.value),s=this.pointerPath,r=this.pointerShape(t._oldValue);s.moveTo(i[0]).lineTo(i[1]).lineTo(i[2]).lineTo(i[3]).close();const o=new bae(s,C(t.animation,{reverse:e.options.reverse,vertical:e.options.vertical,oldPoints:[r[1],r[2]],newPoints:[i[1],i[2]]}));!1===t.animation.transitions&&(o.options.duration=0),o.setup(),o.play()}render(){const e=new xae,t=this.getElementOptions();this.options.track.visible&&e.append(this.renderTrack());const i=this.pointerPath=new rH({stroke:t.stroke,fill:t.fill});return e.append(i),this.elements=e,e}renderTrack(){const e=this.options.track,t=e.border||{},i=this.trackBox.clone().pad(t.width||0);return new rH.fromRect(i.toRect(),{fill:{color:e.color,opacity:e.opacity},stroke:{color:t.width?t.color||e.color:"",width:t.width,dashType:t.dashType}})}},Tae=pt;B(class Mae extends JV{reflow(e){const t=this.pointers,i=e.origin.x,s=e.origin.y,r=new z(i,s,i+e.width(),s+e.height());this.scale.reflow(r),this._shrinkScaleWidth(r);for(let o=0;o<t.length;o++)t[o].reflow();this.bbox=this._getBox(r),this._alignElements(),this._shrinkElements(),this._buildVisual(),this._draw()}_buildVisual(){const e=new Tae,t=this.scale.render(),i=this.pointers;e.append(this.gaugeArea),e.append(t);for(let s=0;s<i.length;s++){const r=i[s];e.append(r.render()),r.value(r.options.value)}this._visuals=e}_createModel(){const e=this.options,t=this.scale=new gae(e.scale,this.contextService);this.pointers=[];let i=e.pointer;i=_n(i)?i:[i];for(let s=0;s<i.length;s++){const r=C({},i[s],{animation:{transitions:e.transitions}});this.pointers.push(new("arrow"===r.shape?_ae:Cae)(t,r))}}_defaultSize(){const e=this.options.scale.vertical;return{width:e?60:200,height:e?200:60}}_getBox(e){const{scale:t,pointers:i}=this,s=e.center();let o,r=i[0].box.clone().wrap(t.box);for(let a=0;a<i.length;a++)r.wrap(i[a].box.clone());return t.options.vertical?(o=r.width()/2,r=new z(s.x-o,e.y1,s.x+o,e.y2)):(o=r.height()/2,r=new z(e.x1,s.y-o,e.x2,s.y+o)),r}_alignElements(){const{scale:e,pointers:t}=this,i=e.box,s=t[0].box.clone().wrap(e.box),r=this.bbox;for(let a=0;a<t.length;a++)s.wrap(t[a].box.clone());let o;e.options.vertical?(o=r.center().x-s.center().x,e.reflow(new z(i.x1+o,r.y1,i.x2+o,r.y2))):(o=r.center().y-s.center().y,e.reflow(new z(i.x1,i.y1+o,i.x2,i.y2+o)));for(let a=0;a<t.length;a++)t[a].reflow(this.bbox)}_shrinkScaleWidth(e){const{scale:t}=this;if(!t.options.vertical){const i=t.contentBox().width()-e.width();i>0&&(t.box.shrink(i,0),t.box.alignTo(e,"center"),t.reflow(t.box))}}_shrinkElements(){const{scale:e,pointers:t}=this,i=e.box.clone(),s=e.options.vertical?"y":"x",r=t[0].box;for(let o=0;o<t.length;o++)r.wrap(t[o].box.clone());i[s+1]+=Math.max(i[s+1]-r[s+1],0),i[s+2]-=Math.max(r[s+2]-i[s+2],0),e.reflow(i);for(let o=0;o<t.length;o++)t[o].reflow(this.bbox)}},{transitions:!0,gaugeArea:{background:""},scale:{vertical:!0}});const{Arc:Eae,Path:Aae,Group:Wy}=Tt;function oH(n,e,t,i){const s=new Wy,r=n.center,o=n.getRadiusX();if(i.visible)for(let a=0;a<e.length;a++){const l=n.pointAt(e[a]),c=new L(r.x+o-i.size,r.y).rotate(e[a],r);s.append(new Aae({stroke:{color:i.color,width:i.width}}).moveTo(l).lineTo(c))}return s}function eS(n,e,t,i){return{from:n,to:e,color:t,opacity:i}}class aH extends ns{constructor(e,t){super(0,1,e,t)}initUserOptions(e){const t=C({},this.options,e);return t.majorUnit=t.majorUnit||Ld(t.min,t.max),t.minorUnit=t.minorUnit||t.majorUnit/10,t}initFields(){}render(e,t){const i=this.renderArc(e,t);this.bbox=i.bbox(),this.labelElements=this.renderLabels(),this.ticks=this.renderTicks(),this.ranges=this.renderRanges()}reflow(e){const t=e.center(),i=Math.min(e.height(),e.width())/2;if(!N(this.bbox))return this.render(t,i);this.bbox=this.arc.bbox(),this.radius(this.arc.getRadiusX()),this.repositionRanges(),this.renderLabels()}slotAngle(e){const{min:t,max:i,reverse:s,startAngle:r,endAngle:o}=this.options,a=o-r;let l;return l=s?o-(e-t)/(i-t)*a:(e-t)/(i-t)*a+r,l+180}hasRanges(){const e=this.options.ranges;return e&&e.length}ticksSize(){const{majorTicks:e,minorTicks:t}=this.options;let i=0;return e.visible&&(i=e.size),t.visible&&(i=Math.max(t.size,i)),i}labelsCount(){let e=super.labelsCount();const t=this.options;return t.endAngle-t.startAngle>=360&&t.max%t.majorUnit==0&&(e-=1),e}renderLabels(){const e=this.options,t=this.arc.clone();let i=t.getRadiusX();const s=this.tickAngles(t,e.majorUnit),r=e.rangeSize=e.rangeSize||.1*i,o=new Wy;let a=.05*i;N(e.rangeDistance)?a=e.rangeDistance:e.rangeDistance=a;const l=e.labels,c=l.position===da,u=N(this.labelElements);c&&(i-=this.ticksSize(),this.hasRanges()&&!u&&(i-=r+a),t.setRadiusX(i).setRadiusY(i));const h=this.labels,d=h.length,f=at(l.padding),p=(f.left+f.right)/2,g=(f.top+f.bottom)/2;for(let y=0;y<d;y++){const b=h[y],w=b.box.width()/2,D=b.box.height()/2,E=s[y],V=(E-180)*GV,q=t.pointAt(E),re=q.x+Math.cos(V)*(w+p)*(c?1:-1),Me=q.y+Math.sin(V)*(D+g)*(c?1:-1);b.reflow(new z(re-w,Me-D,re+w,Me+D));const gt=new L(b.box.x1,b.box.y1);let Ne;if(u){Ne=this.labelElements.children[y];const hn=Ne.bbox().origin,Zt=Ne.transform()||Xe();Zt.translate(gt.x-hn.x,gt.y-hn.y),Ne.transform(Zt)}else Ne=YV(b,e.labels),o.append(Ne);this.bbox=Be.union(this.bbox,Ne.bbox())}return o}repositionRanges(){const e=this.ranges.children;if(e.length>0){const{rangeDistance:t,rangeSize:i}=this.options;let s=this.getRangeRadius();this.options.labels.position===da&&(s+=i+t);const r=s+i/2;for(let o=0;o<e.length;o++)e[o]._geometry.setRadiusX(r).setRadiusY(r);this.bbox=Be.union(this.bbox,this.ranges.bbox())}}renderRanges(){const e=this.rangeSegments(),t=e.length,i=new Wy;if(t){const{rangeSize:s,reverse:r,rangeDistance:o}=this.options,a=this.getRangeRadius();this.radius(this.radius()-s-o);for(let l=0;l<t;l++){const c=e[l],u=this.slotAngle(c[r?"to":"from"]),h=this.slotAngle(c[r?"from":"to"]);h-u!=0&&i.append(this.createRange(u,h,a,c))}}return i}createRange(e,t,i,s){const r=this.options.rangeSize,o=new ea(this.arc.center,{radiusX:i+r/2,radiusY:i+r/2,startAngle:e,endAngle:t});return new Eae(o,{stroke:{width:r,color:s.color,opacity:s.opacity,lineCap:s.lineCap}})}rangeSegments(){const e=this.options,t=e.ranges||[],i=t.length,s=[];if(i){const{min:r,max:o,rangePlaceholderColor:a}=e;s.push(eS(r,o,a));for(let l=0;l<i;l++){const c=ZV(t[l],r,o),u=s.length;for(let h=0;h<u;h++){const d=s[h];if(d.from<=c.from&&c.from<=d.to){s.push(eS(c.from,c.to,c.color,c.opacity)),d.from<=c.to&&c.to<=d.to&&s.push(eS(c.to,d.to,a,c.opacity)),d.to=c.from;break}}}}return s}getRangeRadius(){const{arc:e,options:t}=this,{rangeSize:i,rangeDistance:s,majorTicks:{size:r}}=t;let o;return o=t.labels.position===YD?e.getRadiusX()-r-s-i:e.getRadiusX()-i,o}renderArc(e,t){const i=this.options;return this.arc=new ea(e,{radiusX:t,radiusY:t,startAngle:i.startAngle+180,endAngle:i.endAngle+180})}renderTicks(){const{arc:e,options:t}=this,i=e.clone();this.majorTickAngles=this.tickAngles(e,t.majorUnit),this.majorTicks=oH(i,this.majorTickAngles,0,t.majorTicks);const s=new Wy;s.append(this.majorTicks);const r=t.majorTicks.size,o=t.minorTicks.size;if(this._tickDifference=r-o,t.labels.position===YD){const a=i.getRadiusX();i.setRadiusX(a-r+o).setRadiusY(a-r+o)}return this.minorTickAngles=this.normalizeTickAngles(this.tickAngles(e,t.minorUnit)),this.minorTicks=oH(i,this.minorTickAngles,0,t.minorTicks),s.append(this.minorTicks),s}normalizeTickAngles(e){const t=this.options,i=t.majorUnit/t.minorUnit;for(let s=e.length-1;s>=0;s--)s%i==0&&e.splice(s,1);return e}tickAngles(e,t){const i=this.options,o=e.endAngle-e.startAngle;let a=(i.max-i.min)/t,l=e.startAngle,c=o/a;i.reverse&&(l+=o,c=-c),o>=360&&i.max%t==0&&(a-=1);const u=[];for(let h=0;h<a;h++)u.push(H(l,3)),l+=c;return H(l)<=e.endAngle&&u.push(l),u}radius(e){if(!e)return this.arc.getRadiusX();this.arc.setRadiusX(e).setRadiusY(e),this.repositionTicks(this.majorTicks.children,this.majorTickAngles),this.repositionTicks(this.minorTicks.children,this.minorTickAngles,!0)}repositionTicks(e,t,i){const s=i&&this._tickDifference||0;let r=this.arc;const o=r.getRadiusX();i&&this.options.labels.position===YD&&0!==s&&(r=this.arc.clone(),r.setRadiusX(o-s).setRadiusY(o-s));for(let a=0;a<e.length;a++){const l=r.pointAt(t[a]),c=e[a].segments,u=l.x-c[0].anchor().x,h=l.y-c[0].anchor().y;e[a].transform((new Xe).translate(u,h))}}}B(aH,{min:0,max:100,majorTicks:{size:15,align:da,color:Rt,width:.5,visible:!0},minorTicks:{size:10,align:da,color:Rt,width:.5,visible:!0},startAngle:-30,endAngle:210,labels:{position:da,padding:2}});const lH=aH;class tS extends Ii{constructor(e,t){super(e,t);const i=this.options;i.duration=Math.max(Math.abs(i.newAngle-i.oldAngle)/i.duration*1e3,1)}step(e){const t=this.options,i=Ji(t.oldAngle,t.newAngle,e);this.element.transform(Xe().rotate(i,t.center))}}B(tS,{easing:jy,duration:150}),Fs.current.register($V,tS);const Iae=tS,{Circle:Pae,Group:Rae,Path:Oae}=Tt;class cH extends XD{setAngle(e){this.elements.transform(Xe().rotate(e,this.center))}repaint(){const{scale:e,options:t}=this,i=e.slotAngle(t._oldValue),s=e.slotAngle(t.value);!1===t.animation.transitions?this.setAngle(s):new Iae(this.elements,C(t.animation,{oldAngle:i,newAngle:s})).play()}render(){const{scale:e,options:t}=this,i=new Rae;return!1!==t.animation&&C(t.animation,{startAngle:0,center:e.arc.center,reverse:e.options.reverse}),i.append(this._renderNeedle(),this._renderCap()),this.elements=i,this.setAngle(GV),i}reflow(e){const t=this.center=e.center,i=ie(this.options.length||1,.1,1.5),s=this.radius=e.getRadiusX()*i,r=this.capSize=Math.round(s*this.options.cap.size);this.bbox=Be.fromPoints(new L(t.x-r,t.y-r),new L(t.x+r,t.y+r))}_renderNeedle(){const e=this.scale.options.minorTicks.size,t=this.center,i=this.options.color,s=new Oae({fill:{color:i},stroke:{color:i,width:.5}});return s.moveTo(t.x+this.radius-e,t.y).lineTo(t.x,t.y-this.capSize/2).lineTo(t.x,t.y+this.capSize/2).close(),s}_renderCap(){const e=this.options,t=e.cap.color||e.color,i=new ts(this.center,this.capSize);return new Pae(i,{fill:{color:t},stroke:{color:t}})}}B(cH,{cap:{size:.05},arrow:{width:16,height:14},animation:{type:$V,duration:150}});const Nae=cH,Fae=pt;B(class Lae extends JV{reflow(e){const t=this.pointers;this.scale.reflow(e),this._initialPlotArea=this.scale.bbox;for(let i=0;i<t.length;i++)t[i].reflow(this.scale.arc),this._initialPlotArea=Be.union(this._initialPlotArea,t[i].bbox);this.fitScale(e),this.alignScale(e),this._buildVisual(this.gaugeArea,t,this.scale),this._draw()}_buildVisual(e,t,i){const s=this._visuals=new Fae;s.append(e),s.append(i.ticks),s.append(i.ranges),this._buildPointers(t),s.append(i.labelElements)}_buildPointers(e){for(let t=0;t<e.length;t++){const i=e[t];i.render(),this._visuals.append(i.elements),i.value(i.options.value)}}fitScale(e){const t=this.scale.arc,s=Math.abs(this.getDiff(this._initialPlotArea,e));let a,l,c,u,h,r=H(s,3),o=H(-s,3),d=0,f=0;for(;f++<100&&(d=h===c?d+1:0,!(d>5||r!==u&&(a=this.getPlotBox(r,e,t),0<=a&&a<=2)||o!==u&&(c=this.getPlotBox(o,e,t),0<=c&&c<=2)||(u=a>0&&c>0?2*r:a<0&&c<0?2*o:H((r+o)/2||1,3),l=this.getPlotBox(u,e,t),0<=l&&l<=2)));)h=c,l>0?(o=u,c=l):(r=u,a=l)}getPlotBox(e,t,i){const s=this.scale,r=this.pointers,o=i.getRadiusX(),a=i.clone();a.setRadiusX(o+e).setRadiusY(o+e),s.arc=a,s.reflow(t),this.plotBbox=s.bbox;for(let l=0;l<r.length;l++)r[l].reflow(a),this.plotBbox=Be.union(this.plotBbox,r[l].bbox);return this.getDiff(this.plotBbox,t)}getDiff(e,t){return Math.min(t.width()-e.width(),t.height()-e.height())}alignScale(e){const t=this.plotBbox.center(),i=e.center(),s=t.x-i.x,r=t.y-i.y,{scale:o,pointers:a}=this;o.arc.center.x-=s,o.arc.center.y-=r,o.reflow(e);for(let l=0;l<a.length;l++)a[l].reflow(o.arc),this.plotBbox=Be.union(o.bbox,a[l].bbox)}_createModel(){const e=this.options,t=e.pointer,i=this.scale=new lH(e.scale,this.contextService);this.pointers=[];const s=_n(t)?t:[t];for(let r=0;r<s.length;r++){const o=new Nae(i,C({},s[r],{animation:{transitions:e.transitions}}));this.pointers.push(o)}}},{transitions:!0,gaugeArea:{background:""}}),B(class Bae extends lH{rangeSegments(){const{min:e,max:t,rangePlaceholderColor:i,rangeLineCap:s}=this.options;return[{from:e,to:t,color:i,lineCap:s}]}hasRanges(){return!0}placeholderRangeAngle(e){const t=this.ranges.children[0].geometry();this.options.reverse?t.setEndAngle(e):t.setStartAngle(e)}addRange(e,t,i){const s=this.options.reverse,r=this.slotAngle(s?t:e),o=this.slotAngle(s?e:t),a=this.createRange(r,o,this.getRangeRadius(),i);return this.ranges.append(a),a}},{min:0,max:100,majorTicks:{visible:!1},minorTicks:{visible:!1},labels:{visible:!1},startAngle:0,endAngle:180,rangeLineCap:"round"});class nS extends Ii{constructor(e,t){super(e,t);const i=this.options,s=Math.abs(i.newAngle-i.oldAngle)/i.duration*1e3;i.duration=ie(s,150,800);const r=e.elements.options.get("stroke.color"),o=e.currentColor();r!==o&&(this.startColor=new hr(r),this.color=new hr(o))}step(e){const{options:t,startColor:i,color:s}=this,r=Ji(t.oldAngle,t.newAngle,e);if(this.element.angle(r),s){const o=H(Ji(i.r,s.r,e)),a=H(Ji(i.g,s.g,e)),l=H(Ji(i.b,s.b,e));this.element.stroke(new hr(o,a,l).toHex())}}}B(nS,{easing:jy,duration:150}),Fs.current.register(WV,nS);const Hae=nS;B(class zae extends XD{repaint(){const{scale:e,options:t}=this,i=e.slotAngle(t._oldValue),s=e.slotAngle(t.value);this.animation&&this.animation.abort(),!1===t.animation.transitions?(this.angle(s),this.stroke(this.currentColor())):(this.animation=new Hae(this,C(t.animation,{oldAngle:i,newAngle:s})),this.animation.play())}angle(e){const t=this.elements.geometry();this.scale.options.reverse?t.setStartAngle(e):t.setEndAngle(e),this.scale.placeholderRangeAngle(e)}stroke(e){this.elements.stroke(e)}render(){if(this.elements)return;const{scale:e,options:t}=this;!1!==t.animation&&C(t.animation,{startAngle:0,center:e.arc.center,reverse:e.options.reverse}),this.elements=e.addRange(e.options.min,this.options.value,{color:this.currentColor(),opacity:t.opacity,lineCap:e.options.rangeLineCap})}currentColor(){const{min:e,max:t}=this.scale.options,{colors:i,color:s,value:r}=this.options,o=we(r)?r:e;if(i)for(let a=0;a<i.length;a++){const{color:l,from:c=e,to:u=t}=i[a];if(c<=o&&o<=u)return l}return s}reflow(){this.render(),this.bbox=this.elements.bbox()}},{animation:{type:WV,duration:150}});class Sl extends Y{constructor(e){super(),this.setOptions(e),this.initProperties()}initProperties(){}setOptions(e){this.options=Object.assign({},this.options,e),this.quietZoneLength=this.options.addQuietZone?2*this.options.quietZoneLength:0}encode(e,t,i){const s=N(e)?String(e):e;return this.initValue(s,t,i),this.options.addQuietZone&&this.addQuietZone(),this.addData(),this.options.addQuietZone&&this.addQuietZone(),{baseUnit:this.baseUnit,pattern:this.pattern}}initValue(){}addQuietZone(){this.pattern.push(this.options.quietZoneLength||10)}addData(){}invalidCharacterError(e){throw new Error(`Character "${e}" is not valid for symbology ${this.name}.`)}}B(Sl,{quietZoneLength:10,addQuietZone:!0,addCheckSum:!0});const jae=Object.assign;class hH extends Sl{initProperties(){super.initProperties(),jae(this,{name:"Code 11",characterMap:["111121","211121","121121","221111","112121","212111","122111","111221","211211","211111","112111"],cCheckSumTotal:10,kCheckSumTotal:9,kCheckSumMinLength:10,checkSumMod:11,DASH_VALUE:10,DASH:"-",START:"112211",STOP:"11221"})}initValue(e,t){this.pattern=[],this.value=e,this.width=t,this.totalUnits=0}addData(){const e=this.value;this.addPattern(this.START);for(let t=0;t<e.length;t++)this.addCharacter(e.charAt(t));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()}setBaseUnit(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)}addCheckSum(){const e=this.value;let t=e.length;const i=this.getWeightedSum(e,t,this.cCheckSumTotal)%this.checkSumMod;if(this.checksum=String(i),this.addPattern(this.characterMap[i]),t++,t>=this.kCheckSumMinLength){let s=(i+this.getWeightedSum(e,t,this.kCheckSumTotal))%this.checkSumMod;this.checksum+=s,this.addPattern(this.characterMap[s])}}getWeightedSum(e,t,i){let s=0;for(let r=0;r<e.length;r++)s+=this.weightedValue(this.getValue(e.charAt(r)),t,r,i);return s}weightedValue(e,t,i,s){return((t-i)%s||s)*e}getValue(e){return isNaN(e)?(e!==this.DASH&&this.invalidCharacterError(e),this.DASH_VALUE):parseInt(e,10)}addCharacter(e){const t=this.getValue(e);this.addPattern(this.characterMap[t])}addPattern(e){let t;for(let i=0;i<e.length;i++)t=parseInt(e.charAt(i),10),this.pattern.push(t),this.totalUnits+=t}}B(hH,{addCheckSum:!0});const dH=Object.assign;class fH extends Sl{initProperties(){super.initProperties(),dH(this,{minBaseUnitLength:.7})}addData(){const e=this.value;this.addStart();for(let t=0;t<e.length;t++)this.addCharacter(e.charAt(t));this.options.addCheckSum&&this.pushCheckSum(),this.addStop(),this.prepareValues()}addCharacter(e){const t=this.characterMap[e];t||this.invalidCharacterError(e),this.addBase(t)}addBase(){}}class iS extends fH{initProperties(){super.initProperties(),dH(this,{name:"Code 39",checkSumMod:43,minRatio:2.5,maxRatio:3,gapWidth:1,splitCharacter:"|",patternMappings:{b:"1|",w:"1|",B:"ratio|",W:"ratio|"},characterMap:{0:{pattern:"bwbWBwBwb",value:0},1:{pattern:"BwbWbwbwB",value:1},2:{pattern:"bwBWbwbwB",value:2},3:{pattern:"BwBWbwbwb",value:3},4:{pattern:"bwbWBwbwB",value:4},5:{pattern:"BwbWBwbwb",value:5},6:{pattern:"bwBWBwbwb",value:6},7:{pattern:"bwbWbwBwB",value:7},8:{pattern:"BwbWbwBwb",value:8},9:{pattern:"bwBWbwBwb",value:9},A:{pattern:"BwbwbWbwB",value:10},B:{pattern:"bwBwbWbwB",value:11},C:{pattern:"BwBwbWbwb",value:12},D:{pattern:"bwbwBWbwB",value:13},E:{pattern:"BwbwBWbwb",value:14},F:{pattern:"bwBwBWbwb",value:15},G:{pattern:"bwbwbWBwB",value:16},H:{pattern:"BwbwbWBwb",value:17},I:{pattern:"bwBwbWBwb",value:18},J:{pattern:"bwbwBWBwb",value:19},K:{pattern:"BwbwbwbWB",value:20},L:{pattern:"bwBwbwbWB",value:21},M:{pattern:"BwBwbwbWb",value:22},N:{pattern:"bwbwBwbWB",value:23},O:{pattern:"BwbwBwbWb",value:24},P:{pattern:"bwBwBwbWb",value:25},Q:{pattern:"bwbwbwBWB",value:26},R:{pattern:"BwbwbwBWb",value:27},S:{pattern:"bwBwbwBWb",value:28},T:{pattern:"bwbwBwBWb",value:29},U:{pattern:"BWbwbwbwB",value:30},V:{pattern:"bWBwbwbwB",value:31},W:{pattern:"BWBwbwbwb",value:32},X:{pattern:"bWbwBwbwB",value:33},Y:{pattern:"BWbwBwbwb",value:34},Z:{pattern:"bWBwBwbwb",value:35},"-":{pattern:"bWbwbwBwB",value:36},".":{pattern:"BWbwbwBwb",value:37}," ":{pattern:"bWBwbwBwb",value:38},$:{pattern:"bWbWbWbwb",value:39},"/":{pattern:"bWbWbwbWb",value:40},"+":{pattern:"bWbwbWbWb",value:41},"%":{pattern:"bwbWbWbWb",value:42},START:{pattern:"bWbwBwBwb"}}})}initValue(e,t,i){this.width=t,this.height=i,this.value=e,this.dataLength=e.length,this.pattern=[],this.patternString=""}prepareValues(){const e=this.minBaseUnitLength,t=this.minRatio,i=Math.ceil(Math.max(.15*this.width,24));let s,r=this.maxRatio;if(this.height<i)throw new Error(`Insufficient height for Code39 encoding: the current height is ${this.height}px and the minimum height is ${i}px.`);for(s=this.getBaseUnit(r);s<e&&r>t;)r=parseFloat((r-.1).toFixed(1)),s=this.getBaseUnit(r);if(s<e){let o=Math.ceil(this.getBaseWidth(t)*e);throw new Error(`Insufficient width for Code39 encoding: the current width is ${this.width}px and the minimum width for value "${this.value}" is ${o}px.`)}this.ratio=r,this.baseUnit=s,this.patternString=this.patternString.substring(0,this.patternString.length-1),this.pattern=this.pattern.concat(this.patternString.replace(/ratio/g,r).split(this.splitCharacter))}getBaseUnit(e){return this.width/this.getBaseWidth(e)}getBaseWidth(e){return this.quietZoneLength+3*(e+2)*(this.dataLength+2)+this.gapWidth*(this.dataLength+1)}addStart(){this.addPattern(this.characterMap.START.pattern),this.addCharacterGap()}addBase(e){this.addPattern(e.pattern),this.addCharacterGap()}addStop(){this.addPattern(this.characterMap.START.pattern)}addPattern(e){for(let t=0;t<e.length;t++)this.patternString+=this.patternMappings[e.charAt(t)]}addCharacterGap(){this.patternString+=this.gapWidth+this.splitCharacter}}B(iS,{addCheckSum:!1});const pH={addCharacter(n){this.characterMap[n]?this.addBase(this.characterMap[n]):n.charCodeAt(0)>127?this.invalidCharacterError(n):this.addExtended(n.charCodeAt(0))},addExtended(n){let e;for(let t=0;t<this.extendedMappings.length;t++)if(e=this.extendedMappings[t].call(this,n),e){for(let i=0;i<e.length;i++)this.addBase(e[i]);return void(this.dataLength+=e.length-1)}},extendedMappings:[function(n){if(97<=n&&n<=122)return[this.characterMap[this.shiftCharacters[0]],this.characterMap[String.fromCharCode(n-32)]]},function(n){if(33<=n&&n<=58)return[this.characterMap[this.shiftCharacters[1]],this.characterMap[String.fromCharCode(n+32)]]},function(n){if(1<=n&&n<=26)return[this.characterMap[this.shiftCharacters[2]],this.characterMap[String.fromCharCode(n+64)]]},function(n){let e,t;if(this.specialAsciiCodes[n]){e=[];for(let i=0;i<this.specialAsciiCodes[n].length;i++)e.push(this.characterMap[this.shiftCharacters[3]]),e.push(this.characterMap[this.specialAsciiCodes[n][i]])}else t=6*Math.floor(n/32)+(n-27)%32+64,e=[this.characterMap[this.shiftCharacters[3]],this.characterMap[String.fromCharCode(t)]];return e}],specialAsciiCodes:{0:["U"],64:["V"],96:["W"],127:["T","X","Y","Z"]},shiftValuesAsciiCodes:{39:36,40:47,41:43,42:37},characterMap:{"+":!1,"/":!1,$:!1,"%":!1},shiftCharacters:["SHIFT0","SHIFT1","SHIFT2","SHIFT3"]},$ae=Object.assign;class gH extends fH{initProperties(){super.initProperties(),$ae(this,{name:"Code 93",cCheckSumTotal:20,kCheckSumTotal:15,checkSumMod:47,characterMap:{0:{pattern:"131112",value:0},1:{pattern:"111213",value:1},2:{pattern:"111312",value:2},3:{pattern:"111411",value:3},4:{pattern:"121113",value:4},5:{pattern:"121212",value:5},6:{pattern:"121311",value:6},7:{pattern:"111114",value:7},8:{pattern:"131211",value:8},9:{pattern:"141111",value:9},A:{pattern:"211113",value:10},B:{pattern:"211212",value:11},C:{pattern:"211311",value:12},D:{pattern:"221112",value:13},E:{pattern:"221211",value:14},F:{pattern:"231111",value:15},G:{pattern:"112113",value:16},H:{pattern:"112212",value:17},I:{pattern:"112311",value:18},J:{pattern:"122112",value:19},K:{pattern:"132111",value:20},L:{pattern:"111123",value:21},M:{pattern:"111222",value:22},N:{pattern:"111321",value:23},O:{pattern:"121122",value:24},P:{pattern:"131121",value:25},Q:{pattern:"212112",value:26},R:{pattern:"212211",value:27},S:{pattern:"211122",value:28},T:{pattern:"211221",value:29},U:{pattern:"221121",value:30},V:{pattern:"222111",value:31},W:{pattern:"112122",value:32},X:{pattern:"112221",value:33},Y:{pattern:"122121",value:34},Z:{pattern:"123111",value:35},"-":{pattern:"121131",value:36},".":{pattern:"311112",value:37}," ":{pattern:"311211",value:38},$:{pattern:"321111",value:39},"/":{pattern:"112131",value:40},"+":{pattern:"113121",value:41},"%":{pattern:"211131",value:42},SHIFT0:{pattern:"122211",value:46},SHIFT1:{pattern:"311121",value:45},SHIFT2:{pattern:"121221",value:43},SHIFT3:{pattern:"312111",value:44},START:{pattern:"111141"},TERMINATION_BAR:"1"}})}initValue(e,t,i){this.value=e,this.width=t,this.height=i,this.pattern=[],this.values=[],this.dataLength=e.length}prepareValues(){let e=Math.ceil(Math.max(.15*this.width,24));if(this.height<e)throw new Error(`Insufficient height for Code93 encoding: the current height is ${this.height}px, the minimum required height is ${e}px.`);if(this.setBaseUnit(),this.baseUnit<this.minBaseUnitLength){const t=Math.ceil(this.minBaseUnitLength*(this.width/this.baseUnit));throw new Error(`Insufficient width for Code93 encoding: the current width is ${this.width}px and the minimum required width for value "${this.value}" is ${t}px.`)}}setBaseUnit(){this.baseUnit=this.width/(9*(this.dataLength+2+2)+this.quietZoneLength+1)}addStart(){this.addPattern(this.characterMap.START.pattern)}addStop(){this.addStart(),this.pattern.push(this.characterMap.TERMINATION_BAR)}addBase(e){this.addPattern(e.pattern),this.values.push(e.value)}pushCheckSum(){const e=this._getCheckValues();let t;this.checksum=e.join("");for(let i=0;i<e.length;i++)t=this.characterMap[this._findCharacterByValue(e[i])],this.addPattern(t.pattern)}_getCheckValues(){const e=this.values,t=e.length;let s,r,o,i=0;for(o=t-1;o>=0;o--)i+=this.weightedValue(e[o],t-o,this.cCheckSumTotal);for(s=i%this.checkSumMod,i=this.weightedValue(s,1,this.kCheckSumTotal),o=t-1;o>=0;o--)i+=this.weightedValue(e[o],t-o+1,this.kCheckSumTotal);return r=i%this.checkSumMod,[s,r]}_findCharacterByValue(e){for(let t in this.characterMap)if(this.characterMap[t].value===e)return t}weightedValue(e,t,i){return(t%i||i)*e}addPattern(e){let t;for(let i=0;i<e.length;i++)t=parseInt(e.charAt(i),10),this.pattern.push(t)}}const qae=/^\d+$/,Kae=Object.assign,sS=/^\d+$/,Zae=/^[a-z0-9]+$/i,zs=Object.assign;class qy extends Y{constructor(e){super(),this.encoding=e,this.initProperties()}initProperties(){}addStart(){}is(){}isCode(){return!1}move(){}pushState(){}}class mH extends qy{constructor(e,t){super(e),this.states=t,this._initMoves(t)}initProperties(){super.initProperties(),C(this,{FNC4:"FNC4",SHIFT:98})}addStart(){this.encoding.addPattern(this.START)}is(e,t){let i=e.charCodeAt(t);return this.isCode(i)}move(e){let t=0;for(;!this._moves[t].call(this,e)&&t<this._moves.length;)t++}pushState(e){let r,i=e.value,s=i.length;if(Se("C",this.states)){let o=i.substr(e.index).match(/\d{4,}/g);o&&(s=i.indexOf(o[0],e.index))}for(;(r=e.value.charCodeAt(e.index))>=0&&this.isCode(r)&&e.index<s;)this.encoding.addPattern(this.getValue(r)),e.index++}_initMoves(e){this._moves=[],Se(this.FNC4,e)&&this._moves.push(this._moveFNC),Se(this.shiftKey,e)&&this._moves.push(this._shiftState),this._moves.push(this._moveState)}_moveFNC(e){if(e.fnc)return e.fnc=!1,e.previousState===this.key}_shiftState(e){if(e.previousState===this.shiftKey&&(e.index+1>=e.value.length||this.encoding[this.shiftKey].is(e.value,e.index+1)))return this.encoding.addPattern(this.SHIFT),e.shifted=!0,!0}_moveState(){return this.encoding.addPattern(this.MOVE),!0}}const ku={};ku.A=class extends mH{initProperties(){super.initProperties(),zs(this,{key:"A",shiftKey:"B",MOVE:101,START:103})}isCode(e){return 0<=e&&e<96}getValue(e){return e<32?e+64:e-32}},ku.B=class extends mH{initProperties(){super.initProperties(),zs(this,{key:"B",shiftKey:"A",MOVE:100,START:104})}isCode(e){return 32<=e&&e<128}getValue(e){return e-32}},ku.C=class extends qy{initProperties(){super.initProperties(),zs(this,{key:"C",MOVE:99,START:105})}addStart(){this.encoding.addPattern(this.START)}is(e,t){let i=rS(e,t,4);return(t+4<=e.length||2===e.length)&&sS.test(i)}move(){this.encoding.addPattern(this.MOVE)}pushState(e){let t;for(;(t=rS(e.value,e.index,2))&&sS.test(t)&&2===t.length;)this.encoding.addPattern(parseInt(t,10)),e.index+=2}getValue(e){return e}},ku.FNC4=class extends qy{constructor(e,t){super(e),this._initSubStates(t)}initProperties(){super.initProperties(),zs(this,{key:"FNC4",dependentStates:["A","B"]})}addStart(e){let t=e.value.charCodeAt(0)-128,i=this._getSubState(t);this.encoding[i].addStart()}is(e,t){let i=e.charCodeAt(t);return this.isCode(i)}isCode(e){return 128<=e&&e<256}pushState(e){let r,t=this._initSubState(e),i=this.encoding,s=t.value.length;if(e.index+=s,s<3)for(;t.index<s;t.index++)r=t.value.charCodeAt(t.index),t.state=this._getSubState(r),t.previousState!==t.state&&(t.previousState=t.state,i[t.state].move(t)),i.addPattern(i[t.state].MOVE),i.addPattern(i[t.state].getValue(r));else t.state!==t.previousState&&i[t.state].move(t),this._pushStart(t),i.pushData(t,this.subStates),e.index<e.value.length&&this._pushStart(t);e.fnc=!0,e.state=t.state}_pushStart(e){this.encoding.addPattern(this.encoding[e.state].MOVE),this.encoding.addPattern(this.encoding[e.state].MOVE)}_initSubState(e){const t={value:this._getAll(e.value,e.index),index:0};return t.state=this._getSubState(t.value.charCodeAt(0)),t.previousState=e.previousState===this.key?t.state:e.previousState,t}_initSubStates(e){this.subStates=[];for(let t=0;t<e.length;t++)Se(e[t],this.dependentStates)&&this.subStates.push(e[t])}_getSubState(e){for(let t=0;t<this.subStates.length;t++)if(this.encoding[this.subStates[t]].isCode(e))return this.subStates[t]}_getAll(e,t){let i,s="",r=t;for(;(i=e.charCodeAt(r++))&&this.isCode(i);)s+=String.fromCharCode(i-128);return s}},ku.FNC1=class extends qy{constructor(e,t){super(e),this.states=t}initProperties(){super.initProperties(),zs(this,{key:"FNC1",startState:"C",startAI:"(",endAI:")",dependentStates:["C","B"],applicationIdentifiers:{22:{max:29,type:"alphanumeric"},402:{length:17},7004:{max:4,type:"alphanumeric"},242:{max:6,type:"alphanumeric"},8020:{max:25,type:"alphanumeric"},703:{min:3,max:30,type:"alphanumeric"},8008:{min:8,max:12,type:"alphanumeric"},253:{min:13,max:17,type:"alphanumeric"},8003:{min:14,max:30,type:"alphanumeric"},multiKey:[{ids:["15","17","8005","8100"],ranges:[[11,13],[310,316],[320,336],[340,369]],type:{length:6}},{ids:["240","241","250","251","400","401","403","7002","8004","8007","8110"],ranges:[[-9]],type:{max:30,type:"alphanumeric"}},{ids:["7001"],ranges:[[410,414]],type:{length:13}},{ids:["10","21","254","420","8002"],type:{max:20,type:"alphanumeric"}},{ids:["00","8006","8017","8018"],type:{length:18}},{ids:["01","02","8001"],type:{length:14}},{ids:["422"],ranges:[[424,426]],type:{length:3}},{ids:["20","8102"],type:{length:2}},{ids:["30","37"],type:{max:8,type:"alphanumeric"}},{ids:["390","392"],type:{max:15,type:"alphanumeric"}},{ids:["421","423"],type:{min:3,max:15,type:"alphanumeric"}},{ids:["391","393"],type:{min:3,max:18,type:"alphanumeric"}},{ids:["7003","8101"],type:{length:10}}]},START:102})}addStart(){this.encoding[this.startState].addStart()}is(){return Se(this.key,this.states)}pushState(e){let a,l,c,t=this.encoding,i=e.value.replace(/\s/g,""),s=new RegExp("["+this.startAI+this.endAI+"]","g"),r=e.index,o={state:this.startState};for(t.addPattern(this.START);;){if(o.index=0,c=i.charAt(r)===this.startAI?2:0,a=c>0?this.getBySeparator(i,r):this.getByLength(i,r),a.ai.length)l=r+c+a.id.length+a.ai.length;else if(l=i.indexOf(this.startAI,r+1),l<0){if(r+a.ai.max+a.id.length+c<i.length)throw new Error("Separators are required after variable length identifiers");l=i.length}if(o.value=i.substring(r,l).replace(s,""),this.validate(a,o.value),t.pushData(o,this.dependentStates),l>=i.length)break;r=l,o.state!==this.startState&&(t[this.startState].move(o),o.state=this.startState),a.ai.length||t.addPattern(this.START)}e.index=e.value.length}validate(e,t){let i=t.substr(e.id.length),s=e.ai;if(!s.type&&!sS.test(i))throw new Error("Application identifier "+e.id+" is numeric only but contains non numeric character(s).");if("alphanumeric"===s.type&&!Zae.test(i))throw new Error("Application identifier "+e.id+" is alphanumeric only but contains non alphanumeric character(s).");if(s.length&&s.length!==i.length)throw new Error("Application identifier "+e.id+" must be "+s.length+" characters long.");if(s.min&&s.min>i.length)throw new Error("Application identifier "+e.id+" must be at least "+s.min+" characters long.");if(s.max&&s.max<i.length)throw new Error("Application identifier "+e.id+" must be at most "+s.max+" characters long.")}getByLength(e,t){let i,s;for(let r=2;r<=4;r++)if(i=rS(e,t,r),s=this.getApplicationIdentifier(i)||this.getApplicationIdentifier(i.substring(0,i.length-1)),s)return{id:i,ai:s};this.unsupportedAIError(i)}unsupportedAIError(e){throw new Error("'"+e+"' is not a supported Application Identifier")}getBySeparator(e,t){let i=e.indexOf(this.startAI,t),s=e.indexOf(this.endAI,i),r=e.substring(i+1,s),o=this.getApplicationIdentifier(r)||this.getApplicationIdentifier(r.substr(r.length-1));return o||this.unsupportedAIError(r),{ai:o,id:r}}getApplicationIdentifier(e){let t=this.applicationIdentifiers,i=t.multiKey;if(t[e])return t[e];for(let s=0;s<i.length;s++){if(i[s].ids&&Se(e,i[s].ids))return i[s].type;if(i[s].ranges){let r=i[s].ranges;for(let o=0;o<r.length;o++)if(r[o][0]<=e&&e<=r[o][1])return i[s].type}}}};class xf extends Sl{constructor(e){super(e),this._initStates()}initProperties(){super.initProperties(),zs(this,{characterMap:[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP:106})}_initStates(){for(let e=0;e<this.states.length;e++)this[this.states[e]]=new ku[this.states[e]](this,this.states)}initValue(e,t,i){this.pattern=[],this.value=e,this.width=t,this.height=i,this.checkSum=0,this.totalUnits=0,this.index=0,this.position=1}addData(){let e={value:this.value,index:0,state:""};0!==this.value.length&&(e.state=e.previousState=this.getNextState(e,this.states),this.addStart(e),this.pushData(e,this.states),this.addCheckSum(),this.addStop(),this.setBaseUnit())}pushData(e,t){for(;this[e.state].pushState(e),!(e.index>=e.value.length);)if(e.shifted){let s=e.state;e.state=e.previousState,e.previousState=s,e.shifted=!1}else e.previousState=e.state,e.state=this.getNextState(e,t),this[e.state].move(e)}addStart(e){this[e.state].addStart(e),this.position=1}addCheckSum(){this.checksum=this.checkSum%103,this.addPattern(this.checksum)}addStop(){this.addPattern(this.STOP)}setBaseUnit(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)}addPattern(e){const t=this.characterMap[e].toString();let i;for(let s=0;s<t.length;s++)i=parseInt(t.charAt(s),10),this.pattern.push(i),this.totalUnits+=i;this.checkSum+=e*this.position++}getNextState(e,t){for(let i=0;i<t.length;i++)if(this[t[i]].is(e.value,e.index))return t[i];this.invalidCharacterError(e.value.charAt(e.index))}}function rS(n,e,t){return n.substring(e,e+t)}const wf=Object.assign;class Ky extends Sl{initProperties(){super.initProperties(),wf(this,{characterMap:["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221"],START:"21",STOP:"121",checkSumType:"",checkSums:ole})}initValue(e,t){this.pattern=[],this.value=e,this.checkSumLength=0,this.width=t}setBaseUnit(){this.baseUnit=this.width/(12*(this.value.length+this.checkSumLength)+this.quietZoneLength+7)}addData(){const e=this.value;this.addPattern(this.START);for(let t=0;t<e.length;t++)this.addCharacter(e.charAt(t));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()}addCharacter(e){const t=this.characterMap[e];t||this.invalidCharacterError(e),this.addPattern(t)}addPattern(e){for(let t=0;t<e.length;t++)this.pattern.push(parseInt(e.charAt(t),10))}addCheckSum(){const t=this.checkSums[this.checkSumType].call(this.checkSums,this.value);this.checksum=t.join("");for(let i=0;i<t.length;i++)this.checkSumLength++,this.addPattern(this.characterMap[t[i]])}}const ole={Modulo10(n){let i,s,r,e=[0,""],t=n.length%2;for(i=0;i<n.length;i++)e[(i+t)%2]+=parseInt(n.charAt(i),10);for(r=e[0],s=(2*e[1]).toString(),i=0;i<s.length;i++)r+=parseInt(s.charAt(i),10);return[(10-r%10)%10]},Modulo11(n){let s,r,e=0,i=n.length;for(let o=0;o<i;o++)s=((i-o)%6||6)+1,e+=s*n.charAt(o);return r=(11-e%11)%11,10!==r?[r]:[1,0]},Modulo11Modulo10(n){let t,e=this.Modulo11(n);return t=n+e[0],e.concat(this.Modulo10(t))},Modulo10Modulo10(n){let t,e=this.Modulo10(n);return t=n+e[0],e.concat(this.Modulo10(t))}},ale=Object.assign;class yH extends Sl{initProperties(){super.initProperties(),ale(this,{name:"EAN 13",keyTable:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],characterMap:{digits:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start:[1,1,1],middle:[1,1,1,1,1]}})}initValue(e,t,i){const s=String(e);if(12!==s.length||/\D/.test(s))throw new Error('The value of the "EAN13" encoding should be 12 symbols');this.pattern=[],this.options.height=i,this.baseUnit=t/(95+this.quietZoneLength),this.value=s,this.checksum=this.calculateChecksum(),this.leftKey=s[0],this.leftPart=s.substr(1,6),this.rightPart=s.substr(7)+this.checksum}addData(){this.addPieces(this.characterMap.start),this.addSide(this.leftPart,this.leftKey),this.addPieces(this.characterMap.middle),this.addSide(this.rightPart),this.addPieces(this.characterMap.start)}addSide(e,t){for(let i=0;i<e.length;i++)t&&parseInt(this.keyTable[t].charAt(i),10)?this.addPieces(Array.prototype.slice.call(this.characterMap.digits[e.charAt(i)]).reverse(),!0):this.addPieces(this.characterMap.digits[e.charAt(i)],!0)}addPieces(e,t){for(let i=0;i<e.length;i++)this.pattern.push(t?{y1:0,y2:.95*this.options.height,width:e[i]}:e[i])}calculateChecksum(){let e=0,t=0,i=this.value.split("").reverse().join("");for(let r=0;r<i.length;r++)r%2?t+=parseInt(i.charAt(r),10):e+=parseInt(i.charAt(r),10);return(10-(3*e+t)%10)%10}}const lle=Object.assign,vH={code11:hH,code39:iS,code39extended:class Gae extends iS{initProperties(){super.initProperties(),C(this,pH,{name:"Code 39 extended",characterMap:{SHIFT0:{pattern:"bWbwbWbWb",value:41},SHIFT1:{pattern:"bWbWbwbWb",value:40},SHIFT2:{pattern:"bWbWbWbwb",value:39},SHIFT3:{pattern:"bwbWbWbWb",value:42}}})}},code93:gH,code93extended:class Wae extends gH{initProperties(){super.initProperties(),C(this,pH,{name:"Code 93 extended",pushCheckSum:function(){const e=this._getCheckValues();let t;this.checksum=e.join("");for(let i=0;i<e.length;i++)if(t=e[i],this.shiftValuesAsciiCodes[t])this.addExtended(this.shiftValuesAsciiCodes[t]);else{const s=this._findCharacterByValue(t);this.addPattern(this.characterMap[s].pattern)}}})}},code128:class ele extends xf{initProperties(){super.initProperties(),zs(this,{name:"Code 128",states:["C","B","A","FNC4"]})}},code128a:class Xae extends xf{initProperties(){super.initProperties(),zs(this,{name:"Code 128 A",states:["A"]})}},code128b:class Qae extends xf{initProperties(){super.initProperties(),zs(this,{name:"Code 128 B",states:["B"]})}},code128c:class Jae extends xf{initProperties(){super.initProperties(),zs(this,{name:"Code 128 C",states:["C"]})}},"gs1-128":class tle extends xf{initProperties(){super.initProperties(),zs(this,{name:"Code GS1-128",states:["FNC1","C","B"]})}},msimod10:class nle extends Ky{initProperties(){super.initProperties(),wf(this,{name:"MSI Modulo10",checkSumType:"Modulo10"})}},msimod11:class ile extends Ky{initProperties(){super.initProperties(),wf(this,{name:"MSI Modulo11",checkSumType:"Modulo11"})}},msimod1010:class sle extends Ky{initProperties(){super.initProperties(),wf(this,{name:"MSI Modulo10 Modulo10",checkSumType:"Modulo10Modulo10"})}},msimod1110:class rle extends Ky{initProperties(){super.initProperties(),wf(this,{name:"MSI Modulo11 Modulo10",checkSumType:"Modulo11Modulo10"})}},postnet:class Yae extends Sl{initProperties(){super.initProperties(),Kae(this,{name:"Postnet",START:"2",VALID_CODE_LENGTHS:[5,9,11],DIGIT_SEPARATOR:"-",characterMap:["22111","11122","11212","11221","12112","12121","12211","21112","21121","21211"]})}initValue(e,t,i){this.height=i,this.width=t,this.baseHeight=i/2,this.value=e.replace(new RegExp(this.DIGIT_SEPARATOR,"g"),""),this.pattern=[],this.validate(this.value),this.checkSum=0,this.setBaseUnit()}addData(){const e=this.value;this.addPattern(this.START);for(let t=0;t<e.length;t++)this.addCharacter(e.charAt(t));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.START),this.pattern.pop()}addCharacter(e){const t=this.characterMap[e];this.checkSum+=parseInt(e,10),this.addPattern(t)}addCheckSum(){this.checksum=(10-this.checkSum%10)%10,this.addCharacter(this.checksum)}setBaseUnit(){this.baseUnit=this.width/(10*(this.value.length+1)+3+this.quietZoneLength)}validate(e){if(qae.test(e)||this.invalidCharacterError(e.match(/[^0-9]/)[0]),!Se(e.length,this.VALID_CODE_LENGTHS))throw new Error("Invalid value length. Valid lengths for the Postnet symbology are "+this.VALID_CODE_LENGTHS.join(",")+".")}addPattern(e){let t;for(let i=0;i<e.length;i++)t=this.height-this.baseHeight*e.charAt(i),this.pattern.push({width:1,y1:t,y2:this.height}),this.pattern.push(1)}},ean8:class cle extends yH{initProperties(){super.initProperties(),lle(this,{name:"EAN 8"})}initValue(e,t,i){if(7!==e.length||/\D/.test(e))throw new Error("Invalid value provided");this.value=e,this.options.height=i,this.checksum=this.calculateChecksum(this.value),this.leftPart=this.value.substr(0,4),this.rightPart=this.value.substr(4)+this.checksum,this.pattern=[],this.baseUnit=t/(67+this.quietZoneLength)}},ean13:yH};function _H(n,e){const t=n.style.display;"canvas"===e&&(n.style.display="block");const i={width:n.clientWidth,height:n.clientHeight};return n.style.display=t,i}B(class dle extends Y{constructor(e,t,i=YF){super(),this.options=C({},this.options,t),this.element=e,this.onError=i,this._initElement(),this._initSurface(),this._setOptions(t),t&&N(t.value)&&this.redraw()}destroy(){this._destroySurface()}_initElement(){Jn(this.element,"k-barcode")}_initSurface(){const{options:e,surface:t}=this;(!t||t.options.type!==e.renderAs)&&(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())}_createSurface(){return gf.create(this.surfaceElement,{type:this.options.renderAs})}_destroySurface(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())}_initSurfaceElement(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.surfaceElement.style.position="relative",this.element.appendChild(this.surfaceElement))}_destroySurfaceElement(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)}setOptions(e){this._setOptions(e),this._initSurface(),this.redraw()}redraw(){let e=this._getSize();this.surface.clear(),this.surface.setSize({width:e.width,height:e.height}),this.createVisual(),this.surface.draw(this.visual)}getSize(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}}_resize(){this.redraw()}createVisual(){this.visual=this._render()}_render(){const e=this.options,t=e.value,i=e.text,s=at(i.margin),r=this._getSize(),o=e.border||{},a=this.encoding,l=new z(0,0,r.width,r.height).unpad(o.width).unpad(e.padding);let u,h,d,c=l.height();const f=new pt;this.contentBox=l,f.append(this._getBackground(r)),i.visible&&(d=Im(t,{font:i.font}).height,c-=d+s.top+s.bottom);try{u=a.encode(t,l.width(),c)}catch(p){return this.onError(p),f}return i.visible&&(h=t,e.checksum&&N(a.checksum)&&(h+=" "+a.checksum),f.append(this._getText(h))),this.barHeight=c,this._bandsGroup=this._getBands(u.pattern,u.baseUnit),f.append(this._bandsGroup),f}exportVisual(){return this._render()}_getSize(){const t=_H(this.element,this.options.renderAs),i=new dl(300,100);return t.width>0&&(i.width=t.width),t.height>0&&(i.height=t.height),this.options.width&&(i.width=this.options.width),this.options.height&&(i.height=this.options.height),i}value(e){if(!N(e))return this.options.value;this.options.value=String(e),this.redraw()}_getBands(e,t){const i=this.contentBox;let r,o,s=i.x1;const a=new pt;for(let l=0;l<e.length;l++){if(o=Ps(e[l])?e[l]:{width:e[l],y1:0,y2:this.barHeight},r=o.width*t,l%2){const c=Be.fromPoints(new L(s,o.y1+i.y1),new L(s+r,o.y2+i.y1)),u=ae.fromRect(c,{fill:{color:this.options.color},stroke:null});a.append(u)}s+=r}return a}_getBackground(e){const t=this.options,i=t.border||{},s=new z(0,0,e.width,e.height).unpad(i.width/2);return ae.fromRect(s.toRect(),{fill:{color:t.background},stroke:{color:i.width?i.color:"",width:i.width,dashType:i.dashType}})}_getText(e){const t=this.options.text,i=this._textbox=new ki(e,{font:t.font,color:t.color,align:"center",vAlign:"bottom",margin:t.margin});return i.reflow(this.contentBox),i.renderVisual(),i.visual}_setOptions(e){if(this.type=(e.type||this.options.type).toLowerCase(),"upca"===this.type&&(this.type="ean13",e.value="0"+e.value),"upce"===this.type&&(this.type="ean8",e.value="0"+e.value),!vH[this.type])throw new Error(`Encoding '${this.type}' is not supported.`);this.encoding=new vH[this.type],this.options=C({},this.options,e)}},{name:"Barcode",renderAs:"svg",value:"",type:"code39",checksum:!1,width:0,height:0,color:"black",background:"white",text:{visible:!0,font:"16px Consolas, Monaco, Sans Mono, monospace, sans-serif",color:"black",margin:{top:0,bottom:0,left:0,right:0}},border:{width:0,dashType:"solid",color:"black"},padding:{top:0,bottom:0,left:0,right:0}});const Pu=Object.assign;function bH(n,e){let t=[],i=0;for(;i<n.length;)t.push(n.substring(i,i+e)),i+=e;return t}function fi(n,e){let t=Number(n).toString(2);return t.length<e&&(t=new Array(e-t.length+1).join(0)+t),t}function Yy(n){return parseInt(n,2)}class gle extends Y{constructor(e){super(),this.matrix=e,this.row=e.length-1,this.column=e.length-1,this.startColumn=this.column,this.dir=-1,this.c=0}move(){this.row+=this.dir*this.c,this.c^=1,this.column=this.startColumn-this.c}getNextCell(){for(;void 0!==this.matrix[this.row][this.column];)this.move(),(this.row<0||this.row>=this.matrix.length)&&(this.dir=-this.dir,this.startColumn-=8!==this.startColumn?2:3,this.column=this.startColumn,this.row=this.dir<0?this.matrix.length-1:0);return{row:this.row,column:this.column}}getNextRemainderCell(){if(this.move(),void 0===this.matrix[this.row][this.column])return{row:this.row,column:this.column}}}class xH extends Y{constructor(e,t){super(),this.dataString=e,this.version=t}}class mle extends Y{getEncodingResult(e,t){let i=function Jle(n){let t,e=[],i=0,s=n;for(e.push(EH(s,8,5,8,t)),t=e[0].mode,s=s.substr(e[0].modeString.length);s.length>0;){let r=EH(s,17,9,16,t);r.mode!==t?(t=r.mode,e.push(r),i++):e[i].modeString+=r.modeString,s=s.substr(r.modeString.length)}return e}(e),s=function ece(n){let t,e=0;for(let i=0;i<n.length;i++)t=aS[n[i].mode],e+=t.getStringBitsLength(n[i].modeString.length);return Math.ceil(e/8)}(i),r=AH(s,t),o=function tce(n,e){let i,t="";for(let s=0;s<n.length;s++)i=aS[n[s].mode],t+=i.encode(n[s].modeString,e);return t}(i,r);return new xH(o,r)}}class oS extends Y{constructor(){super(),this.initProperties()}initProperties(){Pu(this,{modeIndicator:"",bitsInCharacterCount:[]})}getVersionIndex(e){return e<10?0:e>26?2:1}getBitsCharacterCount(e){return this.bitsInCharacterCount[this.getVersionIndex(e||40)]}getModeCountString(e,t){return this.modeIndicator+fi(e,this.getBitsCharacterCount(t))}encode(){}getStringBitsLength(){}getValue(){}}let aS={numeric:new class yle extends oS{initProperties(){super.initProperties(),Pu(this,{bitsInCharacterCount:[10,12,14],modeIndicator:"0001"})}getValue(e){return parseInt(e,10)}encode(e,t){let o,s=bH(e,3),r=this.getModeCountString(e.length,t);for(o=0;o<s.length-1;o++)r+=fi(s[o],10);return r+fi(s[o],1+3*s[o].length)}getStringBitsLength(e,t){let i=e%3;return 4+this.getBitsCharacterCount(t)+10*Math.floor(e/3)+3*i+(0===i?0:1)}},alphanumeric:new class vle extends oS{initProperties(){super.initProperties(),Pu(this,{characters:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,W:32,X:33,Y:34,Z:35," ":36,$:37,"%":38,"*":39,"+":40,"-":41,".":42,"/":43,":":44},bitsInCharacterCount:[9,11,13],modeIndicator:"0010"})}getValue(e){return this.characters[e]}encode(e,t){let r,o,i=bH(e,2),s=this.getModeCountString(e.length,t);for(o=0;o<i.length-1;o++)r=45*this.getValue(i[o].charAt(0))+this.getValue(i[o].charAt(1)),s+=fi(r,11);return r=2===i[o].length?45*this.getValue(i[o].charAt(0))+this.getValue(i[o].charAt(1)):this.getValue(i[o].charAt(0)),s+fi(r,1+5*i[o].length)}getStringBitsLength(e,t){return 4+this.getBitsCharacterCount(t)+11*Math.floor(e/2)+e%2*6}},byte:new class _le extends oS{initProperties(){super.initProperties(),Pu(this,{bitsInCharacterCount:[8,16,16],modeIndicator:"0100"})}getValue(e){let t=e.charCodeAt(0);if(t<=127||160<=t&&t<=255)return t;throw new Error(`Unsupported character in QR Code: "${e}".`)}encode(e,t){let i=this,s=i.getModeCountString(e.length,t);for(let r=0;r<e.length;r++)s+=fi(i.getValue(e.charAt(r)),8);return s}getStringBitsLength(e,t){return 4+this.getBitsCharacterCount(t)+8*e}}};class Dle extends Y{constructor(){super(),this.initProperties(),this.mode=aS[this.encodingMode]}initProperties(){Pu(this,{encodingMode:"byte",utfBOM:"111011111011101110111111",initialModeCountStringLength:20,ranges:[128,2048,65536,2097152,67108864]})}getEncodingResult(e,t){let i=this.encode(e),r=AH(this.getDataCodewordsCount(i),t),o=this.mode.getModeCountString(i.length/8,r)+i;return new xH(o,r)}getDataCodewordsCount(e){return Math.ceil((this.initialModeCountStringLength+e.length)/8)}encode(e){let t=this.utfBOM;for(let i=0;i<e.length;i++)t+=this.encodeCharacter(e.charCodeAt(i));return t}encodeCharacter(e){let t=this.getBytesCount(e),i=t-1,s="";if(1===t)s=fi(e,8);else{let r=8-t;for(let o=0;o<i;o++)s=fi(e>>6*o&63|128,8)+s;s=(e>>6*i|255>>r<<r).toString(2)+s}return s}getBytesCount(e){let t=this.ranges;for(let i=0;i<t.length;i++)if(e<t[i])return i+1}}const Cf=[{L:{groups:[[1,19]],totalDataCodewords:19,errorCodewordsPerBlock:7},M:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:10},Q:{groups:[[1,13]],totalDataCodewords:13,errorCodewordsPerBlock:13},H:{groups:[[1,9]],totalDataCodewords:9,errorCodewordsPerBlock:17}},{L:{groups:[[1,34]],totalDataCodewords:34,errorCodewordsPerBlock:10},M:{groups:[[1,28]],totalDataCodewords:28,errorCodewordsPerBlock:16},Q:{groups:[[1,22]],totalDataCodewords:22,errorCodewordsPerBlock:22},H:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:28}},{L:{groups:[[1,55]],totalDataCodewords:55,errorCodewordsPerBlock:15},M:{groups:[[1,44]],totalDataCodewords:44,errorCodewordsPerBlock:26},Q:{groups:[[2,17]],totalDataCodewords:34,errorCodewordsPerBlock:18},H:{groups:[[2,13]],totalDataCodewords:26,errorCodewordsPerBlock:22}},{L:{groups:[[1,80]],totalDataCodewords:80,errorCodewordsPerBlock:20},M:{groups:[[2,32]],totalDataCodewords:64,errorCodewordsPerBlock:18},Q:{groups:[[2,24]],totalDataCodewords:48,errorCodewordsPerBlock:26},H:{groups:[[4,9]],totalDataCodewords:36,errorCodewordsPerBlock:16}},{L:{groups:[[1,108]],totalDataCodewords:108,errorCodewordsPerBlock:26},M:{groups:[[2,43]],totalDataCodewords:86,errorCodewordsPerBlock:24},Q:{groups:[[2,15],[2,16]],totalDataCodewords:62,errorCodewordsPerBlock:18},H:{groups:[[2,11],[2,12]],totalDataCodewords:46,errorCodewordsPerBlock:22}},{L:{groups:[[2,68]],totalDataCodewords:136,errorCodewordsPerBlock:18},M:{groups:[[4,27]],totalDataCodewords:108,errorCodewordsPerBlock:16},Q:{groups:[[4,19]],totalDataCodewords:76,errorCodewordsPerBlock:24},H:{groups:[[4,15]],totalDataCodewords:60,errorCodewordsPerBlock:28}},{L:{groups:[[2,78]],totalDataCodewords:156,errorCodewordsPerBlock:20},M:{groups:[[4,31]],totalDataCodewords:124,errorCodewordsPerBlock:18},Q:{groups:[[2,14],[4,15]],totalDataCodewords:88,errorCodewordsPerBlock:18},H:{groups:[[4,13],[1,14]],totalDataCodewords:66,errorCodewordsPerBlock:26}},{L:{groups:[[2,97]],totalDataCodewords:194,errorCodewordsPerBlock:24},M:{groups:[[2,38],[2,39]],totalDataCodewords:154,errorCodewordsPerBlock:22},Q:{groups:[[4,18],[2,19]],totalDataCodewords:110,errorCodewordsPerBlock:22},H:{groups:[[4,14],[2,15]],totalDataCodewords:86,errorCodewordsPerBlock:26}},{L:{groups:[[2,116]],totalDataCodewords:232,errorCodewordsPerBlock:30},M:{groups:[[3,36],[2,37]],totalDataCodewords:182,errorCodewordsPerBlock:22},Q:{groups:[[4,16],[4,17]],totalDataCodewords:132,errorCodewordsPerBlock:20},H:{groups:[[4,12],[4,13]],totalDataCodewords:100,errorCodewordsPerBlock:24}},{L:{groups:[[2,68],[2,69]],totalDataCodewords:274,errorCodewordsPerBlock:18},M:{groups:[[4,43],[1,44]],totalDataCodewords:216,errorCodewordsPerBlock:26},Q:{groups:[[6,19],[2,20]],totalDataCodewords:154,errorCodewordsPerBlock:24},H:{groups:[[6,15],[2,16]],totalDataCodewords:122,errorCodewordsPerBlock:28}},{L:{groups:[[4,81]],totalDataCodewords:324,errorCodewordsPerBlock:20},M:{groups:[[1,50],[4,51]],totalDataCodewords:254,errorCodewordsPerBlock:30},Q:{groups:[[4,22],[4,23]],totalDataCodewords:180,errorCodewordsPerBlock:28},H:{groups:[[3,12],[8,13]],totalDataCodewords:140,errorCodewordsPerBlock:24}},{L:{groups:[[2,92],[2,93]],totalDataCodewords:370,errorCodewordsPerBlock:24},M:{groups:[[6,36],[2,37]],totalDataCodewords:290,errorCodewordsPerBlock:22},Q:{groups:[[4,20],[6,21]],totalDataCodewords:206,errorCodewordsPerBlock:26},H:{groups:[[7,14],[4,15]],totalDataCodewords:158,errorCodewordsPerBlock:28}},{L:{groups:[[4,107]],totalDataCodewords:428,errorCodewordsPerBlock:26},M:{groups:[[8,37],[1,38]],totalDataCodewords:334,errorCodewordsPerBlock:22},Q:{groups:[[8,20],[4,21]],totalDataCodewords:244,errorCodewordsPerBlock:24},H:{groups:[[12,11],[4,12]],totalDataCodewords:180,errorCodewordsPerBlock:22}},{L:{groups:[[3,115],[1,116]],totalDataCodewords:461,errorCodewordsPerBlock:30},M:{groups:[[4,40],[5,41]],totalDataCodewords:365,errorCodewordsPerBlock:24},Q:{groups:[[11,16],[5,17]],totalDataCodewords:261,errorCodewordsPerBlock:20},H:{groups:[[11,12],[5,13]],totalDataCodewords:197,errorCodewordsPerBlock:24}},{L:{groups:[[5,87],[1,88]],totalDataCodewords:523,errorCodewordsPerBlock:22},M:{groups:[[5,41],[5,42]],totalDataCodewords:415,errorCodewordsPerBlock:24},Q:{groups:[[5,24],[7,25]],totalDataCodewords:295,errorCodewordsPerBlock:30},H:{groups:[[11,12],[7,13]],totalDataCodewords:223,errorCodewordsPerBlock:24}},{L:{groups:[[5,98],[1,99]],totalDataCodewords:589,errorCodewordsPerBlock:24},M:{groups:[[7,45],[3,46]],totalDataCodewords:453,errorCodewordsPerBlock:28},Q:{groups:[[15,19],[2,20]],totalDataCodewords:325,errorCodewordsPerBlock:24},H:{groups:[[3,15],[13,16]],totalDataCodewords:253,errorCodewordsPerBlock:30}},{L:{groups:[[1,107],[5,108]],totalDataCodewords:647,errorCodewordsPerBlock:28},M:{groups:[[10,46],[1,47]],totalDataCodewords:507,errorCodewordsPerBlock:28},Q:{groups:[[1,22],[15,23]],totalDataCodewords:367,errorCodewordsPerBlock:28},H:{groups:[[2,14],[17,15]],totalDataCodewords:283,errorCodewordsPerBlock:28}},{L:{groups:[[5,120],[1,121]],totalDataCodewords:721,errorCodewordsPerBlock:30},M:{groups:[[9,43],[4,44]],totalDataCodewords:563,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[1,23]],totalDataCodewords:397,errorCodewordsPerBlock:28},H:{groups:[[2,14],[19,15]],totalDataCodewords:313,errorCodewordsPerBlock:28}},{L:{groups:[[3,113],[4,114]],totalDataCodewords:795,errorCodewordsPerBlock:28},M:{groups:[[3,44],[11,45]],totalDataCodewords:627,errorCodewordsPerBlock:26},Q:{groups:[[17,21],[4,22]],totalDataCodewords:445,errorCodewordsPerBlock:26},H:{groups:[[9,13],[16,14]],totalDataCodewords:341,errorCodewordsPerBlock:26}},{L:{groups:[[3,107],[5,108]],totalDataCodewords:861,errorCodewordsPerBlock:28},M:{groups:[[3,41],[13,42]],totalDataCodewords:669,errorCodewordsPerBlock:26},Q:{groups:[[15,24],[5,25]],totalDataCodewords:485,errorCodewordsPerBlock:30},H:{groups:[[15,15],[10,16]],totalDataCodewords:385,errorCodewordsPerBlock:28}},{L:{groups:[[4,116],[4,117]],totalDataCodewords:932,errorCodewordsPerBlock:28},M:{groups:[[17,42]],totalDataCodewords:714,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[6,23]],totalDataCodewords:512,errorCodewordsPerBlock:28},H:{groups:[[19,16],[6,17]],totalDataCodewords:406,errorCodewordsPerBlock:30}},{L:{groups:[[2,111],[7,112]],totalDataCodewords:1006,errorCodewordsPerBlock:28},M:{groups:[[17,46]],totalDataCodewords:782,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[16,25]],totalDataCodewords:568,errorCodewordsPerBlock:30},H:{groups:[[34,13]],totalDataCodewords:442,errorCodewordsPerBlock:24}},{L:{groups:[[4,121],[5,122]],totalDataCodewords:1094,errorCodewordsPerBlock:30},M:{groups:[[4,47],[14,48]],totalDataCodewords:860,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[14,25]],totalDataCodewords:614,errorCodewordsPerBlock:30},H:{groups:[[16,15],[14,16]],totalDataCodewords:464,errorCodewordsPerBlock:30}},{L:{groups:[[6,117],[4,118]],totalDataCodewords:1174,errorCodewordsPerBlock:30},M:{groups:[[6,45],[14,46]],totalDataCodewords:914,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[16,25]],totalDataCodewords:664,errorCodewordsPerBlock:30},H:{groups:[[30,16],[2,17]],totalDataCodewords:514,errorCodewordsPerBlock:30}},{L:{groups:[[8,106],[4,107]],totalDataCodewords:1276,errorCodewordsPerBlock:26},M:{groups:[[8,47],[13,48]],totalDataCodewords:1e3,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[22,25]],totalDataCodewords:718,errorCodewordsPerBlock:30},H:{groups:[[22,15],[13,16]],totalDataCodewords:538,errorCodewordsPerBlock:30}},{L:{groups:[[10,114],[2,115]],totalDataCodewords:1370,errorCodewordsPerBlock:28},M:{groups:[[19,46],[4,47]],totalDataCodewords:1062,errorCodewordsPerBlock:28},Q:{groups:[[28,22],[6,23]],totalDataCodewords:754,errorCodewordsPerBlock:28},H:{groups:[[33,16],[4,17]],totalDataCodewords:596,errorCodewordsPerBlock:30}},{L:{groups:[[8,122],[4,123]],totalDataCodewords:1468,errorCodewordsPerBlock:30},M:{groups:[[22,45],[3,46]],totalDataCodewords:1128,errorCodewordsPerBlock:28},Q:{groups:[[8,23],[26,24]],totalDataCodewords:808,errorCodewordsPerBlock:30},H:{groups:[[12,15],[28,16]],totalDataCodewords:628,errorCodewordsPerBlock:30}},{L:{groups:[[3,117],[10,118]],totalDataCodewords:1531,errorCodewordsPerBlock:30},M:{groups:[[3,45],[23,46]],totalDataCodewords:1193,errorCodewordsPerBlock:28},Q:{groups:[[4,24],[31,25]],totalDataCodewords:871,errorCodewordsPerBlock:30},H:{groups:[[11,15],[31,16]],totalDataCodewords:661,errorCodewordsPerBlock:30}},{L:{groups:[[7,116],[7,117]],totalDataCodewords:1631,errorCodewordsPerBlock:30},M:{groups:[[21,45],[7,46]],totalDataCodewords:1267,errorCodewordsPerBlock:28},Q:{groups:[[1,23],[37,24]],totalDataCodewords:911,errorCodewordsPerBlock:30},H:{groups:[[19,15],[26,16]],totalDataCodewords:701,errorCodewordsPerBlock:30}},{L:{groups:[[5,115],[10,116]],totalDataCodewords:1735,errorCodewordsPerBlock:30},M:{groups:[[19,47],[10,48]],totalDataCodewords:1373,errorCodewordsPerBlock:28},Q:{groups:[[15,24],[25,25]],totalDataCodewords:985,errorCodewordsPerBlock:30},H:{groups:[[23,15],[25,16]],totalDataCodewords:745,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[3,116]],totalDataCodewords:1843,errorCodewordsPerBlock:30},M:{groups:[[2,46],[29,47]],totalDataCodewords:1455,errorCodewordsPerBlock:28},Q:{groups:[[42,24],[1,25]],totalDataCodewords:1033,errorCodewordsPerBlock:30},H:{groups:[[23,15],[28,16]],totalDataCodewords:793,errorCodewordsPerBlock:30}},{L:{groups:[[17,115]],totalDataCodewords:1955,errorCodewordsPerBlock:30},M:{groups:[[10,46],[23,47]],totalDataCodewords:1541,errorCodewordsPerBlock:28},Q:{groups:[[10,24],[35,25]],totalDataCodewords:1115,errorCodewordsPerBlock:30},H:{groups:[[19,15],[35,16]],totalDataCodewords:845,errorCodewordsPerBlock:30}},{L:{groups:[[17,115],[1,116]],totalDataCodewords:2071,errorCodewordsPerBlock:30},M:{groups:[[14,46],[21,47]],totalDataCodewords:1631,errorCodewordsPerBlock:28},Q:{groups:[[29,24],[19,25]],totalDataCodewords:1171,errorCodewordsPerBlock:30},H:{groups:[[11,15],[46,16]],totalDataCodewords:901,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[6,116]],totalDataCodewords:2191,errorCodewordsPerBlock:30},M:{groups:[[14,46],[23,47]],totalDataCodewords:1725,errorCodewordsPerBlock:28},Q:{groups:[[44,24],[7,25]],totalDataCodewords:1231,errorCodewordsPerBlock:30},H:{groups:[[59,16],[1,17]],totalDataCodewords:961,errorCodewordsPerBlock:30}},{L:{groups:[[12,121],[7,122]],totalDataCodewords:2306,errorCodewordsPerBlock:30},M:{groups:[[12,47],[26,48]],totalDataCodewords:1812,errorCodewordsPerBlock:28},Q:{groups:[[39,24],[14,25]],totalDataCodewords:1286,errorCodewordsPerBlock:30},H:{groups:[[22,15],[41,16]],totalDataCodewords:986,errorCodewordsPerBlock:30}},{L:{groups:[[6,121],[14,122]],totalDataCodewords:2434,errorCodewordsPerBlock:30},M:{groups:[[6,47],[34,48]],totalDataCodewords:1914,errorCodewordsPerBlock:28},Q:{groups:[[46,24],[10,25]],totalDataCodewords:1354,errorCodewordsPerBlock:30},H:{groups:[[2,15],[64,16]],totalDataCodewords:1054,errorCodewordsPerBlock:30}},{L:{groups:[[17,122],[4,123]],totalDataCodewords:2566,errorCodewordsPerBlock:30},M:{groups:[[29,46],[14,47]],totalDataCodewords:1992,errorCodewordsPerBlock:28},Q:{groups:[[49,24],[10,25]],totalDataCodewords:1426,errorCodewordsPerBlock:30},H:{groups:[[24,15],[46,16]],totalDataCodewords:1096,errorCodewordsPerBlock:30}},{L:{groups:[[4,122],[18,123]],totalDataCodewords:2702,errorCodewordsPerBlock:30},M:{groups:[[13,46],[32,47]],totalDataCodewords:2102,errorCodewordsPerBlock:28},Q:{groups:[[48,24],[14,25]],totalDataCodewords:1502,errorCodewordsPerBlock:30},H:{groups:[[42,15],[32,16]],totalDataCodewords:1142,errorCodewordsPerBlock:30}},{L:{groups:[[20,117],[4,118]],totalDataCodewords:2812,errorCodewordsPerBlock:30},M:{groups:[[40,47],[7,48]],totalDataCodewords:2216,errorCodewordsPerBlock:28},Q:{groups:[[43,24],[22,25]],totalDataCodewords:1582,errorCodewordsPerBlock:30},H:{groups:[[10,15],[67,16]],totalDataCodewords:1222,errorCodewordsPerBlock:30}},{L:{groups:[[19,118],[6,119]],totalDataCodewords:2956,errorCodewordsPerBlock:30},M:{groups:[[18,47],[31,48]],totalDataCodewords:2334,errorCodewordsPerBlock:28},Q:{groups:[[34,24],[34,25]],totalDataCodewords:1666,errorCodewordsPerBlock:30},H:{groups:[[20,15],[61,16]],totalDataCodewords:1276,errorCodewordsPerBlock:30}}];let CH="alphanumeric",lS={1:0},fa={0:1},Mle={15:20,16:20,18:24,19:24,22:20,24:22,26:24,28:20,30:20,31:24,32:28,33:24,36:18,37:22,39:20,40:24},cS=[1,0,1,1,1],Ele=[1,0,1],Ale={L:"01",M:"00",Q:"11",H:"10"},Rle=["11101100","00010001"],uS=[(n,e)=>(n+e)%2==0,(n,e)=>n%2==0,(n,e)=>e%3==0,(n,e)=>(n+e)%3==0,(n,e)=>(Math.floor(n/2)+Math.floor(e/3))%2==0,(n,e)=>n*e%2+n*e%3==0,(n,e)=>(n*e%2+n*e%3)%2==0,(n,e)=>((n+e)%2+n*e%3)%2==0],Nle=/^\d+/,DH="A-Z0-9 $%*+./:-",Lle=new RegExp("^[A-Z $%*+./:-]+"),SH=new RegExp("^["+DH+"]+"),TH=new RegExp("^[^"+DH+"]+");const hS=[[1,0],[1,25,0]];function ni(n,e,t,i){for(let s=0;s<n.length;s++)n[s][t][i]=e}function MH(n,e,t,i){for(let s=0;s<uS.length;s++)n[s][t][i]=uS[s](t,i)?1^e:parseInt(e,10)}function qle(n,e){let t=[];for(let s=n.length-2;s>=0;s--)t[s]=n[s]^e[s];return t}function Kle(n,e){let t=[];for(let i=0;i<n.length;i++)for(let s=0;s<e.length;s++)t[i+s]=void 0===t[i+s]?(n[i]+(e[s]>=0?e[s]:0))%255:lS[fa[t[i+s]]^fa[(n[i]+e[s])%255]];return t}function Zle(n,e){let t=[],i=n.length-1;do{t[i]=fa[(n[i]+e)%255],i--}while(void 0!==n[i]);return t}function Xle(n,e){let a,l,t=hS[e-1],i=new Array(e).concat(n),s=new Array(i.length-t.length).concat(t),r=n.length,o=[];for(l=0;l<r;l++)a=Zle(s,lS[i[i.length-1]]),s.splice(0,1),i=qle(a,i);for(l=i.length-1;l>=0;l--)o[e-1-l]=fi(i[l],8);return o}function EH(n,e,t,i,s){let h,d,r=Nle.exec(n),o=r?r[0]:"",a=Lle.exec(n),l=a?a[0]:"",c=SH.exec(n),u=c?c[0]:"";return o&&(o.length>=e||n.length===o.length||o.length>=t&&!SH.test(n.charAt(o.length)))?(h="numeric",d=o):u&&(n.length===u.length||u.length>=i||s===CH)?(h=CH,d=o||l):(h="byte",d=u?u+TH.exec(n.substring(u.length))[0]:TH.exec(n)[0]),{mode:h,modeString:d}}function AH(n,e){let t=0,i=Cf.length-1,s=Math.floor(Cf.length/2);do{n<Cf[s][e].totalDataCodewords?i=s:t=s,s=t+Math.floor((i-t)/2)}while(i-t>1);return n<=Cf[t][e].totalDataCodewords?s+1:i+1}function IH(n,e,t){let i=Yy(e),s=e.length-1,r=n<<s,a=fi(n,t-s),l=function ice(n,e){let t=e.toString(2).length,i=n.toString(2).length,s=n;do{s^=e<<i-t,i=s.toString(2).length}while(i>=t);return s}(r,i);return l=a+fi(l,s),l}function Df(n,e){return parseInt(n.charAt(e),10)}function kH(n,e){let i,s,t=n[0],r=0,o=e.length;for(i=0,s=8;i<=8;i++)6!==i&&ni(n,Df(e,o-1-r++),i,s);for(i=8,s=7;s>=0;s--)6!==s&&ni(n,Df(e,o-1-r++),i,s);for(r=0,s=t.length-1,i=8;s>=t.length-8;s--)ni(n,Df(e,o-1-r++),i,s);for(ni(n,1,t.length-8,8),i=t.length-7,s=8;i<t.length;i++)ni(n,Df(e,o-1-r++),i,s)}function PH(n,e){let l,c,u,i=n[0].length,r=i-11,o=i-11;for(let h=0;h<e.length;h++)l=Math.floor(h/3),c=h%3,u=Df(e,e.length-h-1),ni(n,u,0+l,r+c),ni(n,u,o+c,0+l)}function Zy(n,e,t,i){let o,s=e.length+2,r=e.length+1;for(let a=0;a<e.length;a++)for(let l=a;l<s-a;l++)o=e[a],ni(n,o,t+l,i+a),ni(n,o,t+a,i+l),ni(n,o,t+r-l,i+r-a),ni(n,o,t+r-a,i+r-l)}function dS(n,e,t,i){let s=t,r=i,o=n[0];do{ni(n,0,s,i),ni(n,0,t,r),s+=e[0],r+=e[1]}while(s>=0&&s<o.length)}function RH(n,e,t,i,s){e[n][i]=(e[n][i]<<1^s)%128,93===e[n][i]&&(t[n]+=40)}function OH(n,e,t,i,s,r){t[n][r]===i?s[n][r]++:(t[n][r]=i,s[n][r]>=5&&(e[n]+=3+s[n][r]-5),s[n][r]=1)}function uce(n,e){let t=Math.floor(n/e*100),i=t%5,s=Math.abs(t-i-50),r=Math.abs(t+5-i-50);return 10*Math.min(s/5,r/5)}(function Wle(){let n,e;for(e=1;e<255;e++)n=2*fa[e-1],n>255&&(n^=285),fa[e]=n,lS[n]=e;n=2*fa[e-1]^285,fa[e]=n,fa[-1]=0})(),function Yle(){for(let e=2;e<=68;e++)hS[e]=Kle(hS[e-1],[e,0])}();const Sf=Math.round,fce=[[0,1],[1,1],[1,2],[2,2],[2,1],[3,1],[3,0],[2,0],[2,-1],[1,-1],[1,0]],NH=[[0,1],[1,1],[1,0]];B(class pce extends Y{constructor(e,t,i=YF){super(),this.options=C({},this.options,t),this.element=e,this.wrapper=this.element,this.onError=i,this._initElement(),this._initSurface(),this.setOptions(t)}destroy(){this._destroySurface()}_initElement(){Jn(this.element,"k-qrcode")}_initSurface(){const{options:e,surface:t}=this;(!t||t.options.type!==e.renderAs)&&(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())}_createSurface(){return gf.create(this.surfaceElement,{type:this.options.renderAs})}_destroySurface(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())}_initSurfaceElement(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.surfaceElement.style.position="relative",this.element.appendChild(this.surfaceElement))}_destroySurfaceElement(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)}redraw(){let e=this._getSize();this.surface.clear(),this.surface.setSize({width:e,height:e}),this.createVisual(),this.surface.draw(this.visual)}getSize(){const e=this.element,t=e.clientWidth,i=e.clientHeight,s={width:0,height:0};return t>0&&(s.width=t),i&&(s.height=i),s}_resize(){this.redraw()}createVisual(){this.visual=this._render()}exportVisual(){return this._render()}_render(){let t,o,a,l,c,u,e=this._value,i=this.options.border||{},s=this.options.padding||0,r=i.width||0;i.width=r;let h=new pt;try{e&&(a=function dce(n,e,t){let i=function hce(n){return n&&n.toLowerCase().indexOf("utf_8")>=0?new Dle:new mle}(t),s=i.getEncodingResult(n,e),r=s.version,o=Cf[r-1][e],a=function $le(n,e){let t=8*e,i=0,s=0,r=n;for(;r.length<t&&i<"0000".length;)r+="0000".charAt(i++);for(r.length%8!=0&&(r+=new Array(9-r.length%8).join("0"));r.length<t;)r+=Rle[s],s^=1;return r}(s.dataString,o.totalDataCodewords),l=function Qle(n,e){let r,a,l,c,u,t=0,i=[],s=[],o=e.groups;for(let h=0;h<o.length;h++){l=o[h][0];for(let d=0;d<l;d++){a=o[h][1],r=[],c=[];for(let f=1;f<=a;f++)u=n.substring(t,t+8),r.push(u),c[a-f]=Yy(u),t+=8;i.push(r),s.push(Xle(c,e.errorCodewordsPerBlock))}}return[i,s]}(a,o),c=function sce(n){let e=[],t=17+4*n;for(let i=0;i<uS.length;i++){e[i]=new Array(t);for(let s=0;s<t;s++)e[i][s]=new Array(t)}return e}(r);(function oce(n){let e=n[0].length;Zy(n,cS,0,0),dS(n,[-1,-1],7,7),Zy(n,cS,e-7,0),dS(n,[1,-1],e-8,7),Zy(n,cS,0,e-7),dS(n,[-1,1],7,e-8)})(c),function ace(n,e){if(e<2)return;let o,a,t=n[0],i=t.length,s=Math.floor(e/7),r=[6],l=0;for((o=Mle[e])?a=(i-13-o)/s:o=a=(i-13)/(s+1),r.push(r[l++]+o);r[l]+a<i;)r.push(r[l++]+a);for(let c=0;c<r.length;c++)for(let u=0;u<r.length;u++)void 0===t[r[c]][r[u]]&&Zy(n,Ele,r[c]-2,r[u]-2)}(c,r),function lce(n){let i=1,s=n[0].length;for(let r=8;r<s-8;r++)ni(n,i,6,r),ni(n,i,r,6),i^=1}(c),r>=7&&PH(c,fi(0,18)),kH(c,fi(0,15)),function Gle(n,e){let i,s,r,t=new gle(n[0]);for(let o=0;o<e.length;o++)for(i=e[o],s=0;i.length>0;){for(let a=0;a<i.length;a++)for(let l=0;l<8;l++)r=t.getNextCell(),MH(n,i[a][s].charAt(l),r.row,r.column);for(s++;i[0]&&s===i[0].length;)i.splice(0,1)}for(;r=t.getNextRemainderCell();)MH(n,0,r.row,r.column)}(c,l);let u=function cce(n){let o,a,e=[],t=[],i=[],s=[],r=[],u=n[0].length;for(a=0;a<n.length;a++)e[a]=0,i[a]=0,r[a]=[0,0],s[a]=[0,0],t[a]=[];for(let p=0;p<u;p++)for(let g=0;g<u;g++)for(let y=0;y<n.length;y++)o=n[y],i[y]+=parseInt(o[p][g],10),t[y][0]===o[p][g]&&p+1<u&&g-1>=0&&o[p+1][g]===t[y][0]&&o[p+1][g-1]===t[y][0]&&(e[y]+=3),RH(y,s,e,0,o[p][g]),RH(y,s,e,1,o[g][p]),OH(y,e,t,o[p][g],r,0),OH(y,e,t,o[g][p],r,1);let d,h=u*u,f=Number.MAX_VALUE;for(a=0;a<e.length;a++)e[a]+=uce(i[a],h),e[a]<f&&(f=e[a],d=a);return d}(c),h=c[u];return r>=7&&PH([h],function rce(n){return IH(n,"1111100100101",18)}(r)),kH([h],function nce(n){let t,i="";if(0===Yy(n))return"101010000010010";t=IH(Yy(n),"10100110111",15);for(let s=0;s<t.length;s++)i+=t.charAt(s)^"101010000010010".charAt(s);return i}(Ale[e]+fi(u,3))),h}(e,this.options.errorCorrection,this.options.encoding),l=this._getSize(),u=l-2*(r+s),t=this._calculateBaseUnit(u,a.length),c=a.length*t,o=r+s+(u-c)/2,h.append(this._renderBackground(l,i)),h.append(this._renderMatrix(a,t,o)),this._hasCustomLogo()?h.append(this._renderLogo(l,t)):this._isSwiss()&&h.append(this._renderSwissCode(l,t)))}catch(d){this.onError(d)}return h}_renderLogo(e,t){let i,s,r=Sf(e/2),o=this._getLogoSize(7*t),a=this.options.overlay.imageUrl,l={x:r-o.width/2,y:r-o.height/2};return s=new Be(new L(l.x,l.y),new dl(o.width,o.height)),i=new RV(a,s),i}_renderSwissCode(e,t){let i=this._getLogoSize(7*t);i=Math.max(i.width,i.height);let s=i/4,r=s/2,o=e/2,a={},l=new pt;return a.x=a.y=Math.ceil(o-t-i/2),l.append(this._renderShape(a,Math.ceil(i+2*t),NH,"#fff")),a.x=a.y=o-i/2,l.append(this._renderShape(a,i,NH,this.options.color)),a.x=o+r-i/2,a.y=o+r+s-i/2,l.append(this._renderShape(a,s,fce,"#fff")),l}_renderShape(e,t,i,s){let r=new fr({fill:{color:s},stroke:null});r.moveTo(e.x,e.y);for(let o=0;o<i.length;o++)r.lineTo(e.x+t*i[o][0],e.y+t*i[o][1]);return r.close(),r}_getSize(){let e;if(this.options.size)e=parseInt(this.options.size,10);else{const i=_H(this.element,this.options.renderAs),s=Math.min(i.width,i.height);e=s>0?s:200}return e}_calculateBaseUnit(e,t){let i=Math.floor(e/t);if(i<1){const s=Math.ceil(1*t);this.onError(new Error(`Insufficient size for QR Code: the current size is ${e}px and the minimum size is ${s}px.`))}else i*t>=e&&i-1>=1&&i--;return i}_renderMatrix(e,t,i){let s=new fr({fill:{color:this.options.color},stroke:null});for(let r=0;r<e.length;r++){let o=i+r*t,a=0;for(;a<e.length;){for(;0===e[r][a]&&a<e.length;)a++;if(a<e.length){let l=a;for(;1===e[r][a];)a++;let c=Sf(i+l*t),u=Sf(o),h=Sf(i+a*t),d=Sf(o+t);s.moveTo(c,u).lineTo(c,d).lineTo(h,d).lineTo(h,u).close()}}}return s}_renderBackground(e,t){const i=new z(0,0,e,e).unpad(t.width/2);return ae.fromRect(i.toRect(),{fill:{color:this.options.background},stroke:{color:t.color,width:t.width}})}setOptions(e){this.options=Pu(this.options,e||{}),void 0!==e.value&&(this._value=String(this.options.value)),this._initSurface(),this.redraw()}value(e){if(void 0===e)return this._value;this._value=String(e),this.redraw()}_hasCustomLogo(){return Boolean(this.options.overlay.imageUrl)}_isSwiss(){return"swiss"===this.options.overlay.type}_getLogoSize(e){let t=this.options.overlay.width,i=this.options.overlay.height;return t||i?t&&!i?i=t:!t&&i&&(t=i):t=i=e,{width:t,height:i}}},{name:"QRCode",renderAs:"svg",encoding:"ISO_8859_1",value:"",errorCorrection:"L",background:"#fff",color:"#000",size:"",padding:0,border:{color:"",width:0},overlay:{type:"image",imageUrl:"",width:0,height:0}});const fS={WGS84:{a:6378137,b:6356752.314245179,f:.0033528106647474805,e:.08181919084262149}};function _r(n){return n*n}let pa=Math,mce=pa.abs,FH=pa.atan,Xy=pa.atan2,ga=pa.cos,yo=pa.sin,LH=pa.tan;class vt extends Y{constructor(e,t){super(),this.initProperties(),1===arguments.length?(this.lat=e[0],this.lng=e[1]):(this.lat=e,this.lng=t)}initProperties(){C(this,{DISTANCE_ITERATIONS:100,DISTANCE_CONVERGENCE:1e-12,DISTANCE_PRECISION:2,FORMAT:"{0:N6}{1:N6}"})}toArray(){return[this.lat,this.lng]}equals(e){return e&&e.lat===this.lat&&e.lng===this.lng}clone(){return new vt(this.lat,this.lng)}round(e){return this.lng=H(this.lng,e),this.lat=H(this.lat,e),this}wrap(){return this.lng=this.lng%180,this.lat=this.lat%90,this}distanceTo(e,t){return this.greatCircleTo(e,t).distance}destination(e,t,i){let s=Yt(t),r=i||fS.WGS84,o=Yt(this.lat),a=Yt(this.lng),l=e/r.a,c=pa.asin(yo(o)*ga(l)+ga(o)*yo(l)*ga(s)),u=a+Xy(yo(s)*yo(l)*ga(o),ga(l)-yo(o)*yo(c));return new vt(Xo(c),Xo(u))}greatCircleTo(e,t){let i=vt.create(i),s=t||fS.WGS84;if(!i||this.clone().round(8).equals(i.clone().round(8)))return{distance:0,azimuthFrom:0,azimuthTo:0};let y,D,E,V,q,re,Me,gt,r=s.a,o=s.b,a=s.f,l=Yt(i.lng-this.lng),c=FH((1-a)*LH(Yt(this.lat))),u=yo(c),h=ga(c),d=FH((1-a)*LH(Yt(i.lat))),f=yo(d),p=ga(d),g=l,b=this.DISTANCE_ITERATIONS,w=!1;for(;!w&&b-- >0;){D=yo(g),E=ga(g),V=pa.sqrt(_r(p*D)+_r(h*f-u*p*E)),re=u*f+h*p*E,gt=Xy(V,re);let G=h*p*D/V;q=1-_r(G),Me=0,0!==q&&(Me=re-2*u*f/q),y=g;let te=a/16*q*(4+a*(4-3*q));g=l+(1-te)*a*G*(gt+te*V*(Me+te*re*(2*_r(Me)-1))),w=mce(g-y)<=this.DISTANCE_CONVERGENCE}let Ne=q*(_r(r)-_r(o))/_r(o),hn=1+Ne/16384*(4096+Ne*(Ne*(320-175*Ne)-768)),Zt=Ne/1024*(256+Ne*(Ne*(74-47*Ne)-128)),Cn=Zt*V*(Me+Zt/4*(re*(2*_r(Me)-1)-Zt/6*Me*(4*_r(V)-3)*(4*_r(Me)-3))),Gs=Xy(p*D,h*f-u*p*E),wr=Xy(h*D,-u*p+h*f*E);return{distance:H(o*hn*(gt-Cn),this.DISTANCE_PRECISION),azimuthFrom:Xo(Gs),azimuthTo:Xo(wr)}}toString(){return String(this.lat)+","+String(this.lng)}static fromLngLat(e){return new vt(e[1],e[0])}static fromLatLng(e){return new vt(e[0],e[1])}static create(e,t){if(N(e))return e instanceof vt?e.clone():1===arguments.length&&2===e.length?vt.fromLatLng(e):new vt(e,t)}}let ma=Math,pS=ma.atan,BH=ma.exp,VH=ma.pow,HH=ma.sin,zH=ma.log,UH=ma.tan,jH=L,Qy=ma.PI,gS=Qy/2,GH=Qy/4,yce=Qy/180,vce=fS.WGS84;class mS extends Y{constructor(e){super(),this.initProperties(),this._initOptions(e)}_initOptions(e){this.options=C({},this.options,e)}initProperties(){C(this,{MAX_LNG:180,MAX_LAT:85.0840590501,INVERSE_ITERATIONS:15,INVERSE_CONVERGENCE:1e-12})}forward(e,t){let i=this,s=i.options,o=s.datum.a,a=s.centralMeridian,l=ie(e.lat,-i.MAX_LAT,i.MAX_LAT),c=t?ie(e.lng,-i.MAX_LNG,i.MAX_LNG):e.lng,u=Yt(c-a)*o,h=i._projectLat(l);return new jH(u,h)}_projectLat(e){let t=this.options.datum,i=t.e,s=t.a,r=Yt(e),o=UH(GH+r/2),a=i*HH(r),l=VH((1-a)/(1+a),i/2);return s*zH(o*l)}inverse(e,t){let i=this,s=i.options,l=e.x/(yce*s.datum.a)+s.centralMeridian,c=ie(i._inverseY(e.y),-i.MAX_LAT,i.MAX_LAT);return t&&(l=ie(l,-i.MAX_LNG,i.MAX_LNG)),new vt(c,l)}_inverseY(e){let c,t=this,i=t.options.datum,r=i.e,o=r/2,a=BH(-e/i.a),l=gS-2*pS(a);for(c=0;c<=t.INVERSE_ITERATIONS;c++){let u=r*HH(l),h=VH((1-u)/(1+u),o),d=gS-2*pS(a*h)-l;if(l+=d,ma.abs(d)<=t.INVERSE_CONVERGENCE)break}return Xo(l)}}B(mS,{centralMeridian:0,datum:vce});class _ce extends mS{initProperties(){super.initProperties(),C(this,{MAX_LAT:85.0511287798})}_projectLat(e){let t=this.options.datum.a,i=Yt(e),s=UH(GH+i/2);return t*zH(s)}_inverseY(e){let i=BH(-e/this.options.datum.a);return Xo(gS-2*pS(i))}}class xce extends Y{constructor(){super();let t=this._proj=new _ce,i=this.c=2*Qy*t.options.datum.a;this._tm=Xe().translate(.5,.5).scale(1/i,-1/i),this._itm=Xe().scale(i,-i).translate(-.5,-.5)}toPoint(e,t,i){return this._proj.forward(e,i).transform(this._tm).scale(t||1)}toLocation(e,t,i){let s=e.clone().scale(1/(t||1)).transform(this._itm);return this._proj.inverse(s,i)}}const $H=Object.defineProperty;let Ru=n=>{const e=document.createElement("div");return e.innerHTML=n,e.firstChild},Tf=n=>{for(;n.firstChild;)n.removeChild(n.firstChild)},WH=(n,e)=>{e.insertBefore(n,e.firstChild)},qH=n=>n.replace(/([a-z][A-Z])/g,function(t){return t.charAt(0)+"-"+t.charAt(1).toLowerCase()}),KH=n=>{let e;return e=n&&String(n).endsWith("px")?n:String(n)+"px",e};const YH=n=>{let t,e=!1,i=[],s={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.?(\d+(\.\d+)?)?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},r={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},o={tablet:/playbook|ipad|fire/i},a={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(let l in s)if(s.hasOwnProperty(l)&&(i=n.match(s[l]),i)){if("windows"===l&&"plugins"in navigator)return!1;e={},e.device=l,e.tablet=yS(l,o,!1),e.browser=yS(n,a,"default"),e.name=yS(l,r),e[e.name]=!0,e.majorVersion=i[2],e.minorVersion=(i[3]||"0").replace("_","."),t=e.minorVersion.replace(".","").substr(0,2),e.flatVersion=e.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0");break}return e};function yS(n,e,t){for(let i in e)if(e.hasOwnProperty(i)&&e[i].test(n))return i;return void 0!==t?t:n}let vS=()=>{let n={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};const e=Tl();return e.touch&&(e.mobileOS.ios||e.mobileOS.android)?n={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:e.pointers?n={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:e.msPointers&&(n={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),n};const Tl=()=>{const n=YH(navigator.userAgent),e=(n=>{let e=!1,t=[],i={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome|crios)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(let s in i)if(i.hasOwnProperty(s)&&(t=n.match(i[s]),t)){e={},e[s]=!0,e[t[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,e.version=parseInt(document.documentMode||t[2],10);break}return e})(navigator.userAgent);let t=e.chrome,i=e.crios,s=e.mozilla,r=e.safari;const o={};o.mobileOS=n,o.touch="ontouchstart"in window,o.pointers=!t&&!i&&!s&&!r&&window.PointerEvent,o.msPointers=!t&&window.MSPointerEvent,o.mouseAndTouchPresent=o.touch&&!(o.mobileOS.ios||o.mobileOS.android),o.eventCapture=document.documentElement.addEventListener;let a=document.createElement("table"),l=o.transitions=!1,c=o.transforms=!1;const u="string";return["Moz","webkit","O","ms"].forEach(function(h){let d=typeof a.style[h+"Transition"]===u;if(d||typeof a.style[h+"Transform"]===u){let f=h.toLowerCase();return c={css:"ms"!==f?"-"+f+"-":"",prefix:h,event:"o"===f||"webkit"===f?f:""},d&&(l=c,l.event=l.event?l.event+"TransitionEnd":"transitionend"),!1}}),a=null,o.transforms=c,o.transitions=l,o.delayedClick=function(){if(o.touch){if(o.mobileOS.ios)return!0;if(o.mobileOS.android){if(!o.browser.chrome)return!0;if(o.browser.version<32)return!1;const h=document.querySelector("meta[name=viewport]");return!(h?h.getAttribute("content"):"").match(/user-scalable=no/i)}}return!1},o},dt=(n,e)=>n.bind(e),ii=(n,e,t,i,s)=>{Ace(n,e,t,i,s)},Ace=(n,e,t,i,s)=>{(_n(e)?e:(e||"").split(" ")).forEach(function(o){Ice(n,o,t,i,s)})},Ice=(n,e,t,i,s)=>{let o,r=i;t&&Ct(t)&&!i?r=t:t&&function Ece(n){return"string"==typeof n}(t)&&Ct(r)&&(o=t),n.addEventListener(e,function(a){const l=a.target?a.target.closest(o):null;(!o||o&&a.target&&l)&&($H(a,"currentTarget",{value:o?l:a.currentTarget}),$H(a,"delegateTarget",{value:n}),r(a))},Boolean(s))},pi=(n,e,t,i,s)=>{kce(n,e,t,i,s)},kce=(n,e,t,i)=>{(_n(e)?e:(e||"").split(" ")).forEach(function(r){Pce(n,r,t,i)})},Pce=(n,e,t,i)=>{n.removeEventListener(e,t,Boolean(i))},ss=n=>{const e=vS(navigator);return n.replace(/([^ ]+)/g,function t(r){return e[r]||r})},Jy=(n,e)=>{const t=n.prototype;t.events?e.forEach(i=>{t.events.indexOf(i)<0&&t.events.push(i)}):t.events=e},vo=()=>Number(new Date),ZH=()=>{},QH="function";let Oce=function(){this._defaultPrevented=!0},Nce=function(){return!0===this._defaultPrevented};class Us extends Y{constructor(){super(),this._events={}}destroy(){this.unbind()}bind(e,t,i){let r,a,l,c,h,s=this,o="string"==typeof e?[e]:e||[],u=typeof t===QH;if(void 0===t){for(r in e)s.bind(r,e[r]);return s}for(r=0,a=o.length;r<a;r++){let d=o[r];c=u?t:t[d],c&&(i&&(l=c,c=function(){s.unbind(d,c),l.apply(s,arguments)},c.original=l),h=s._events[d]=s._events[d]||[],h.push(c))}return s}one(e,t){return this.bind(e,t,!0)}first(e,t){let s,o,a,c,i=this,r="string"==typeof e?[e]:e,l=typeof t===QH;for(s=0,o=r.length;s<o;s++){let u=r[s];a=l?t:t[u],a&&(c=i._events[u]=i._events[u]||[],c.unshift(a))}return i}trigger(e,t){let r,o,i=this,s=i._events[e];if(s){let a=t||{};for(a.sender=i,a._defaultPrevented=!1,a.preventDefault=Oce,a.isDefaultPrevented=Nce,s=s.slice(),r=0,o=s.length;r<o;r++)s[r].call(i,a);return!0===a._defaultPrevented}return!1}unbind(e,t){let r,i=this,s=i._events[e];if(void 0===e)i._events={};else if(s)if(t)for(r=s.length-1;r>=0;r--)(s[r]===t||s[r].original===t)&&s.splice(r,1);else i._events[e]=[];return i}_setEvents(e){const t=(this.events||[]).length;for(let i=0;i<t;i++){let s=this.events[i];this.options[s]&&e[s]&&(this.unbind(s,this.options[s]),this._events&&this._events[s]&&delete this._events[s])}this.bind(this.events,e)}}class JH extends Us{constructor(e,t){super(),this.element=e,this._initOptions(t),this.items=[],Jn(this.element,"k-widget k-attribution")}_initOptions(e){this.options=C({},this.options,e)}filter(e,t){this._extent=e,this._zoom=t,this._render()}add(e){let t=e;N(e)&&("string"==typeof e&&(t={text:e}),this.items.push(t),this._render())}remove(e){let t=[];for(let i=0;i<this.items.length;i++){let s=this.items[i];s.text!==e&&t.push(s)}this.items=t,this._render()}clear(){this.items=[],Tf(this.element)}_render(){let e=[];for(let t=0;t<this.items.length;t++){let s=this._itemText(this.items[t]);""!==s&&e.push(s)}e.length>0?(Tf(this.element),((n,e)=>{const t=document.createElement("div");for(t.innerHTML=n;t.childNodes.length>0;)e.appendChild(t.childNodes[0])})(e.join(this.options.separator),this.element),this.showElement()):this.hideElement()}hideElement(){this.element.style.display="none"}showElement(){this.element.style.display=""}_itemText(e){let t="",i=this._inZoomLevel(e.minZoom,e.maxZoom),s=this._inArea(e.extent);return i&&s&&(t+=e.text),t}_inZoomLevel(e,t){let i=!0,s=ge(e,-Number.MAX_VALUE),r=ge(t,Number.MAX_VALUE);return i=this._zoom>s&&this._zoom<r,i}_inArea(e){let t=!0;return e&&(t=e.contains(this._extent)),t}}B(JH,{name:"Attribution",separator:"&nbsp;|&nbsp;"});const tz={up:{className:"k-navigator-n",iconClass:"k-i-arrow-n"},down:{className:"k-navigator-s",iconClass:"k-i-arrow-s"},right:{className:"k-navigator-e",iconClass:"k-i-arrow-e"},left:{className:"k-navigator-w",iconClass:"k-i-arrow-w"}};function ev(n){return Ru('<button class="k-button k-button-square k-rounded-full k-button-flat k-button-flat-base k-icon-button '+tz[n].className+'" aria-label="move '+n+'"><span class="k-icon '+tz[n].iconClass+'" /></button>')}class _S extends Us{constructor(e,t){super(),this.element=e,this._initOptions(t);const i=ev("up"),s=ev("right"),r=ev("down"),o=ev("left");this.element.appendChild(i),this.element.appendChild(s),this.element.appendChild(r),this.element.appendChild(o),Jn(this.element,"k-widget k-navigator"),ii(this.element,"click",".k-button",dt(this._click,this));let a=this.element.parentNode.closest("[data-role]");this._keyroot=a||this.element,this._tabindex(this._keyroot),this._keydownHandler=dt(this._keydown,this),ii(this._keyroot,"keydown",this._keydownHandler)}destroy(){this.dispose()}dispose(){pi(this._keyroot,"keydown",this._keydownHandler)}_tabindex(e){const t=e||this.wrapper||this.element;let i=this.element,s="tabindex",r=t.getAttribute(s)||i.getAttribute(s);i.removeAttribute(s),t.setAttribute(s,isNaN(r)?0:r)}_initOptions(e){this.options=C({},this.options,e)}_pan(e,t){let i=this.options.panStep;this.trigger("pan",{x:e*i,y:t*i})}_click(e){let t=0,i=0,s=e.currentTarget;s.matches(".k-navigator-n")?i=1:s.matches(".k-navigator-s")?i=-1:s.matches(".k-navigator-e")?t=1:s.matches(".k-navigator-w")&&(t=-1),this._pan(t,i),e.preventDefault()}_keydown(e){switch(e.which){case 38:this._pan(0,1),e.preventDefault();break;case 40:this._pan(0,-1),e.preventDefault();break;case 39:this._pan(1,0),e.preventDefault();break;case 37:this._pan(-1,0),e.preventDefault()}}}function nz(n,e){return Ru('<button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-zoom-'+n+'" title="zoom-'+n+'" aria-label="zoom-'+n+'"><span class="k-icon '+e+'"></span></button>')}B(_S,{name:"Navigator",panStep:1}),Jy(_S,["pan"]);class bS extends Us{constructor(e,t){super(),this.element=e,this._initOptions(t);const i=nz("in","k-i-plus"),s=nz("out","k-i-minus");this.element.appendChild(i),this.element.appendChild(s),Jn(this.element,"k-widget k-zoom-control k-button-group k-group-horizontal"),this._clickHandler=this._click.bind(this),ii(this.element,"click",".k-button",this._clickHandler);let r=this.element.parentNode.closest("[data-role]");this._keyroot=r||this.element,this._tabindex(this._keyroot),this._keydownHandler=this._keydown.bind(this),ii(this._keyroot,"keydown",this._keydownHandler)}destroy(){this.element&&pi(this.element,"click",this._clickHandler),this._keyroot&&pi(this._keyroot,"keydown",this._keydownHandler)}_tabindex(e){const t=e||this.wrapper||this.element;let i=this.element,s="tabindex",r=t.getAttribute(s)||i.getAttribute(s);i.removeAttribute(s),t.setAttribute(s,isNaN(r)?0:r)}_initOptions(e){this.options=C({},this.options,e)}_change(e){this.trigger("change",{delta:e*this.options.zoomStep})}_click(e){let i=1;Ad(e.currentTarget,"k-zoom-out")&&(i=-1),this._change(i),e.preventDefault()}_keydown(e){switch(e.which){case 107:case 187:case 61:this._change(1);break;case 109:case 189:case 173:this._change(-1)}}}B(bS,{name:"ZoomControl",zoomStep:1}),Jy(bS,["change"]);let sz=Math,rz=sz.max,oz=sz.min;class _o extends Y{constructor(e,t){super();let i=vt.create(e),s=vt.create(t);i.lng+180>s.lng+180&&i.lat+90<s.lat+90?(this.se=i,this.nw=s):(this.se=s,this.nw=i)}contains(e){let t=this.nw,i=this.se,s=ge(e.lng,e[1]),r=ge(e.lat,e[0]);return e&&s+180>=t.lng+180&&s+180<=i.lng+180&&r+90>=i.lat+90&&r+90<=t.lat+90}center(){let e=this.nw,t=this.se;return new vt(e.lat+(t.lat-e.lat)/2,e.lng+(t.lng-e.lng)/2)}containsAny(e){let t=!1;for(let i=0;i<e.length;i++)t=t||this.contains(e[i]);return t}include(e){let t=this.nw,i=this.se,s=ge(e.lng,e[1]),r=ge(e.lat,e[0]);t.lng=oz(t.lng,s),t.lat=rz(t.lat,r),i.lng=rz(i.lng,s),i.lat=oz(i.lat,r)}includeAll(e){for(let t=0;t<e.length;t++)this.include(e[t])}edges(){let e=this.nw,t=this.se;return{nw:this.nw,ne:new vt(e.lat,t.lng),se:this.se,sw:new vt(t.lat,e.lng)}}toArray(){let e=this.nw,t=this.se;return[e,new vt(e.lat,t.lng),t,new vt(t.lat,e.lng)]}overlaps(e){return this.containsAny(e.toArray())||e.containsAny(this.toArray())}static create(e,t){return e instanceof _o?e:e&&t?new _o(e,t):e&&4===e.length&&!t?new _o([e[0],e[1]],[e[2],e[3]]):void 0}static get World(){return new _o([90,-180],[-90,180])}}class az extends Y{constructor(e,t){super(),this.widgetService=e,this.options=C({},this.options,t),this.offset={x:0,y:0}}show(e,t){this.location!==t.location&&(this.anchor=e,this.location=t.location,this.widgetService.notify("showTooltip",Object.assign({anchor:this.anchor},t)),this.visible=!0)}hide(){this.widgetService&&this.widgetService.notify("hideTooltip"),this.visible=!1,this.location=null}get anchor(){return this._anchor}set anchor(e){const t=this.widgetService.widget._toDocumentCoordinates({x:e.left-this.offset.x,y:e.top-this.offset.y});this._anchor={left:t.left,top:t.top}}destroy(){this.widgetService=null}}B(az,{border:{width:1},opacity:1});class xS extends Y{constructor(e,t){super(),this.support=Tl(),this._initOptions(t),this.map=e;let i=document.createElement("div");Jn(i,"k-layer"),i.style.zIndex=this.options.zIndex,i.style.opacity=this.options.opacity,this.element=i,e.scrollElement.appendChild(this.element),this._beforeReset=this._beforeReset.bind(this),this._reset=this._reset.bind(this),this._resize=this._resize.bind(this),this._panEnd=this._panEnd.bind(this),this._activate(),this._updateAttribution()}destroy(){this._deactivate()}_initOptions(e){this.options=C({},this.options,e)}show(){this.reset(),this._activate(),this._applyExtent(!0)}hide(){this._deactivate(),this._setVisibility(!1)}reset(){this._beforeReset(),this._reset()}_reset(){this._applyExtent()}_beforeReset(){}_resize(){}_panEnd(){this._applyExtent()}_applyExtent(){let e=this.options,t=this.map.zoom(),i=!N(e.minZoom)||t>=e.minZoom,s=!N(e.maxZoom)||t<=e.maxZoom,r=_o.create(e.extent),o=!r||r.overlaps(this.map.extent());this._setVisibility(i&&s&&o)}_setVisibility(e){this.element.style.display=e?"":"none"}_activate(){let e=this.map;this._deactivate(),e.bind("beforeReset",this._beforeReset),e.bind("reset",this._reset),e.bind("resize",this._resize),e.bind("panEnd",this._panEnd)}_deactivate(){let e=this.map;e.unbind("beforeReset",this._beforeReset),e.unbind("reset",this._reset),e.unbind("resize",this._resize),e.unbind("panEnd",this._panEnd)}_updateAttribution(){const e=this.map.attribution;e&&e.add(this.options.attribution)}_readData(){return this.options.data||[]}_hasData(){return this._data&&this._data.length>0}_layerIndex(){return(this.map.layers||[]).indexOf(this)}}let ya=Math,wS=L;function lz(n){return Ct(n)?n:wF.compile(n)}function cz(n){let e=n;return"string"!=typeof n&&(e+="px"),e}class uz extends xS{constructor(e,t){super(e,t),"string"==typeof this.options.subdomains&&(this.options.subdomains=this.options.subdomains.split(""));let i=this._viewType();this._view=new i(this.element,this.options)}destroy(){super.destroy(),this._view.destroy(),this._view=null}_beforeReset(){let e=this.map,t=e.locationToLayer(e.extent().nw).round();this._view.viewOrigin(t)}_reset(){super._reset(),this._updateView(),this._view.reset()}_viewType(){return jce}_activate(){super._activate(),this.support.mobileOS||(this._pan||(this._pan=dD(this._render.bind(this),100)),this.map.bind("pan",this._pan))}_deactivate(){super._deactivate(),this._pan&&this.map.unbind("pan",this._pan)}_updateView(){let e=this._view,t=this.map,i=t.extent(),s={nw:t.locationToLayer(i.nw).round(),se:t.locationToLayer(i.se).round()};e.center(t.locationToLayer(t.center())),e.extent(s),e.zoom(t.zoom())}_resize(){this._render()}_panEnd(e){super._panEnd(e),this._render()}_render(){this._updateView(),this._view.render()}}B(uz,{tileSize:256,subdomains:["a","b","c"],urlTemplate:"",zIndex:1});class jce extends Y{constructor(e,t){super(),this.element=e,this._initOptions(t),this.pool=new dz}_initOptions(e){this.options=C({},this.options,e)}center(e){this._center=e}extent(e){this._extent=e}viewOrigin(e){this._viewOrigin=e}zoom(e){this._zoom=e}pointToTileIndex(e){return new wS(ya.floor(e.x/this.options.tileSize),ya.floor(e.y/this.options.tileSize))}tileCount(){let e=this.size(),t=this.pointToTileIndex(this._extent.nw),i=this._extent.nw,s=this.indexToPoint(t).translate(-i.x,-i.y);return{x:ya.ceil((ya.abs(s.x)+e.width)/this.options.tileSize),y:ya.ceil((ya.abs(s.y)+e.height)/this.options.tileSize)}}size(){let e=this._extent.nw,i=this._extent.se.clone().translate(-e.x,-e.y);return{width:i.x,height:i.y}}indexToPoint(e){return new wS(e.x*this.options.tileSize,e.y*this.options.tileSize)}subdomainText(){let e=this.options.subdomains;return e[this.subdomainIndex++%e.length]}destroy(){Tf(this.element),this.pool.empty()}reset(){this.pool.reset(),this.subdomainIndex=0,this.render()}render(){let i,s,r,e=this.tileCount(),t=this.pointToTileIndex(this._extent.nw);for(s=0;s<e.x;s++)for(r=0;r<e.y;r++)i=this.createTile({x:t.x+s,y:t.y+r}),i.visible||i.show()}createTile(e){let t=this.tileOptions(e),i=this.pool.get(this._center,t);return i.element.parentNode||this.element.append(i.element),i}tileOptions(e){let t=this.wrapIndex(e),i=this.indexToPoint(e),s=this._viewOrigin,r=i.clone().translate(-s.x,-s.y);return{index:t,currentIndex:e,point:i,offset:(n=r,new wS(H(n.x),H(n.y))),zoom:this._zoom,size:this.options.tileSize,subdomain:this.subdomainText(),urlTemplate:this.options.urlTemplate,errorUrlTemplate:this.options.errorUrlTemplate};var n}wrapIndex(e){let t=ya.pow(2,this._zoom);return{x:this.wrapValue(e.x,t),y:ie(e.y,0,t-1)}}wrapValue(e,t){let i=ya.abs(e)%t,s=e;return s=e>=0?i:t-(0===i?t:i),s}}class hz extends Y{constructor(e,t){super(),this.id=e,this.visible=!0,this._initOptions(t),this.createElement(),this.show()}destroy(){const e=this.element,t=e?e.parentNode:null;e&&(t&&t.removeChild(e),this.element=null)}_initOptions(e){this.options=C({},this.options,e)}createElement(){let e=document.createElement("img");const t=this.options.size+"px";e.style.position="absolute",e.style.display="block",e.style.width=e.style.maxWidth=t,e.style.height=e.style.maxHeight=t,this.element=e}show(){let e=this.element;e.style.top=cz(this.options.offset.y),e.style.left=cz(this.options.offset.x);let t=this.url();t&&e.setAttribute("src",t),e.style.visibility="visible",this.visible=!0}hide(){this.element.style.visibility="hidden",this.visible=!1}url(){return lz(this.options.urlTemplate)(this.urlOptions())}errorUrl(){return lz(this.options.errorUrlTemplate)(this.urlOptions())}urlOptions(){let e=this.options;return{zoom:e.zoom,subdomain:e.subdomain,z:e.zoom,x:e.index.x,y:e.index.y,s:e.subdomain,quadkey:e.quadkey,q:e.quadkey,culture:e.culture,c:e.culture}}}B(hz,{urlTemplate:"",errorUrlTemplate:""});class dz extends Y{constructor(){super(),this._items=[]}get(e,t){return this._items.length>=this.options.maxSize&&this._remove(e),this._create(t)}empty(){let e=this._items;for(let t=0;t<e.length;t++)e[t].destroy();this._items=[]}reset(){let e=this._items;for(let t=0;t<e.length;t++)e[t].hide()}_create(e){let i,t=this._items,s=Oee(e.point.toString()+e.offset.toString()+e.zoom+e.urlTemplate);for(let r=0;r<t.length;r++)if(t[r].id===s){i=t[r];break}return i?i.show():(i=new hz(s,e),this._items.push(i)),i}_remove(e){let t=this._items,i=-1,s=-1;for(let r=0;r<t.length;r++){let o=t[r].options.point.distanceTo(e);o>i&&!t[r].visible&&(s=r,i=o)}-1!==s&&(t[s].destroy(),t.splice(s,1))}}B(dz,{maxSize:100});const Ml=Object.assign,Mf="change";class Gce extends Us{constructor(e,t){super();let i=this,s=e[0]||e;i.capture=!1;const r=vS(navigator);s.addEventListener?(r.down.split(" ").forEach(function(o){s.addEventListener(o,dt(i._press,i),!0)}),r.up.split(" ").forEach(function(o){s.addEventListener(o,dt(i._release,i),!0)})):(r.down.split(" ").forEach(function(o){s.attachEvent(o,dt(i._press,i))}),r.up.split(" ").forEach(function(o){s.attachEvent(o,dt(i._release,i))})),i.bind(["press","release"],t||{})}captureNext(){this.capture=!0}cancelCapture(){this.capture=!1}_press(e){this.trigger("press"),this.capture&&e.preventDefault()}_release(e){let t=this;t.trigger("release"),t.capture&&(e.preventDefault(),t.cancelCapture())}}class fz extends Us{constructor(e){super();let t=this;t.forcedEnabled=!1,Ml(t,e),t.scale=1,t.horizontal?(t.measure="offsetWidth",t.scrollSize="scrollWidth",t.axis="x"):(t.measure="offsetHeight",t.scrollSize="scrollHeight",t.axis="y")}makeVirtual(){Ml(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})}virtualSize(e,t){(this._virtualMin!==e||this._virtualMax!==t)&&(this._virtualMin=e,this._virtualMax=t,this.update())}outOfBounds(e){return e>this.max||e<this.min}forceEnabled(){this.forcedEnabled=!0}getSize(){return this.container[this.measure]}getTotal(){return this.element[this.scrollSize]}rescale(e){this.scale=e}update(e){let t=this,i=t.virtual?t._virtualMax:t.getTotal(),s=i*t.scale,r=t.getSize();0===i&&!t.forcedEnabled||(t.max=t.virtual?-t._virtualMin:0,t.size=r,t.total=s,t.min=Math.min(t.max,r-s),t.minScale=r/i,t.centerOffset=(s-r)/2,t.enabled=t.forcedEnabled||s>r,e||t.trigger(Mf,t))}}class $ce extends Us{constructor(e){super();let t=this;t.x=new fz(Ml({horizontal:!0},e)),t.y=new fz(Ml({horizontal:!1},e)),t.container=e.container,t.forcedMinScale=e.minScale,t.maxScale=e.maxScale||100,t.bind(Mf,e)}rescale(e){this.x.rescale(e),this.y.rescale(e),this.refresh()}centerCoordinates(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}}refresh(){let e=this;e.x.update(),e.y.update(),e.enabled=e.x.enabled||e.y.enabled,e.minScale=e.forcedMinScale||Math.min(e.x.minScale,e.y.minScale),e.fitScale=Math.max(e.x.minScale,e.y.minScale),e.trigger(Mf)}}class pz extends Us{constructor(e){super(),Ml(this,e)}outOfBounds(){return this.dimension.outOfBounds(this.movable[this.axis])}dragMove(e){let t=this,i=t.dimension,s=t.axis,r=t.movable,o=r[s]+e;if(!i.enabled)return;let a=e;(o<i.min&&e<0||o>i.max&&e>0)&&(a*=t.resistance),r.translateAxis(s,a),t.trigger(Mf,t)}}class Wce extends Y{constructor(e){super();let i,s,r,o,t=this;Ml(t,{elastic:!0},e),r=t.elastic?.5:0,o=t.movable,t.x=i=new pz({axis:"x",dimension:t.dimensions.x,resistance:r,movable:o}),t.y=s=new pz({axis:"y",dimension:t.dimensions.y,resistance:r,movable:o}),t.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart(a){t.gesture=a,t.offset=lu(t.dimensions.container)},press(a){const l=a.event.target.closest("a");l&&l.matches("[data-navigate-on-press=true]")&&a.sender.cancel()},gesturechange(a){let p,l=t.gesture,c=l.center,u=a.center,h=a.distance/l.distance,f=t.dimensions.maxScale;o.scale<=t.dimensions.minScale&&h<1&&(h+=.8*(1-h)),o.scale*h>=f&&(h=f/o.scale);let g=o.x+t.offset.left,y=o.y+t.offset.top;p={x:(g-c.x)*h+u.x-g,y:(y-c.y)*h+u.y-y},o.scaleWith(h),i.dragMove(p.x),s.dragMove(p.y),t.dimensions.rescale(o.scale),t.gesture=a,a.preventDefault()},move(a){a.event.target.tagName.match(/textarea|input/i)||(i.dimension.enabled||s.dimension.enabled?(i.dragMove(a.x.delta),s.dragMove(a.y.delta),a.preventDefault()):a.touch.skip())},end(a){a.preventDefault()}})}}let gz=function(n,e,t){return"translate3d("+n+"px,"+e+"px,0) scale("+t+")"};class CS extends Us{constructor(e){super();let t=this;t.support=Tl(),this.transformStyle=this.support.transitions.prefix+"Transform",t.element=e,t.element.style.webkitTransformOrigin="left top",t.x=0,t.y=0,t.scale=1;const i=gz(t.x,t.y,t.scale);t.element.style[this.transformStyle]=i,t._saveCoordinates(i)}translateAxis(e,t){this[e]+=t,this.refresh()}scaleTo(e){this.scale=e,this.refresh()}scaleWith(e){this.scale*=e,this.refresh()}translate(e){this.x+=e.x,this.y+=e.y,this.refresh()}moveAxis(e,t){this[e]=t,this.refresh()}moveTo(e){Ml(this,e),this.refresh()}refresh(){let s,e=this,t=e.x,i=e.y;e.round&&(t=Math.round(t),i=Math.round(i)),s=gz(t,i,e.scale),s!==e.coordinates&&(e.element.style[this.transformStyle]=s,e._saveCoordinates(s),e.trigger(Mf))}_saveCoordinates(e){this.coordinates=e}}const DS=pt;class SS extends xS{constructor(e,t){super(e,t),this._pan=dt(this._pan,this),this.surface=gf.create(this.element,{width:e.scrollElement.clientWidth,height:e.scrollElement.clientHeight}),this._initRoot(),this.movable=new CS(this.surface.element),this._markers=[],this._click=this._handler("shapeClick"),this.surface.bind("click",this._click),this._mouseleave=this._handler("shapeMouseLeave"),this.surface.bind("mouseleave",this._mouseleave),this.surface.bind("mouseenter",this._mouseenter.bind(this))}destroy(){super.destroy(),this.surface.destroy()}_reset(){super._reset(),this._translateSurface(),this._data=this._readData(),this._hasData()&&this._load(this._data)}_initRoot(){this._root=new DS,this.surface.draw(this._root)}_beforeReset(){this.surface.clear(),this._initRoot()}_resize(){this.surface.size(this.map.size())}_readData(){const e=super._readData();return"FeatureCollection"===e.type?e.features:"GeometryCollection"===e.type?e.geometries:e}_load(e){this._data=e,this._clearMarkers(),this._loader||(this._loader=new qce(this.map,this.options.style,this));let t=new DS;for(let i=0;i<e.length;i++){let s=this._loader.parse(e[i]);s&&t.append(s)}this._root.clear(),this._root.append(t)}shapeCreated(e){let t=!1;return e instanceof eo&&this.map.options.renderPointsAsMarkers&&(t=N(this._createMarker(e))),t||(t=this.map.trigger("shapeCreated",{layer:this,shape:e})),t}featureCreated(e){e.layer=this,this.map.trigger("shapeFeatureCreated",e)}_createMarker(e){let t=this.map.markers.bind({location:e.location},e.dataItem);return t&&this._markers.push(t),t}_clearMarkers(){for(let e=0;e<this._markers.length;e++)this.map.markers.remove(this._markers[e]);this._markers=[]}_pan(){this._panning||(this._panning=!0,this.surface.suspendTracking())}_panEnd(e){super._panEnd(e),this._translateSurface(),this.surface.resumeTracking(),this._panning=!1}_translateSurface(){let e=this.map,t=e.locationToView(e.extent().nw);this.surface.translate&&(this.surface.translate(t),this.movable.moveTo({x:t.x,y:t.y}))}_eventArgs(e){return{layer:this,layerIndex:this._layerIndex(),shape:e.element,shapeIndex:(this._data||[]).indexOf(e.element.dataItem),originalEvent:e.originalEvent}}_handler(e){return t=>{t.element&&this.map.trigger(e,this._eventArgs(t))}}_mouseenter(e){if(!e.element)return;this.map.trigger("shapeMouseEnter",this._eventArgs(e));const t=e.element,i=this._tooltipAnchor(e);this.map._tooltip.show(i,this._tooltipContext(t))}_tooltipContext(e){return{type:"shape",layerIndex:this._layerIndex,className:"k-map-shape-tooltip",dataItem:e.dataItem,location:e.location}}_tooltipAnchor(e){const t=this.map.eventOffset(e.originalEvent);return{top:t.y,left:t.x}}_activate(){super._activate(),this._panHandler=dt(this._pan,this),this.map.bind("pan",this.panHandler)}_deactivate(){super._deactivate(),this.map.unbind("pan",this._panHandler)}}B(SS,{autoBind:!0,zIndex:100});class qce extends Y{constructor(e,t,i){super(),this.observer=i,this.locator=e,this.style=t}parse(e){let t=new DS,i=!0;return"Feature"===e.type?(i=!1,this._loadGeometryTo(t,e.geometry,e),this._featureCreated(t,e)):this._loadGeometryTo(t,e,e),i&&t.children.length<2&&(t=t.children[0]),t}_shapeCreated(e){let t=!1;return this.observer&&this.observer.shapeCreated&&(t=this.observer.shapeCreated(e)),t}_featureCreated(e,t){this.observer&&this.observer.featureCreated&&this.observer.featureCreated({group:e,dataItem:t,properties:t.properties})}_loadGeometryTo(e,t,i){let r,o,s=t.coordinates;switch(t.type){case"LineString":o=this._loadPolygon(e,[s],i),this._setLineFill(o);break;case"MultiLineString":for(r=0;r<s.length;r++)o=this._loadPolygon(e,[s[r]],i),this._setLineFill(o);break;case"Polygon":this._loadPolygon(e,s,i);break;case"MultiPolygon":for(r=0;r<s.length;r++)this._loadPolygon(e,s[r],i);break;case"Point":this._loadPoint(e,s,i);break;case"MultiPoint":for(r=0;r<s.length;r++)this._loadPoint(e,s[r],i)}}_setLineFill(e){let t=e.segments;(t.length<4||!t[0].anchor().equals(Nt(t).anchor()))&&(e.options.fill=null)}_loadShape(e,t){return this._shapeCreated(t)||e.append(t),t}_loadPolygon(e,t,i){let s=this._buildPolygon(t);return s.dataItem=i,s.location=this.locator.viewToLocation(s.bbox().center()),this._loadShape(e,s)}_buildPolygon(e){let i=new(e.length>1?fr:ae)(this.style);for(let s=0;s<e.length;s++)for(let r=0;r<e[s].length;r++){let o=this.locator.locationToView(vt.fromLngLat(e[s][r]));0===r?i.moveTo(o.x,o.y):i.lineTo(o.x,o.y)}return i}_loadPoint(e,t,i){let s=vt.fromLngLat(t),r=this.locator.locationToView(s),o=new ts(r,10),a=new eo(o,this.style);return a.dataItem=i,a.location=s,this._loadShape(e,a)}}class mz extends SS{_readData(){return this.options.data||[]}_load(e){if(this._data=e,this.surface.clear(),0===e.length)return;let t=this.options,i=Zr(t.valueField),s=e.slice(0);s.sort(function(l,c){return i(c)-i(l)});let o,r=this._scaleType(),a=Zr(this.options.locationField);for(let l=0;l<s.length;l++){let c=s[l],u=a(c),h=i(c);if(N(u)&&N(h)){o||(o=new r([0,h],[t.minSize,t.maxSize])),u=vt.create(u);let d=this.map.locationToView(u),f=o.map(h),p=this._createSymbol({center:d,size:f,style:t.style,dataItem:c,location:u});p.dataItem=c,p.location=u,p.value=h,this._drawSymbol(p)}}}_scaleType(){let e=this.options.scale;return Ct(e)?e:Yce[e]}_createSymbol(e){let t=this.options.symbol;return Ct(t)||(t=Zce[t]),t(e)}_drawSymbol(e){this.map.trigger("shapeCreated",{layer:this,shape:e})||this.surface.draw(e)}_tooltipContext(e){return{type:"bubble",layerIndex:this._layerIndex(),className:"k-map-bubble-tooltip",dataItem:e.dataItem,location:e.location,value:e.value}}_tooltipAnchor(e){const i=e.element.bbox().center();return{top:i.y,left:i.x}}}B(mz,{locationField:"location",valueField:"value",minSize:0,maxSize:100,scale:"sqrt",symbol:"circle",zIndex:200});let Yce={sqrt:class Kce extends Y{constructor(e,t){super(),this._domain=e,this._range=t;let i=Math.sqrt(e[1])-Math.sqrt(e[0]);this._ratio=(t[1]-t[0])/i}map(e){let t=(Math.sqrt(e)-Math.sqrt(this._domain[0]))*this._ratio;return this._range[0]+t}}},Zce={circle:function(n){let e=new ts(n.center,n.size/2);return new eo(e,n.style)},square:function(n){let e=new ae(n.style),t=n.size/2,i=n.center;return e.moveTo(i.x-t,i.y-t).lineTo(i.x+t,i.y-t).lineTo(i.x+t,i.y+t).lineTo(i.x-t,i.y+t).close(),e}};const vz="mouseenter",_z="mouseleave",Xce=Object.assign,TS=".k-marker";class MS extends xS{constructor(e,t){super(e,t),this._markerClickHandler=dt(this._markerClick,this),ii(this.element,"click",TS,this._markerClickHandler),this.items=[],this._load(this._readData())}destroy(){super.destroy(),pi(this.element,"click",this._markerClickHandler),this.clear()}add(e){if(!_n(e))return this._addOne(e);for(let t=0;t<e.length;t++)this._addOne(e[t])}remove(e){e.destroy();let t=(this.items||[]).indexOf(e);t>-1&&this.items.splice(t,1)}clear(){for(let e=0;e<this.items.length;e++)this.items[e].destroy();this.items=[]}update(e){let t=e.location();t&&(e.showAt(this.map.locationToView(t)),this.map.trigger("markerActivate",{marker:e,layer:this}))}_reset(){super._reset();let e=this.items;for(let t=0;t<e.length;t++)this.update(e[t])}bind(e,t){let i=Ef.create(e,this.options);if(i.dataItem=t,!this.map.trigger("markerCreated",{marker:i,layer:this}))return this.add(i),i}_addOne(e){let t=Ef.create(e,this.options);return t.addTo(this),t}_readData(){return this.options.data||[]}_load(e){this._data=e,this.clear();let t=Zr(this.options.locationField),i=Zr(this.options.titleField);for(let s=0;s<e.length;s++){let r=e[s];this.bind({location:t(r),title:i(r)},r)}}_markerClick(e){const t=e.target._kendoNode;let i={layer:this,layerIndex:this._layerIndex(),marker:t,markerIndex:(this.items||[]).indexOf(t),originalEvent:e};this.map.trigger("markerClick",i)}_markerMouseEnter(e){const t=this._createMarkerEventArgs(e);this.map.trigger("markerMouseEnter",t)}_markerMouseLeave(e){const t=this._createMarkerEventArgs(e);this.map.trigger("markerMouseLeave",t)}_createMarkerEventArgs(e){const t=e.marker;return Xce({},{layer:this,layerIndex:this._layerIndex(),marker:t,markerIndex:(this.items||[]).indexOf(t)},e)}}B(MS,{zIndex:1e3,autoBind:!0,locationField:"location",titleField:"title"});class Ef extends Y{constructor(e){super(),this.options=e||{}}destroy(){this.layer=null,this.unbindEvents(),this.hide()}addTo(e){this.layer=e.markers||e,this.layer.items.push(this),this.layer.update(this)}location(e){return e?(this.options.location=vt.create(e).toArray(),this.layer&&this.layer.update(this),this):vt.create(this.options.location)}showAt(e){this.render(),this._anchor={left:Math.round(e.x),top:Math.round(e.y)},this.element.style.left=KH(this._anchor.left),this.element.style.top=KH(this._anchor.top)}hide(){this.element&&(this.element.remove(),this.element=null)}bindEvents(){!this.element||(this._mouseEnterHandler=dt(this._mouseEnter,this),ii(this.element,vz,TS,this._mouseEnterHandler),this._mouseLeaveHandler=dt(this._mouseLeave,this),ii(this.element,_z,TS,this._mouseLeaveHandler))}unbindEvents(){!this.element||(pi(this.element,vz,this._mouseEnterHandler),pi(this.element,_z,this._mouseLeaveHandler))}render(){if(!this.element){let e=this.options,t=this.layer;const i=document.createElement("span");Jn(i,"k-marker k-icon k-i-marker-"+qH(e.shape||"pin")),e.title&&i.setAttribute("title",e.title);const s=e.attributes||{};Object.keys(s).forEach(function(r){i.setAttribute(r,s[r])}),i._kendoNode=this,i.style.zIndex=e.zIndex,this.element=i,t&&t.element.appendChild(this.element),this.bindEvents()}}_mouseEnter(e){const t=this._createEventArgs(e);this.layer._markerMouseEnter(t),this.layer.map._tooltip.show({top:this._anchor.top-this.element.offsetHeight,left:this._anchor.left},this._tooltipContext())}_tooltipContext(){return{type:"marker",layerIndex:this.layer._layerIndex(),className:"k-map-marker-tooltip",dataItem:this.dataItem,title:this.options.title,location:this.location()}}_mouseLeave(e){const t=this._createEventArgs(e);this.layer._markerMouseLeave(t)}_createEventArgs(e){return{marker:this,originalEvent:e}}static create(e,t){return e instanceof Ef?e:new Ef(C({},t,e))}}const Qce=Object.assign;function bz(n){window.requestAnimationFrame(n)}class tv extends Y{constructor(){super();let e=this;e._tickProxy=dt(e._tick,e),e._started=!1}tick(){}done(){}onEnd(){}onCancel(){}start(){!this.enabled()||(this.done()?this.onEnd():(this._started=!0,bz(this._tickProxy)))}enabled(){return!0}cancel(){this._started=!1,this.onCancel()}_tick(){let e=this;!e._started||(e.tick(),e.done()?(e._started=!1,e.onEnd()):bz(e._tickProxy))}}class xz extends tv{constructor(e){super(),Qce(this,e)}done(){return this.timePassed()>=this.duration}timePassed(){return Math.min(this.duration,vo()-this.startDate)}moveTo(e){let t=this;t.initial=t.movable[t.axis],t.delta=e.location-t.initial,t.duration="number"==typeof e.duration?e.duration:300,t.tick=t._easeProxy(e.ease),t.startDate=vo(),t.start()}_easeProxy(e){let t=this;return function(){t.movable.moveAxis(t.axis,e(t.timePassed(),t.initial,t.delta,t.duration))}}static easeOutExpo(e,t,i,s){return e===s?t+i:i*(1-Math.pow(2,-10*e/s))+t}}const nv=Object.assign,Jce=n=>{n.preventDefault()};let wz=800,Cz=0,ES="move",iv="tap",Az="doubleTap",Iz="release",kz="gesturechange",Pz="gestureend",Rz="gesturetap",nue={api:0,touch:0,mouse:9,pointer:9};function Oz(n){const e=Tl();let o,a,l,t=[],i=n.originalEvent||n,s=n.currentTarget,r=0;if(n.api)t.push({id:2,event:n,target:n.target,currentTarget:n.target,location:n,type:"api"});else if(n.type.match(/touch/))for(a=i?i.changedTouches:[],o=a.length;r<o;r++)l=a[r],t.push({location:l,event:n,target:l.target,currentTarget:s,id:l.identifier,type:"touch"});else t.push(e.pointers||e.msPointers?{location:i,event:n,target:n.target,currentTarget:s,id:i.pointerId,type:"pointer"}:{id:1,event:n,target:n.target,currentTarget:s,location:n,type:"mouse"});return t}class Nz extends Y{constructor(e,t){super();let i=this;i.support=Tl(),i.invalidZeroEvents=this.support.mobileOS&&this.support.mobileOS.android,i.axis=e,i._updateLocationData(t),i.startLocation=i.location,i.velocity=i.delta=0,i.timeStamp=vo()}move(e){let t=this,i=e["page"+t.axis],s=vo(),r=s-t.timeStamp||1;!i&&this.invalidZeroEvents||(t.delta=i-t.location,t._updateLocationData(e),t.initialDelta=i-t.startLocation,t.velocity=t.delta/r,t.timeStamp=s)}_updateLocationData(e){let t=this,i=t.axis;t.location=e["page"+i],t.client=e["client"+i],t.screen=e["screen"+i]}}class sue extends Y{constructor(e,t,i){super(),nv(this,{x:new Nz("X",i.location),y:new Nz("Y",i.location),type:i.type,useClickAsTap:e.useClickAsTap,threshold:e.threshold||nue[i.type],userEvents:e,target:t,currentTarget:i.currentTarget,initialTouch:i.target,id:i.id,pressEvent:i,_clicks:e._clicks,supportDoubleTap:e.supportDoubleTap,_moved:!1,_finished:!1})}press(){this._holdTimeout=setTimeout(dt(this._hold,this),this.userEvents.minHold),this._trigger("press",this.pressEvent)}_tap(e){let t=this;t.userEvents._clicks++,1===t.userEvents._clicks&&(t._clickTimeout=setTimeout(function(){t._trigger(1===t.userEvents._clicks?iv:Az,e),t.userEvents._clicks=0},300))}_hold(){this._trigger("hold",this.pressEvent)}move(e){let t=this;if(!(t._finished||"api"!==e.type&&t.userEvents._shouldNotMove)){if(t.x.move(e.location),t.y.move(e.location),!t._moved){if(t._withinIgnoreThreshold())return;if(Ou.current&&Ou.current!==t.userEvents)return t.dispose();t._start(e)}t._finished||t._trigger(ES,e)}}end(e){this.endTime=vo(),!this._finished&&(this._finished=!0,this._trigger(Iz,e),this._moved?this._trigger("end",e):this.useClickAsTap||(this.supportDoubleTap?this._tap(e):this._trigger(iv,e)),clearTimeout(this._holdTimeout),this.dispose())}dispose(){let t=this.userEvents.touches||[];this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout);const i=t.indexOf(this);t.splice(i,1)}skip(){this.dispose()}cancel(){this.dispose()}isMoved(){return this._moved}_start(e){clearTimeout(this._holdTimeout),this.startTime=vo(),this._moved=!0,this._trigger("start",e)}_trigger(e,t){let i=this,s=t.event;i.userEvents.notify(e,{touch:i,x:i.x,y:i.y,target:i.target,event:s})&&s.preventDefault()}_withinIgnoreThreshold(){let e=this.x.initialDelta,t=this.y.initialDelta;return Math.sqrt(e*e+t*t)<=this.threshold}}function Fz(n){let t=vS(navigator).up.split(" "),i=0,s=t.length;for(;i<s;i++)n(t[i])}class Ou extends Us{constructor(e,t){super();let s,i=this;const r=Tl();if(this.support=r,this.options=t=t||{},s=i.filter=t.filter,i.threshold=t.threshold||Cz,i.minHold=t.minHold||wz,i.touches=[],i._maxTouches=t.multiTouch?2:1,i.allowSelection=t.allowSelection,i.captureUpIfMoved=t.captureUpIfMoved,i.useClickAsTap=!t.fastTap&&!r.delayedClick(),i._clicks=0,i.supportDoubleTap=t.supportDoubleTap,nv(i,{element:e,surface:!t.global||r.touch&&!r.mouseAndTouchPresent?t.surface||e:e.ownerDocument.documentElement,stopPropagation:t.stopPropagation,pressed:!1}),this._surfaceMoveHandler=dt(this._move,this),ii(i.surface,ss("move"),this._surfaceMoveHandler),this._surfaceEndHandler=dt(this._end,this),ii(i.surface,ss("up cancel"),this._surfaceEndHandler),this._elementStartHandler=dt(this._start,this),ii(e,ss("down"),s,this._elementStartHandler),i.useClickAsTap&&(this._elementClickHandler=dt(this._click,this),ii(e,ss("click"),s,this._elementClickHandler)),r.pointers||r.msPointers)if(r.browser.version<11){let a="pinch-zoom double-tap-zoom";e.style["-ms-touch-action"]=t.touchAction&&"none"!==t.touchAction?a+" "+t.touchAction:a}else e.style["touch-action"]=t.touchAction||"none";if(t.preventDragEvent&&(this._elementDragStartHandler=Jce,ii(e,ss("dragstart"),this._elementDragStartHandler)),this._elementSelectHandler=dt(this._select,this),ii(e,ss("mousedown"),s,this._elementSelectHandler),i.captureUpIfMoved&&r.eventCapture){let a=i.surface,l=dt(i.preventIfMoving,i);Fz(function(c){a.addEventListener(c,l,!0)})}i.bind(["press","hold",iv,Az,"start",ES,"end",Iz,"cancel","gesturestart",kz,Pz,Rz,"select"],t)}preventIfMoving(e){this._isMoved()&&e.preventDefault()}destroy(){let e=this;const t=this.options,i=this.element;if(!e._destroyed){if(e._destroyed=!0,e.captureUpIfMoved&&this.support.eventCapture){let s=e.surface;Fz(function(r){s.removeEventListener(r,e.preventIfMoving)})}pi(e.surface,ss("move"),this._surfaceMoveHandler),pi(e.surface,ss("up cancel"),this._surfaceEndHandler),pi(i,ss("down"),this._elementStartHandler),e.useClickAsTap&&pi(i,ss("click"),this._elementClickHandler),t.preventDragEvent&&pi(i,ss("dragstart"),this._elementDragStartHandler),pi(i,ss("mousedown"),this._elementSelectHandler),e._disposeAll(),e.unbind(),delete e.surface,delete e.element,delete e.currentTarget}}capture(){Ou.current=this}cancel(){this._disposeAll(),this.trigger("cancel")}notify(e,t){let s=this.touches,r=e;if(this._isMultiTouch()){switch(r){case ES:r=kz;break;case"end":r=Pz;break;case iv:r=Rz}nv(t,{touches:s},function iue(n,e){let t=n.x.location,i=n.y.location,s=e.x.location,r=e.y.location,o=t-s,a=i-r;return{center:{x:(t+s)/2,y:(i+r)/2},distance:Math.sqrt(o*o+a*a)}}(s[0],s[1]))}return this.trigger(r,nv(t,{type:r}))}press(e,t,i){this._apiCall("_start",e,t,i)}move(e,t){this._apiCall("_move",e,t)}end(e,t){this._apiCall("_end",e,t)}_isMultiTouch(){return this.touches.length>1}_maxTouchesReached(){return this.touches.length>=this._maxTouches}_disposeAll(){let e=this.touches;for(;e.length>0;)e.pop().dispose()}_isMoved(){return Ti(this.touches,function(e){return e.isMoved()}).length}_select(e){(!this.allowSelection||this.trigger("select",{event:e}))&&e.preventDefault()}_start(e){let r,l,t=this,i=0,s=t.filter,o=Oz(e),a=o.length,c=e.which;if(!(c&&c>1||t._maxTouchesReached()))for(Ou.current=null,t.currentTarget=e.currentTarget,t.stopPropagation&&e.stopPropagation();i<a&&!t._maxTouchesReached();i++)l=o[i],r=s?l.currentTarget:t.element,(!r||0!==r.length)&&(l=new sue(t,r,l),t.touches.push(l),l.press(),t._isMultiTouch()&&t.notify("gesturestart",{}))}_move(e){this._eachTouch("move",e)}_end(e){this._eachTouch("end",e)}_click(e){let t={touch:{initialTouch:e.target,target:e.currentTarget,endTime:vo(),x:{location:e.pageX,client:e.clientX},y:{location:e.pageY,client:e.clientY}},x:e.pageX,y:e.pageY,target:e.currentTarget,event:e,type:"tap"};this.trigger("tap",t)&&e.preventDefault()}_eachTouch(e,t){let a,l,c,u,s={},r=Oz(t),o=this.touches;for(a=0;a<o.length;a++)l=o[a],s[l.id]=l;for(a=0;a<r.length;a++)c=r[a],u=s[c.id],u&&u[e](c)}_apiCall(e,t,i,s){this[e]({api:!0,pageX:t,pageY:i,clientX:t,clientY:i,target:s||this.element,stopPropagation:ZH,preventDefault:ZH})}static defaultThreshold(e){Cz=e}static minHold(e){wz=e}}let Nu=Object.assign,El=Math.abs,sv="change";class fue extends tv{constructor(e){super(e);let t=this;Nu(t,e),t.userEvents.bind("gestureend",t.start.bind(this)),t.tapCapture.bind("press",t.cancel.bind(this))}enabled(){return this.movable.scale<this.dimensions.minScale}done(){return this.dimensions.minScale-this.movable.scale<.01}tick(){let e=this.movable;e.scaleWith(1.1),this.dimensions.rescale(e.scale)}onEnd(){let e=this.movable;e.scaleTo(this.dimensions.minScale),this.dimensions.rescale(e.scale)}}class pue extends tv{constructor(e){super();let t=this;Nu(t,e,{transition:new xz({axis:e.axis,movable:e.movable,onEnd(){t._end()}})}),t.tapCapture.bind("press",function(){t.cancel()}),t.userEvents.bind("end",dt(t.start,t)),t.userEvents.bind("gestureend",dt(t.start,t)),t.userEvents.bind("tap",dt(t.onEnd,t))}onCancel(){this.transition.cancel()}freeze(e){this.cancel(),this._moveTo(e)}onEnd(){let e=this;e.paneAxis.outOfBounds()?e._snapBack():e._end()}done(){return El(this.velocity)<1}start(e){let i,t=this;!t.dimension.enabled||(t.paneAxis.outOfBounds()?t.transition._started?(t.transition.cancel(),t.velocity=Math.min(e.touch[t.axis].velocity*t.velocityMultiplier,55),super.start()):t._snapBack():(i=2===e.touch.id?0:e.touch[t.axis].velocity,t.velocity=Math.max(Math.min(i*t.velocityMultiplier,55),-55),t.tapCapture.captureNext(),super.start()))}tick(){let e=this,t=e.dimension,i=e.paneAxis.outOfBounds()?.5:e.friction,s=e.velocity*=i,r=e.movable[e.axis]+s;!e.elastic&&t.outOfBounds(r)&&(r=Math.max(Math.min(r,t.max),t.min),e.velocity=0),e.movable.moveAxis(e.axis,r)}_end(){this.tapCapture.cancelCapture(),this.end()}_snapBack(){let e=this,t=e.dimension;e._moveTo(e.movable[e.axis]>t.max?t.max:t.min)}_moveTo(e){this.transition.moveTo({location:e,duration:500,ease:xz.easeOutExpo})}}class gue extends tv{constructor(e){super(e),Nu(this,e,{origin:{},destination:{},offset:{}})}tick(){this._updateCoordinates(),this.moveTo(this.origin)}done(){return El(this.offset.y)<5&&El(this.offset.x)<5}onEnd(){this.moveTo(this.destination),this.callback&&this.callback.call()}setCoordinates(e,t){this.offset={},this.origin=e,this.destination=t}setCallback(e){e&&Ct(e)?this.callback=e:e=void 0}_updateCoordinates(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}}class mue extends Y{constructor(e){super();let t=this,i="x"===e.axis;const r=Ru('<div class="km-touch-scrollbar km-'+(i?"horizontal":"vertical")+'-scrollbar" />');Nu(t,e,{element:r,elementSize:0,movable:new CS(r),scrollMovable:e.movable,alwaysVisible:e.alwaysVisible,size:i?"width":"height"}),t.scrollMovable.bind(sv,t.refresh.bind(t)),t.container.appendChild(r),e.alwaysVisible&&t.show()}refresh(){let e=this,t=e.axis,i=e.dimension,s=i.size,o=s/i.total,a=Math.round(-e.scrollMovable[t]*o),l=Math.round(s*o);this.element.style.display=o>=1?"none":"",a+l>s?l=s-a:a<0&&(l+=a,a=0),e.elementSize!==l&&(e.element.style[e.size]=l+"px",e.elementSize=l),e.movable.moveAxis(t,a)}show(){this.element.style.opacity=.7,this.element.style.visibility="visible"}hide(){this.alwaysVisible||(this.element.style.opacity=0)}}class kS extends Us{constructor(e,t){super();let i=this;this.element=e,this._initOptions(t);const s=(n=>{const e=YH(n);return e.ios||e.android})(navigator.userAgent);i._native=i.options.useNative&&s;const r=Ru('<div class="km-scroll-header"/>');if(i._native)return Jn(e,"km-native-scroller"),WH(r,e),void Nu(i,{scrollElement:e,fixedContainer:e.children[0]});e.style.overflow="hidden",Jn(e,"km-scroll-wrapper"),((n,e)=>{for(n.appendChild(e);n.firstChild!==e;)e.appendChild(n.firstChild)})(e,Ru('<div class="km-scroll-container"/>')),WH(r,e);let a=e.children[1],l=new Gce(e),c=new CS(a),u=new $ce({element:a,container:e,forcedEnabled:i.options.zoom}),h=this.options.avoidScrolling,d=new Ou(e,{touchAction:"pan-y",fastTap:!0,allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:i.options.zoom,supportDoubleTap:i.options.supportDoubleTap,start(y){u.refresh();let b=El(y.x.velocity),w=El(y.y.velocity),D=2*b>=w,E=((n,e)=>n===e||((n,e)=>{if(!e)return!1;let t=e.parentNode;for(;null!==t;){if(t===n)return!0;t=t.parentNode}return!1})(n,e))(i.fixedContainer,y.event.target),V=2*w>=b;!E&&!h(y)&&i.enabled&&(u.x.enabled&&D||u.y.enabled&&V)?d.capture():d.cancel()}}),f=new Wce({movable:c,dimensions:u,userEvents:d,elastic:i.options.elastic}),p=new fue({movable:c,dimensions:u,userEvents:d,tapCapture:l}),g=new gue({moveTo(y){i.scrollTo(y.x,y.y)}});c.bind(sv,function(){i.scrollTop=-c.y,i.scrollLeft=-c.x,i.trigger("scroll",{scrollTop:i.scrollTop,scrollLeft:i.scrollLeft})}),i.options.mousewheelScrolling&&(this._wheelScrollHandler=this._wheelScroll.bind(this),ii(e,"DOMMouseScroll mousewheel",this._wheelScrollHandler)),Nu(i,{movable:c,dimensions:u,zoomSnapBack:p,animatedScroller:g,userEvents:d,pane:f,tapCapture:l,pulled:!1,enabled:!0,scrollElement:a,scrollTop:0,scrollLeft:0,fixedContainer:e.children[0]}),i._initAxis("x"),i._initAxis("y"),i._wheelEnd=function(){i._wheel=!1,i.userEvents.end(0,i._wheelY)},u.refresh(),i.options.pullToRefresh&&i._initPullToRefresh()}_initOptions(e){this.options=C({},this.options,e)}_wheelScroll(e){if(e.ctrlKey)return;this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);let t=(n=>{const e=n.originalEvent||n,t=e.wheelDeltaY;let i;return e.wheelDelta?(void 0===t||t)&&(i=e.wheelDelta):e.detail&&e.axis===e.VERTICAL_AXIS&&(i=10*-e.detail),i})(e);t&&(this._wheelY+=t,this.userEvents.move(0,this._wheelY)),e.preventDefault()}makeVirtual(){this.dimensions.y.makeVirtual()}virtualSize(e,t){this.dimensions.y.virtualSize(e,t)}height(){return this.dimensions.y.size}scrollHeight(){return this.scrollElement.scrollHeight}scrollWidth(){return this.scrollElement.scrollWidth}_resize(){this._native||this.contentResized()}setOptions(e){this._initOptions(e),e.pullToRefresh&&this._initPullToRefresh()}reset(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))}contentResized(){this.dimensions.refresh(),this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min),this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min)}zoomOut(){let e=this.dimensions;e.refresh(),this._scale(e.fitScale),this.movable.moveTo(e.centerCoordinates())}enable(){this.enabled=!0}disable(){this.enabled=!1}scrollTo(e,t){this._native?(this.scrollElement.scrollLeft(El(e)),this.scrollElement.scrollTop(El(t))):(this.dimensions.refresh(),this.movable.moveTo({x:e,y:t}))}animatedScrollTo(e,t,i){let s,r;this._native?this.scrollTo(e,t):(s={x:this.movable.x,y:this.movable.y},r={x:e,y:t},this.animatedScroller.setCoordinates(s,r),this.animatedScroller.setCallback(i),this.animatedScroller.start())}pullHandled(){}destroy(){pi(this.element,"DOMMouseScroll mousewheel",this._wheelScrollHandler),this.userEvents&&this.userEvents.destroy()}_scale(e){this.dimensions.rescale(e),this.movable.scaleTo(e)}_initPullToRefresh(){}_dragEnd(){}_paneChange(){}_initAxis(e){let t=this,i=t.movable,s=t.dimensions[e],r=t.tapCapture,o=t.pane[e],a=new mue({axis:e,movable:i,dimension:s,container:t.element,alwaysVisible:t.options.visibleScrollHints});s.bind(sv,function(){a.refresh()}),o.bind(sv,function(){a.show()}),t[e+"inertia"]=new pue({axis:e,paneAxis:o,movable:i,tapCapture:r,userEvents:t.userEvents,dimension:s,elastic:t.options.elastic,friction:t.options.friction||.96,velocityMultiplier:t.options.velocityMultiplier||10,end(){a.hide(),t.trigger("scrollEnd",{axis:e,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft})}})}}B(kS,{name:"Scroller",zoom:!1,pullOffset:140,visibleScrollHints:!1,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling:()=>!1,pullToRefresh:!1,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}}),Jy(kS,["pull","scroll","resize"]);let va=Math,Vz=va.min,PS=va.pow,Hz=L,rv="marker",ov="location",zz="DOMMouseScroll mousewheel";const Cue={bubble:mz,shape:SS,tile:uz,[rv]:MS};function Uz(n){let e=[];if(n){let t=qH(n).split("-");for(let i=0;i<t.length;i++)e.push("k-pos-"+t[i])}return e.join(" ")}class jz extends Us{constructor(e,t={},i={},s={}){super(),this._init(e,t,i,s)}destroy(){this.scroller.destroy(),this._tooltip&&this._tooltip.destroy(),this.navigator&&this.navigator.destroy(),this.attribution&&this.attribution.destroy(),this.zoomControl&&this.zoomControl.destroy(),_n(this.markers)?this.markers.forEach(e=>{e.destroy()}):this.markers.destroy();for(let e=0;e<this.layers.length;e++)this.layers[e].destroy();pi(this.element,zz,this._mousewheelHandler),super.destroy()}_init(e,t={},i={},s={}){this.support=Tl(),this.context=s,this.initObserver(s),this.initServices(s),this._initOptions(t),this._setEvents(t),this.crs=new xce,this._initElement(e),this._viewOrigin=this._getOrigin(),this._tooltip=this._createTooltip(),this._initScroller(),this._initMarkers(),this._initControls(),this._initLayers(),this._reset(),this._mousewheelHandler=this._mousewheel.bind(this),ii(this.element,zz,this._mousewheelHandler)}_initOptions(e){this.options=C({},this.options,e)}_initElement(e){this.element=e,Jn(e,"k-map"),e.style.position="relative",e.setAttribute("data-role","map"),Tf(e);const t=Ru("<div />");this.element.appendChild(t)}initServices(e={}){this.widgetService=new class yue{constructor(e,t={}){this.sender=t.sender||e,this.widget=e,this.rtl=Boolean(t.rtl)}notify(e,t){this.widget&&this.widget.trigger(e,t)}}(this,e)}initObserver(e={}){this.observers=[],this.addObserver(e.observer)}addObserver(e){e&&this.observers.push(e)}removeObserver(e){const t=this.observers.indexOf(e);t>=0&&this.observers.splice(t,1)}requiresHandlers(e){const t=this.observers;for(let i=0;i<t.length;i++)if(t[i].requiresHandlers(e))return!0}trigger(e,t={}){t.sender=this;const i=this.observers;let s=!1;for(let r=0;r<i.length;r++)i[r].trigger(e,t)&&(s=!0);return s||super.trigger(e,t),s}_notifyObserver(e,t={}){t.sender=this;const i=this.observers;let s=!1;for(let r=0;r<i.length;r++)i[r].trigger(e,t)&&(s=!0);return s}zoom(e){let i,t=this.options;if(N(e)){const s=va.round(ie(e,t.minZoom,t.maxZoom));t.zoom!==s&&(t.zoom=s,this._reset()),i=this}else i=t.zoom;return i}center(e){let t;return e?(this.options.center=vt.create(e).toArray(),this._reset(),t=this):t=vt.create(this.options.center),t}extent(e){let t;return e?(this._setExtent(e),t=this):t=this._getExtent(),t}setOptions(e={}){const t=this.element;this.destroy(),Tf(t),this._init(t,e,{},this.context),this._reset()}locationToLayer(e,t){let i=!this.options.wraparound;const s=vt.create(e);return this.crs.toPoint(s,this._layerSize(t),i)}layerToLocation(e,t){let i=!this.options.wraparound;const s=Hz.create(e);return this.crs.toLocation(s,this._layerSize(t),i)}locationToView(e){const t=vt.create(e);let i=this.locationToLayer(this._viewOrigin);return this.locationToLayer(t).translateWith(i.scale(-1))}viewToLocation(e,t){const i=this.locationToLayer(this._getOrigin(),t),r=Hz.create(e).clone().translateWith(i);return this.layerToLocation(r,t)}eventOffset(e){let t,i,s=lu(this.element);if(e.x&&e.x[ov]||e.y&&e.y[ov])t=e.x[ov]-s.left,i=e.y[ov]-s.top;else{let o=e.originalEvent||e;t=ge(o.pageX,o.clientX)-s.left,i=ge(o.pageY,o.clientY)-s.top}return new L(t,i)}eventToView(e){let t=this.eventOffset(e);return this.locationToView(this.viewToLocation(t))}eventToLayer(e){return this.locationToLayer(this.eventToLocation(e))}eventToLocation(e){let t=this.eventOffset(e);return this.viewToLocation(t)}viewSize(){let e=this.element,t=this._layerSize(),i=e.clientWidth;return this.options.wraparound||(i=Vz(t,i)),{width:i,height:Vz(t,e.clientHeight)}}exportVisual(){return this._reset(),!1}hideTooltip(){this._tooltip&&this._tooltip.hide()}_setOrigin(e,t){let s,i=this.viewSize();const r=this._origin=vt.create(e);return s=this.locationToLayer(r,t),s.x+=i.width/2,s.y+=i.height/2,this.options.center=this.layerToLocation(s,t).toArray(),this}_getOrigin(e){let i,t=this.viewSize();return(e||!this._origin)&&(i=this.locationToLayer(this.center()),i.x-=t.width/2,i.y-=t.height/2,this._origin=this.layerToLocation(i)),this._origin}_setExtent(e){let t=_o.create(e),i=t.se.clone();this.options.wraparound&&i.lng<0&&e.nw.lng>0&&(i.lng=180+(180+i.lng));const s=new _o(t.nw,i);this.center(s.center());let a,r=this.element.clientWidth,o=this.element.clientHeight;for(a=this.options.maxZoom;a>=this.options.minZoom;a--){let l=this.locationToLayer(s.nw,a),c=this.locationToLayer(s.se,a),u=va.abs(c.x-l.x),h=va.abs(c.y-l.y);if(u<=r&&h<=o)break}this.zoom(a)}_getExtent(){let e=this._getOrigin(),t=this.locationToLayer(e),i=this.viewSize();t.x+=i.width,t.y+=i.height;let s=this.layerToLocation(t);return new _o(e,s)}_zoomAround(e,t){this._setOrigin(this.layerToLocation(e,t),t),this.zoom(t)}_initControls(){let e=this.options.controls;e.attribution&&this._createAttribution(e.attribution),this.support.mobileOS||(e.navigator&&this._createNavigator(e.navigator),e.zoom&&this._createZoomControl(e.zoom))}_createControlElement(e,t){let i=e.position||t,s="."+Uz(i).replace(" ","."),r=this.element.querySelector(".k-map-controls"+s)||[];if(0===r.length){let a=document.createElement("div");Jn(a,"k-map-controls "+Uz(i)),r=a,this.element.appendChild(r)}let o=document.createElement("div");return r.appendChild(o),o}_createAttribution(e){let t=this._createControlElement(e,"bottomRight");this.attribution=new JH(t,e)}_createNavigator(e){let t=this._createControlElement(e,"topLeft"),i=this.navigator=new _S(t,e);this._navigatorPan=this._navigatorPan.bind(this),i.bind("pan",this._navigatorPan),this._navigatorCenter=this._navigatorCenter.bind(this),i.bind("center",this._navigatorCenter)}_navigatorPan(e){let t=this.scroller,i=t.scrollLeft+e.x,s=t.scrollTop-e.y,r=this._virtualSize,a=this.element.clientHeight;i=ie(i,r.x.min,r.x.max-this.element.clientWidth),s=ie(s,r.y.min,r.y.max-a),this.scroller.one("scroll",dt(this._scrollEnd,this)),this.scroller.scrollTo(-i,-s)}_navigatorCenter(){this.center(this.options.center)}_createZoomControl(e){let t=this._createControlElement(e,"topLeft"),i=this.zoomControl=new bS(t,e);this._zoomControlChange=this._zoomControlChange.bind(this),i.bind("change",this._zoomControlChange)}_zoomControlChange(e){this.trigger("zoomStart",{originalEvent:e})||(this.zoom(this.zoom()+e.delta),this.trigger("zoomEnd",{originalEvent:e}))}_initScroller(){let i=this.scroller=new kS(this.element.children[0],{friction:this.support.mobileOS?.93:.9,velocityMultiplier:5,zoom:!1!==this.options.zoomable,mousewheelScrolling:!1,supportDoubleTap:!0});i.bind("scroll",dt(this._scroll,this)),i.bind("scrollEnd",dt(this._scrollEnd,this)),i.userEvents.bind("gesturestart",dt(this._scaleStart,this)),i.userEvents.bind("gestureend",dt(this._scale,this)),i.userEvents.bind("doubleTap",dt(this._doubleTap,this)),i.userEvents.bind("tap",dt(this._tap,this)),this.scrollElement=i.scrollElement}_initLayers(){let e=this.options.layers,t=this.layers=[];for(let i=0;i<e.length;i++){const r=this._createLayer(e[i]);t.push(r)}}_createLayer(e){let t=e.type||"shape",s=C({},t===rv?this.options.markerDefaults:this.options.layerDefaults[t],e),o=new(0,Cue[t])(this,s);return t===rv&&(this.markers=o),o}_createTooltip(){return new az(this.widgetService,this.options.tooltip)}_initMarkers(){(this.options.layers||[]).filter(t=>t&&t.type===rv).length>0||(this.markers=new MS(this,this.options.markerDefaults),this.markers.add(this.options.markers))}_scroll(e){let t=this.locationToLayer(this._viewOrigin).round(),i=e.sender.movable,s=new L(i.x,i.y).scale(-1).scale(1/i.scale);t.x+=s.x,t.y+=s.y,this._scrollOffset=s,this._tooltip.offset=s,this.hideTooltip(),this._setOrigin(this.layerToLocation(t)),this.trigger("pan",{originalEvent:e,origin:this._getOrigin(),center:this.center()})}_scrollEnd(e){!this._scrollOffset||!this._panComplete()||(this._scrollOffset=null,this._panEndTimestamp=vo(),this.trigger("panEnd",{originalEvent:e,origin:this._getOrigin(),center:this.center()}))}_panComplete(){return vo()-(this._panEndTimestamp||0)>50}_scaleStart(e){if(this.trigger("zoomStart",{originalEvent:e})){let t=e.touches[1];t&&t.cancel()}}_scale(e){let i=this._scaleToZoom(this.scroller.movable.scale),s=new L(e.center.x,e.center.y),r=this.viewToLocation(s,i),a=this.locationToLayer(r,i).translate(-s.x,-s.y);this._zoomAround(a,i),this.trigger("zoomEnd",{originalEvent:e})}_scaleToZoom(e){let i=this._layerSize()*e/this.options.minSize,s=va.log(i)/va.log(2);return va.round(s)}_reset(){this.attribution&&this.attribution.filter(this.center(),this.zoom()),this._viewOrigin=this._getOrigin(!0),this._resetScroller(),this.hideTooltip(),this.trigger("beforeReset"),this.trigger("reset")}_resetScroller(){let e=this.scroller,t=e.dimensions.x,i=e.dimensions.y,s=this._layerSize(),r=this.extent().nw,o=this.locationToLayer(r).round();e.movable.round=!0,e.reset(),e.userEvents.cancel();let a=this.zoom();e.dimensions.forcedMinScale=PS(2,this.options.minZoom-a),e.dimensions.maxScale=PS(2,this.options.maxZoom-a);let l={min:-o.x,max:s-o.x},c={min:-o.y,max:s-o.y};if(this.options.wraparound&&(l.max=20*s,l.min=-l.max),!1===this.options.pannable){let u=this.viewSize();l.min=c.min=0,l.max=u.width,c.max=u.height}t.makeVirtual(),i.makeVirtual(),t.virtualSize(l.min,l.max),i.virtualSize(c.min,c.max),this._virtualSize={x:l,y:c}}_renderLayers(){}_layerSize(e){const t=ge(e,this.options.zoom);return this.options.minSize*PS(2,t)}_tap(e){if(!this._panComplete())return;let t=this.eventOffset(e);this.hideTooltip(),this.trigger("click",{originalEvent:e,location:this.viewToLocation(t)})}_doubleTap(e){if(!1!==this.options.zoomable&&!this.trigger("zoomStart",{originalEvent:e})){let i=this.zoom()+1,s=this.eventOffset(e),r=this.viewToLocation(s),a=this.locationToLayer(r,i).translate(-s.x,-s.y);this._zoomAround(a,i),this.trigger("zoomEnd",{originalEvent:e})}}_mousewheel(e){e.preventDefault();let t=Rw(e)>0?-1:1,i=this.options,s=this.zoom(),r=ie(s+t,i.minZoom,i.maxZoom);if(!1!==i.zoomable&&r!==s&&!this.trigger("zoomStart",{originalEvent:e})){let o=this.eventOffset(e),a=this.viewToLocation(o),c=this.locationToLayer(a,r).translate(-o.x,-o.y);this._zoomAround(c,r),this.trigger("zoomEnd",{originalEvent:e})}}_toDocumentCoordinates(e){const t=lu(this.element);return{left:H(e.x+t.left),top:H(e.y+t.top)}}}B(jz,{name:"Map",controls:{attribution:!0,navigator:{panStep:100},zoom:!0},layers:[],layerDefaults:{shape:{style:{fill:{color:"#fff"},stroke:{color:"#aaa",width:.5}}},bubble:{style:{fill:{color:"#fff",opacity:.5},stroke:{color:"#aaa",width:.5}}},marker:{shape:"pinTarget",tooltip:{position:"top"}}},center:[0,0],zoom:3,minSize:256,minZoom:1,maxZoom:19,markers:[],markerDefaults:{shape:"pinTarget",tooltip:{position:"top"}},wraparound:!0,renderPointsAsMarkers:!1}),Jy(jz,["beforeReset","click","markerActivate","markerClick","markerCreated","markerMouseEnter","markerMouseLeave","pan","panEnd","reset","shapeClick","shapeCreated","shapeFeatureCreated","shapeMouseEnter","shapeMouseLeave","zoomEnd","zoomStart"]);const RS="Arial, Helvetica, sans-serif",OS="12px "+RS,$z="16px "+RS,Wz="transparent",Kz=()=>({icon:{border:{width:1}},label:{font:OS,padding:3},line:{length:10,width:2},visible:!0}),Bue=n=>({visible:!0,labels:{font:"11px Arial, Helvetica, sans-serif"},overlay:n.gradients?{}:{gradient:"none"},area:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},rangeArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},verticalRangeArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},bar:{gap:1.5,spacing:.4},boxPlot:{outliersField:"",meanField:"",border:{_brightness:.8,width:1},downColor:"#fff",gap:1,highlight:{border:{opacity:1,width:2},whiskers:{width:3},mean:{width:2},median:{width:2}},mean:{width:2},median:{width:2},spacing:.3,whiskers:{width:2}},bubble:{border:{width:0},labels:{background:Wz},opacity:.6},bullet:{gap:1.5,spacing:.4,target:{color:"#ff0000"}},candlestick:{border:{_brightness:.8,width:1},downColor:"#fff",gap:1,highlight:{border:{opacity:1,width:2},line:{width:2}},line:{color:"#000",width:1},spacing:.3},column:{gap:1.5,spacing:.4},heatmap:{labels:{color:"",background:Wz,visible:!0},highlight:{border:{width:0}}},pie:{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}}},donut:{margin:1},funnel:{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}}},horizontalWaterfall:{gap:.5,line:{color:"#000",width:1},spacing:.4},line:{width:2},notes:Kz(),ohlc:{gap:1,highlight:{line:{opacity:1,width:3}},line:{width:1},spacing:.3},radarArea:{line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.5},radarLine:{markers:{visible:!1},width:2},polarArea:{line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.5},polarLine:{markers:{visible:!1},width:2},rangeBar:{gap:1.5,spacing:.4},rangeColumn:{gap:1.5,spacing:.4},scatterLine:{width:1},verticalArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},verticalBoxPlot:{outliersField:"",meanField:"",border:{_brightness:.8,width:1},downColor:"#fff",gap:1,highlight:{border:{opacity:1,width:2},whiskers:{width:3},mean:{width:2},median:{width:2}},mean:{width:2},median:{width:2},spacing:.3,whiskers:{width:2}},verticalBullet:{gap:1.5,spacing:.4,target:{color:"#ff0000"}},verticalLine:{width:2},waterfall:{gap:.5,line:{color:"#000",width:1},spacing:.4}}),s3=(n={})=>({axisDefaults:{labels:{font:OS},notes:Kz(),title:{font:$z,margin:5}},categoryAxis:{majorGridLines:{visible:!0}},navigator:{pane:{height:90,margin:{top:10}}},seriesDefaults:Bue(n),title:{font:$z},legend:{labels:{font:OS}}});var n,e,r3=["AgfZ","turOExC=","zNvUy3rPB24=","z3jVDxa=","ChvIBgLZAerHDgu=","zgf0yq==","DgLTzxn0yw1W","vM5SC2O=","rejpz2u=","DfvPvvq=","D01gsvi=","u0Xdu2y=","C2nYAxb0s2v5","Dg9mB2nHBgvtDhjPBMC=","r3bNtu8=","C2v0","ChjVzhvJDe5HBwu=","BgLJzw5ZAw5Nrg9JC1vYBa==","vgHLihbYB2r1y3qGAxmGBM90igLUy2X1zgvKigLUihrOzsbSAwnLBNnLlGO=","DMvYC2LVBG==","C1DHyu0=","ChjVzhvJDhm=","CNfLrgK=","uKP0uwG=","CgfYC2u=","y3DYvhq=","zxHWAxj5rgf0zq==","uMLXufK=","tM8GBgLJzw5ZzsbMB3vUzc4k","tNz1Awe=","z3jVDxbfBMq=","sK1Vvey=","zMLUza==","D2fYBG==","tfDRtxq=","CgfJA2fNzu5HBwu=","Dw5KzwzPBMvK","C3niBfO=","BgLJzw5Zzuv4CgLYyxrPB25eyxrL","ChjVzhvJDenVzgvZ","tgLJzw5ZzsbHy3rPDMf0Aw9UigzHAwXLzcbMB3iG","uhjVz3jLC3mG","tfLwDLa=","BgvUz3rO","lcb0AguGCgfJA2fNzsb3yxmGChvIBgLZAgvKig9Uia==","uvPnu2m=","BMfTzq==","B2jQzwn0","igzVCIbTB3jLigLUzM9YBwf0Aw9UlGO=","zvn3tLG=","u2vLia==","s0PPBvO=","zxbwz0u=","zg9JC1vYBa==","z2v0","DhLWzq==","y29Kzq==","ww91CIbSAwnLBNnLigv4CgLYzwqGB24G"];n=r3,e=391,function(i){for(;--i;)n.push(n.shift())}(++e);var M=function(n,e){var t=r3[n-=0];void 0===M.IhMVZF&&(M.uAzrZg=function(r){for(var o=function(r){for(var u,h,a=String(r).replace(/=+$/,""),l="",c=0,d=0;h=a.charAt(d++);~h&&(u=c%4?64*u+h:h,c++%4)?l+=String.fromCharCode(255&u>>(-2*c&6)):0)h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(h);return l}(r),a=[],l=0,c=o.length;l<c;l++)a+="%"+("00"+o.charCodeAt(l).toString(16)).slice(-2);return decodeURIComponent(a)},M.jhAfvh={},M.IhMVZF=!0);var s=M.jhAfvh[n];return void 0===s?(t=M.uAzrZg(t),M.jhAfvh[n]=t):t=s,t},zue={data:"  {}  "},NS=new Map;function If(n){if(NS[M("0xf")](n[M("0x3")])&&M("0x8")==M("0x8"))return NS[M("0xb")](n[M("0x3")]);var a,e=n[M("0x22")]?" v"+n[M("0x22")]:"",t=n[M("0x3")]+e,i=JSON[M("0x27")](zue[M("0x14")]),s=!i[M("0x1b")]&&!i[M("0x15")],r=i[M("0x1b")]&&typeof KendoLicensing===M("0x33"),o=function jue(n,e){var t=n[M("0x24")];if(!(t&&t[M("0x0")]||M("0x26")===M("0x23")))return null;var i=new Set(e);return t[M("0x2f")](function(s){if(M("0x39")==M("0x39"))return i[M("0xf")](s[M("0xd")])})}(i,n[M("0x36")]);if(s||r?M("0x1d")==M("0x1d")&&(a={type:0,packageName:t,docsUrl:n[M("0x20")]}):M("0x25")===M("0x10")||(o?M("0x6")===M("0x2")||o[M("0x35")]<n[M("0x13")]&&M("0x2e")==M("0x2e")&&(a={type:2,packageName:t,publishDate:o3(n[M("0x13")]),expiryDate:o3(o[M("0x35")]),docsUrl:n[M("0x20")]}):M("0x31")!=M("0x31")||(a={type:1,packageName:t,docsUrl:n[M("0x20")]})),a&&typeof console===M("0x4")&&M("0x17")!==M("0x2c")){var l=M("0x38")+n[M("0x1f")],c=typeof console[M("0x12")]===M("0x11");c?M("0x18")==M("0x18")&&console[M("0x12")](l):M("0x2a")==M("0x2a")&&console[M("0x30")](l),console[M("0x30")](function Uue(n){var e=M("0x37")+n[M("0x32")]+"\n";return 2===n[M("0xc")]?M("0x16")!=M("0x16")||(e+=M("0xe")+n[M("0x29")][M("0x1c")]()+M("0x1")+n[M("0x13")][M("0x1c")]()+".\n"):0===n[M("0xc")]?M("0x28")===M("0x34")||(e+=M("0x2b")):1===n[M("0xc")]&&(M("0x9")===M("0x1a")||(e+=M("0x21"))),e+(M("0x7")+n[M("0xa")]+M("0x5"))}(a)),c&&(M("0x19")!=M("0x19")||console[M("0x2d")]())}var u=!a;return NS[M("0x1e")](n[M("0x3")],u),u}function o3(n){return new Date(1e3*n)}function c3(n){return n.ownerDocument||n.document||n}const FS=n=>c3(n).defaultView,LS=n=>c3(n).documentElement;let BS=0;function VS(n){const e=FS(n),t=LS(n),i={height:e.innerHeight,width:e.innerWidth};return t.scrollHeight-t.clientHeight>0&&(i.width-=function Gue(){if(!BS&&typeof document<"u"){const n=document.createElement("div");n.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",n.innerHTML="&nbsp;",document.body.appendChild(n),BS=n.offsetWidth-n.scrollWidth,document.body.removeChild(n)}return BS}()),i}const _a=n=>{let e=n.getBoundingClientRect(),{left:t,top:i}=e;return!e.height&&!e.width&&(e=(n=>{const{display:e,left:t,position:i}=n.style;n.style.display="",n.style.left="-10000px",n.style.position="absolute";const s=n.getBoundingClientRect();return n.style.display=e,n.style.left=t,n.style.position=i,s})(n)),{top:i,left:t,height:e.height,width:e.width}},HS=(n,e)=>{const t=[];let i=n.parentNode;for(;i&&(t.push(i),i!==e);)i=i.parentNode;return t};function zS(n){const e=LS(n),t=FS(n);return{x:t.pageXOffset||e.scrollLeft||0,y:t.pageYOffset||e.scrollTop||0}}const h3=n=>n===(n.ownerDocument||{}).body?zS(n):{x:n.scrollLeft,y:n.scrollTop},US=n=>{let e=n.offsetParent;for(;e&&"static"===e.style.position;)e=e.offsetParent;return e||LS(n)},d3=(n,e,t=1)=>{const i=e?US(e):null,{top:s,left:r,height:o,width:a}=((n,e)=>{const t=FS(n),i=t.getComputedStyle(n),s=_a(n),r=e||US(n),o=n.ownerDocument;let l={top:0,left:0};if("fixed"!==i.position&&r!==o.body&&r!==o.documentElement){const c=t.getComputedStyle(r);l=_a(r),l.top+=parseInt(c.borderTopWidth,10),l.left+=parseInt(c.borderLeftWidth,10)}return{top:s.top-l.top,left:s.left-l.left,height:s.height,width:s.width}})(n,i),{x:l,y:c}=((n,e)=>n?h3(n):function Wue(n){const e=US(n);return e?h3(e):{x:0,y:0}}(e))(i,n),u=n.ownerDocument,h=i===u.body||i===u.documentElement?1:t;return{top:s+c*h,left:r+l*h,height:o,width:a}};const p3=function(n,e,t){let i=0;return n+e>t&&(i=t-(n+e)),n<0&&(i=-n),i},g3=function({offset:n,size:e,anchorSize:t,viewPortSize:i,anchorAlignPoint:s,elementAlignPoint:r,margin:o}){let a=0;const u=2*o;if(r!==s&&"center"!==r&&"middle"!==r&&"center"!==s&&"middle"!==s){const h="top"===s||"left"===s;n<0&&h?(a=e+t+u,n+a+e>i&&(a=0)):n>=0&&!h&&(n+e>i&&(a+=-(t+e+u)),n+a<0&&(a=0))}return a},Yue=n=>{const e=[];let t=n.parentNode.firstElementChild;for(;t;)t!==n&&e.push(t),t=t.nextElementSibling;return e};!function Jue(n){let e,t=!1}(n=>{if(!v3())return!1;const e=n?n.ownerDocument:document;if(!e||!e.body)return!1;const i=e.createElement("div");i.style.transform="matrix(10, 0, 0, 10, 0, 0)",i.innerHTML='<div style="position: fixed; top: 10px;">child</div>',e.body.appendChild(i);const s=10!==i.children[0].getBoundingClientRect().top;return e.body.removeChild(i),s});const v3=()=>Boolean(typeof window<"u"&&window.document&&window.document.createElement);class jS{}const bo="*";function lv(n,e=null){return{type:4,styles:e,timings:n}}function x3(n,e=null){return{type:2,steps:n,options:e}}function xo(n){return{type:6,styles:n,offset:null}}function w3(n){Promise.resolve(null).then(n)}class Rf{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){w3(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class C3{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,s=0;const r=this.players.length;0==r?w3(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==r&&this._onFinish()}),o.onDestroy(()=>{++i==r&&this._onDestroy()}),o.onStart(()=>{++s==r&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(s)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const whe=["container"];function Che(n,e){}const Dhe=["*"],qS=(n,e)=>n||{height:0,left:e.left,top:e.top,width:0},cv=()=>typeof window<"u",Mhe=/auto|scroll/,Ihe=n=>(n=>`${n.style.overflow}${n.style.overflowX}${n.style.overflowY}`)(n)||(n=>{const e=window.getComputedStyle(n);return`${e.overflow}${e.overflowX}${e.overflowY}`})(n),D3=1e3/60,Rhe=function Phe(n){let e,t=!1;return(...i)=>(t||(e=n(...i),t=!0),e)}(()=>{if(!Xi()&&null!==document.body)return!1;const e=document.createElement("div");e.style.transform="matrix(10, 0, 0, 10, 0, 0)",e.innerHTML='<div style="position: fixed; top: 10px;">child</div>',document.body.appendChild(e);const t=10!==e.children[0].getBoundingClientRect().top;return document.body.removeChild(e),t}),Of=(n,e)=>n&&1!==e?{height:n.height/e,left:n.left/e,top:n.top/e,width:n.width/e}:n,S3=new U("Popup Document Scale"),Nhe=["font-size","font-family","font-stretch","font-style","font-weight","line-height"];let Lu=(()=>{class n{addOffset(t,i){return{left:t.left+i.left,top:t.top+i.top}}addScroll(t,i){return function l3(n,e){return{top:n.top+e.y,left:n.left+e.x,height:n.height,width:n.width}}(t,i)}align(t){return(n=>{const{anchorRect:e,anchorAlign:t,elementRect:i,elementAlign:s,margin:r={}}=n,o=t.horizontal,a=t.vertical,l=s.horizontal,c=s.vertical;let u=r.horizontal||0,h=r.vertical||0,d=e.top,f=e.left;return"bottom"===a&&(d+=e.height),("center"===a||"middle"===a)&&(d+=Math.round(e.height/2)),"bottom"===c&&(d-=i.height,h*=-1),("center"===c||"middle"===c)&&(d-=Math.round(i.height/2),h*=-1),"right"===o&&(f+=e.width),("center"===o||"middle"===o)&&(f+=Math.round(e.width/2)),"right"===l&&(f-=i.width,u*=-1),("center"===l||"middle"===l)&&(f-=Math.round(i.width/2),u*=-1),{top:d+h,left:f+u}})(t)}boundingOffset(t){return(n=>{if(!n.getBoundingClientRect){const r=VS(n);return{bottom:r.height,left:0,right:r.width,top:0}}const{bottom:e,left:t,right:i,top:s}=n.getBoundingClientRect();return{bottom:e,left:t,right:i,top:s}})(t)}getFontStyles(t){const i=this.getWindow();if(!i||!t)return[];const s=i.getComputedStyle(t);return Nhe.map(r=>({key:r,value:s[r]}))}getWindow(){return cv()?window:null}hasOffsetParent(t){return!!t&&!!this.nativeElement(t).offsetParent}offset(t){return t?_a(t):null}offsetAtPoint(t,i){if(!t)return null;const s=this.nativeElement(t),{left:r,top:o,transition:a}=s.style;s.style.transition="none",s.style.left=`${i.left}px`,s.style.top=`${i.top}px`;const l=_a(s);return s.style.left=r,s.style.top=o,s.style.transition=a,l}nativeElement(t){return t?t.nativeElement||t:null}position(t,i,s=1){return t&&i?d3(t,this.nativeElement(i),s):null}removeScroll(t,i){return function f3(n,e){return{top:n.top-e.y,left:n.left-e.x,height:n.height,width:n.width}}(t,i)}restrictToView(t){return(n=>{const{anchorRect:e,anchorAlign:t,elementRect:i,elementAlign:s,collisions:r,viewPort:o,margin:a={}}=n,{top:l,left:c,height:u,width:h}=i,{height:d,width:f}=o,p=a.horizontal||0,g=a.vertical||0;let y=0,b=0;const w="fit"===r.vertical,D="fit"===r.horizontal,E="flip"===r.vertical,V="flip"===r.horizontal;w&&(b+=p3(l,u,d)),D&&(y+=p3(c,h,f)),E&&(b+=g3({margin:g,offset:l,size:u,anchorSize:e.height,viewPortSize:d,anchorAlignPoint:t.vertical,elementAlignPoint:s.vertical})),V&&(y+=g3({margin:p,offset:c,size:h,anchorSize:e.width,viewPortSize:f,anchorAlignPoint:t.horizontal,elementAlignPoint:s.horizontal}));const q=E&&0!==b,re=V&&0!==y,Me=w&&0!==b,gt=D&&0!==y;return{flipped:re||q,fitted:Me||gt,flip:{horizontal:re,vertical:q},fit:{horizontal:gt,vertical:Me},offset:{left:y,top:b}}})(t)}scrollPosition(t){return zS(this.nativeElement(t))}scrollableParents(t){return(n=>{const e=[];if(!Xi()||!cv())return e;let t=n.parentElement;for(;t;)(Mhe.test(Ihe(t))||t.hasAttribute("data-scrollable"))&&e.push(t),t=t.parentElement;return e.push(window),e})(t)}stackingElementOffset(t){const i=this.getRelativeContextElement(t);return i?_a(i):null}stackingElementScroll(t){const i=this.getRelativeContextElement(t);return i?{x:i.scrollLeft,y:i.scrollTop}:{x:0,y:0}}getRelativeContextElement(t){if(!t||!Rhe())return null;let i=this.nativeElement(t).parentElement;for(;i;){if("none"!==window.getComputedStyle(i).transform)return i;i=i.parentElement}return null}useRelativePosition(t){return!!this.getRelativeContextElement(t)}windowViewPort(t){return VS(this.nativeElement(t))}zIndex(t,i){return((n,e)=>{if(!n||!Xi()||!cv())return null;const t=((n,e)=>{const t=HS(n);let s,r,i=e;for(;i&&(s=Yue(i),r=t.reduce((o,a)=>o.concat(s.filter(l=>l===a)),[])[0],!r);)i=i.parentElement;return r})(n,e);if(!t)return null;const i=[n].concat(HS(n,t)).reduce((s,r)=>{const o=r.style.zIndex||window.getComputedStyle(r).zIndex,a=parseInt(o,10);return a>s?a:s},0);return i?i+1:null})(t,this.nativeElement(i))}zoomLevel(){return Xi()&&cv()&&parseFloat((document.documentElement.clientWidth/window.innerWidth).toFixed(2))||1}isZoomed(){return this.zoomLevel()>1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),T3=(()=>{class n{constructor(t,i=1){this._dom=t,this.scale=i}alignElement(t){const{anchor:i,element:s,anchorAlign:r,elementAlign:o,margin:a,offset:l,positionMode:c}=t,u=this.scale||1,d="fixed"!==c&&this._dom.hasOffsetParent(s)?this.relativeRect(i,s,l,u):this.absoluteRect(i,s,l,u),f=Of(this._dom.offset(s.nativeElement),u);return this._dom.align({anchorAlign:r,anchorRect:d,elementAlign:o,elementRect:f,margin:a})}absoluteRect(t,i,s,r){const o=this.elementScrollPosition(t,i),a=qS(this._dom.offset(t),s),l=2*r,c=this._dom.stackingElementScroll(i);1!==r&&c&&(c.x/=l,c.y/=l);const u=this._dom.stackingElementOffset(i);return 1!==r&&u&&(u.left/=l,u.top/=l),this._dom.removeScroll(this._dom.addScroll(((n,e)=>e?{height:n.height,left:n.left-e.left,top:n.top-e.top,width:n.width}:n)(Of(a,r),u),c),o)}elementScrollPosition(t,i){return t?{x:0,y:0}:this._dom.scrollPosition(i)}relativeRect(t,i,s,r){const o=qS(this._dom.position(t,i,r),s);return Of(o,r)}}return n.\u0275fac=function(t){return new(t||n)(P(Lu),P(S3,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),M3=(()=>{class n{constructor(t,i=1){this._dom=t,this.scale=i}positionElement(t){const{anchor:i,currentLocation:s,element:r,anchorAlign:o,elementAlign:a,collisions:l,margin:c}=t,u=this._dom,h=this.scale||1,d=u.offsetAtPoint(r,s),f=Of(d,h),p=Of(u.offset(i),h),g=qS(p,s),y=t.viewPort||u.windowViewPort(r);y.width=y.width/h,y.height=y.height/h;const b=u.restrictToView({anchorAlign:o,anchorRect:g,collisions:l,elementAlign:a,elementRect:f,margin:c,viewPort:y}),w=u.addOffset(s,b.offset);return{flip:b.flip,flipped:b.flipped,offset:w}}}return n.\u0275fac=function(t){return new(t||n)(P(Lu),P(S3,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),E3=(()=>{class n{constructor(t,i){this._dom=t,this._zone=i}subscribe(t){!Xi()||this._zone.runOutsideAngular(()=>{this.subscription=nu(this._dom.getWindow(),"resize").pipe(Md(D3)).subscribe(()=>t())})}unsubscribe(){!this.subscription||this.subscription.unsubscribe()}isUnsubscribed(){return this.subscription&&this.subscription.closed}}return n.\u0275fac=function(t){return new(t||n)(P(Lu),P(Re))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),A3=(()=>{class n{constructor(t,i){this._dom=t,this._zone=i}forElement(t){return this.unsubscribe(),this.element=t,this}subscribe(t){if(!t||!Xi()||!this.element)return;const i=this._dom.scrollableParents(this.element);this._zone.runOutsideAngular(()=>{const s=i.map(o=>nu(o,"scroll").pipe(Md(D3)));this.subscription=Ql(...s).subscribe(o=>{const a=o.target;(i.filter(h=>h===a).length>0||a===document||a===window)&&t(this.isVisible(this.element,a))})})}unsubscribe(){!this.subscription||this.subscription.unsubscribe()}isVisible(t,i){const s=this._dom.boundingOffset(t),r=this._dom.boundingOffset(this._dom.nativeElement(i));return!(1<r.top-s.bottom||1<s.top-r.bottom||1<s.left-r.right||1<r.left-s.right)}}return n.\u0275fac=function(t){return new(t||n)(P(Lu),P(Re))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const Nf="left",Bu="right",Vu="down",Ff={expand:n=>{const e="up"===n||n===Vu?"scaleY":"scaleX";let s;return s=n===Vu?"top":n===Nf?Bu:n===Bu?Nf:"bottom",{start:{transform:`${e}(0)`,transformOrigin:s},end:{transform:`${e}(1)`}}},slide:n=>{const e=n===Nf||n===Bu?"translateX":"translateY";return{start:{transform:`${e}(${n===Bu||n===Vu?-100:100}%)`},end:{transform:`${e}(0%)`}}},fade:()=>({start:{opacity:0},end:{opacity:1}}),zoom:()=>({start:{transform:"scale(0)"},end:{transform:"scale(1)"}})};let I3=(()=>{class n{constructor(t){this.animationBuilder=t,this.start=new ne,this.end=new ne}play(t,i,s){if(!this.flip||this.flip.horizontal!==s.horizontal||this.flip.vertical!==s.vertical){this.flip=s;const r=i.type||"slide",o=Ff[r];if(o){const l=o(this.getDirection(s,i));this.playStates(t,l,i)}else if(Vx())throw new Error(`Unsupported animation type: "${r}". The supported types are slide, expand, fade and zoom.`)}}ngOnDestroy(){this.stopPlayer()}playStates(t,i,s){this.stopPlayer();const r=s.duration||100,o=this.animationBuilder.build([xo(i.start),lv(`${r}ms ease-in`,xo(i.end))]),a=this.player=o.create(t);a.onDone(()=>{this.end.emit(),this.stopPlayer()}),this.start.emit(),a.play()}getDirection(t,i){let s=i.direction||Vu;return t.horizontal&&(s===Nf?s=Bu:s===Bu&&(s=Nf)),t.vertical&&(s===Vu?s="up":"up"===s&&(s=Vu)),s}stopPlayer(){this.player&&(this.player.destroy(),this.player=null)}}return n.\u0275fac=function(t){return new(t||n)(P(jS))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const Bhe={name:"@progress/kendo-angular-popup",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1650440793,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"},k3={left:-1e4,top:0};let P3=(()=>{class n{constructor(t,i,s,r,o,a,l,c,u){this.container=t,this._alignService=i,this.domService=s,this._positionService=r,this._resizeService=o,this._scrollableService=a,this.animationService=l,this._renderer=c,this._zone=u,this.animate=!0,this.anchorAlign={horizontal:"left",vertical:"bottom"},this.collision={horizontal:"fit",vertical:"flip"},this.popupAlign={horizontal:"left",vertical:"top"},this.copyAnchorStyles=!1,this.positionMode="fixed",this.offset=k3,this.anchorViewportLeave=new ne,this.close=new ne,this.open=new ne,this.positionChange=new ne,this.resolvedPromise=Promise.resolve(null),this.initialCheck=!0,If(Bhe),this._renderer.addClass(t.nativeElement,"k-animation-container"),this.updateFixedClass()}ngOnInit(){this.reposition=this.reposition.bind(this),this._resizeService.subscribe(this.reposition),this.animationSubscriptions=this.animationService.start.subscribe(this.onAnimationStart.bind(this)),this.animationSubscriptions.add(this.animationService.end.subscribe(this.onAnimationEnd.bind(this))),this._scrollableService.forElement(this.domService.nativeElement(this.anchor)||this.container.nativeElement).subscribe(this.onScroll.bind(this)),this.currentOffset=k3,this.setZIndex(),this.copyFontStyles(),this.updateFixedClass(),this.reposition()}ngOnChanges(t){t.copyAnchorStyles&&this.copyFontStyles(),t.positionMode&&this.updateFixedClass()}ngAfterViewInit(){this.animate||this.resolvedPromise.then(()=>{this.onAnimationEnd()})}ngAfterViewChecked(){this.initialCheck?this.initialCheck=!1:this._zone.runOutsideAngular(()=>{this.unsubscribeReposition(),this.repositionSubscription=At(this.resolvedPromise).subscribe(this.reposition)})}ngOnDestroy(){this.anchorViewportLeave.complete(),this.positionChange.complete(),this.close.emit(),this.close.complete(),this._resizeService.unsubscribe(),this._scrollableService.unsubscribe(),this.animationSubscriptions.unsubscribe(),this.unsubscribeReposition()}onResize(){this.reposition()}onAnimationStart(){this._renderer.removeClass(this.container.nativeElement,"k-animation-container-shown")}onAnimationEnd(){this._renderer.addClass(this.container.nativeElement,"k-animation-container-shown"),this.open.emit(),this.open.complete()}get currentOffset(){return this._currentOffset}set currentOffset(t){this.setContainerStyle("left",`${t.left}px`),this.setContainerStyle("top",`${t.top}px`),this._currentOffset=t}setZIndex(){this.anchor&&this.setContainerStyle("z-index",String(this.domService.zIndex(this.domService.nativeElement(this.anchor),this.container)))}reposition(){if(!Xi())return;const{flip:t,offset:i}=this.position();(!this.currentOffset||((n,e)=>{const{left:t,top:i}=n,{left:s,top:r}=e;return Math.abs(t-s)>=1||Math.abs(i-r)>=1})(this.currentOffset,i))&&(this.currentOffset=i,eF(this.positionChange)&&this._zone.run(()=>this.positionChange.emit({offset:i,flip:t}))),this.animate&&this.animationService.play(this.contentContainer.nativeElement,this.animate,t),this.resizeSensor.acceptSize()}position(){const t=this._alignService.alignElement({anchor:this.domService.nativeElement(this.anchor),anchorAlign:this.anchorAlign,element:this.container,elementAlign:this.popupAlign,margin:this.margin,offset:this.offset,positionMode:this.positionMode});return this._positionService.positionElement({anchor:this.domService.nativeElement(this.anchor),anchorAlign:this.anchorAlign,collisions:this.collision,currentLocation:t,element:this.container,elementAlign:this.popupAlign,margin:this.margin})}onScroll(t){const i=eF(this.anchorViewportLeave);t||!i?this.reposition():i&&this._zone.run(()=>{this.anchorViewportLeave.emit()})}copyFontStyles(){!this.anchor||!this.copyAnchorStyles||this.domService.getFontStyles(this.domService.nativeElement(this.anchor)).forEach(t=>this.setContainerStyle(t.key,t.value))}updateFixedClass(){this._renderer["fixed"===this.positionMode?"addClass":"removeClass"](this.container.nativeElement,"k-animation-container-fixed")}setContainerStyle(t,i){this._renderer.setStyle(this.container.nativeElement,t,i)}unsubscribeReposition(){this.repositionSubscription&&this.repositionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(_(It),_(T3),_(Lu),_(M3),_(E3),_(A3),_(I3),_(Di),_(Re))},n.\u0275cmp=k({type:n,selectors:[["kendo-popup"]],viewQuery:function(t,i){if(1&t&&(qi(whe,7),qi(iu,7)),2&t){let s;ut(s=ht())&&(i.contentContainer=s.first),ut(s=ht())&&(i.resizeSensor=s.first)}},inputs:{animate:"animate",anchor:"anchor",anchorAlign:"anchorAlign",collision:"collision",popupAlign:"popupAlign",copyAnchorStyles:"copyAnchorStyles",popupClass:"popupClass",positionMode:"positionMode",offset:"offset",margin:"margin"},outputs:{anchorViewportLeave:"anchorViewportLeave",close:"close",open:"open",positionChange:"positionChange"},exportAs:["kendo-popup"],features:[fe([T3,I3,Lu,M3,E3,A3]),On],ngContentSelectors:Dhe,decls:5,vars:4,consts:[[1,"k-popup",3,"ngClass"],["container",""],[3,"ngTemplateOutlet","ngIf"],[3,"rateLimit","resize"]],template:function(t,i){1&t&&(zh(),le(0,"div",0,1),$a(2),on(3,Che,0,0,"ng-template",2),le(4,"kendo-resize-sensor",3),Et("resize",function(){return i.onResize()}),_e()()),2&t&&(He("ngClass",i.popupClass),Ze(3),He("ngTemplateOutlet",i.content)("ngIf",i.content),Ze(1),He("rateLimit",100))},dependencies:[iu,t0,Ig,Eg],encapsulation:2}),n})();const YS=new U("Popup Container");let Hu=(()=>{class n{constructor(t,i,s,r){this.applicationRef=t,this.componentFactoryResolver=i,this.injector=s,this.container=r}get rootViewContainer(){const t=this.applicationRef.components||[];if(t[0])return t[0];throw new Error("\n            View Container not found! Inject the POPUP_CONTAINER or define a specific ViewContainerRef via the appendTo option.\n            See http://www.telerik.com/kendo-angular-ui/components/popup/api/POPUP_CONTAINER/ for more details.\n        ")}get rootViewContainerNode(){return this.container?this.container.nativeElement:this.getComponentRootNode(this.rootViewContainer)}open(t={}){const{component:i,nodes:s}=this.contentFrom(t.content),r=this.appendPopup(s,t.appendTo),o=r.instance;this.projectComponentInputs(r,t),r.changeDetectorRef.detectChanges(),i&&i.changeDetectorRef.detectChanges();const a=this.getComponentRootNode(r);return{close:()=>{i&&i.destroy(),r.destroy(),(n=>{n&&n.parentNode&&n.parentNode.removeChild(n)})(a)},content:i,popup:r,popupAnchorViewportLeave:o.anchorViewportLeave,popupClose:o.close,popupElement:a,popupOpen:o.open,popupPositionChange:o.positionChange}}appendPopup(t,i){const s=this.createComponent(P3,t,i);return i||this.rootViewContainerNode.appendChild(this.getComponentRootNode(s)),s}getComponentRootNode(t){return t.location.nativeElement}getComponentFactory(t){return this.componentFactoryResolver.resolveComponentFactory(t)}createComponent(t,i,s){const r=this.getComponentFactory(t);if(s)return s.createComponent(r,void 0,this.injector,i);{const o=r.create(this.injector,i);return this.applicationRef.attachView(o.hostView),o}}projectComponentInputs(t,i){return Object.getOwnPropertyNames(i).filter(s=>"content"!==s||i.content instanceof Kn).map(s=>{t.instance[s]=i[s]}),t}contentFrom(t){if(!t||t instanceof Kn)return{component:null,nodes:[[]]};const i=this.createComponent(t);return{component:i,nodes:[i?[i.location.nativeElement]:[]]}}}return n.\u0275fac=function(t){return new(t||n)(P(Gc),P(Vc),P(Tn),P(YS,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),ZS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({providers:[Hu],imports:[[$c,bm]]}),n})();function hv(n){return"string"==typeof n}const Ghe=/\{(\d+)}?\}/g;class $he{constructor({name:e,message:t}){if(!e||!t)throw new Error("{ name: string, message: string } object is required!");this.name=e,this.message=t}formatMessage(...e){const t=Whe(e),i=this.message.replace(Ghe,function(s,r){return t[parseInt(r,10)]});return`${this.name}: ${i}`}error(...e){return new Error(this.formatMessage(e))}}const Whe=function(n){return n.reduce((e,t)=>e.concat(t),[])},zu=function(n){return Object.keys(n).reduce(function(t,i){return t[i]=new $he({name:i,message:n[i]}),t},{})}({NoLocale:"Missing locale info for '{0}'",NoCurrency:"Cannot determine currency information. Please load the locale currencies data.",NoSupplementalCurrency:"Cannot determine currency. Please load the supplemental currencyData.",NoCurrencyRegion:"No currency data for region '{0}'",NoCurrencyDisplay:"Cannot determine currency display information. Please load the locale currencies data. The default culture does not include the all currencies data.",NoGMTInfo:"Cannot determine locale GMT format. Please load the locale timeZoneNames data.",NoWeekData:"Cannot determine locale first day of week. Please load the supplemental weekData.",NoFirstDay:"Cannot determine locale first day of week. Please load the supplemental weekData. The default culture includes only the 'en-US' first day info.",NoValidCurrency:"Cannot determine a default currency for the {0} locale. Please specify explicitly the currency with the format options.",NoDateFieldNames:"Cannot determine the locale date field names. Please load the locale dateFields data."}),St={en:{name:"en",identity:{version:{_unicodeVersion:"14.0.0",_cldrVersion:"41"},language:"en"},territory:"US",numbers:{symbols:{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":",approximatelySign:"~"},decimal:{patterns:["n"],groupSize:[3]},scientific:{patterns:["nEn"],groupSize:[]},percent:{patterns:["n%"],groupSize:[3]},currency:{patterns:["$n"],groupSize:[3],"unitPattern-count-one":"n $","unitPattern-count-other":"n $"},currencies:{BGN:{displayName:"Bulgarian Lev","displayName-count-one":"Bulgarian lev","displayName-count-other":"Bulgarian leva",symbol:"BGN"},EUR:{displayName:"Euro","displayName-count-one":"euro","displayName-count-other":"euros",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},USD:{displayName:"US Dollar","displayName-count-one":"US dollar","displayName-count-other":"US dollars",symbol:"$","symbol-alt-narrow":"$"}},localeCurrency:"USD",accounting:{patterns:["$n","($n)"],groupSize:[3]}},calendar:{gmtFormat:"GMT{0}",gmtZeroFormat:"GMT",patterns:{d:"M/d/y",D:"EEEE, MMMM d, y",m:"MMM d",M:"MMMM d",y:"MMM y",Y:"MMMM y",F:"EEEE, MMMM d, y h:mm:ss a",g:"M/d/y h:mm a",G:"M/d/y h:mm:ss a",t:"h:mm a",T:"h:mm:ss a",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{Bh:"h B",Bhm:"h:mm B",Bhms:"h:mm:ss B",d:"d",E:"ccc",EBhm:"E h:mm B",EBhms:"E h:mm:ss B",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMd:"M/d/y GGGGG",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d","MMMMW-count-one":"'week' W 'of' MMMM","MMMMW-count-other":"'week' W 'of' MMMM",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y","yw-count-one":"'week' w 'of' Y","yw-count-other":"'week' w 'of' Y"}},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},days:{format:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"stand-alone":{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},months:{format:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},"stand-alone":{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}},quarters:{format:{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},"stand-alone":{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]}},dayPeriods:{format:{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},narrow:{midnight:"mi",am:"a","am-alt-variant":"am",noon:"n",pm:"p","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}},"stand-alone":{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},narrow:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"}}},eras:{format:{wide:{0:"Before Christ",1:"Anno Domini","0-alt-variant":"Before Common Era","1-alt-variant":"Common Era"},abbreviated:{0:"BC",1:"AD","0-alt-variant":"BCE","1-alt-variant":"CE"},narrow:{0:"B",1:"A","0-alt-variant":"BCE","1-alt-variant":"CE"}}},dateFields:{era:{wide:"era",short:"era",narrow:"era"},year:{wide:"year",short:"yr.",narrow:"yr."},quarter:{wide:"quarter",short:"qtr.",narrow:"qtr."},month:{wide:"month",short:"mo.",narrow:"mo."},week:{wide:"week",short:"wk.",narrow:"wk."},weekOfMonth:{wide:"week of month",short:"wk. of mo.",narrow:"wk. of mo."},day:{wide:"day",short:"day",narrow:"day"},dayOfYear:{wide:"day of year",short:"day of yr.",narrow:"day of yr."},weekday:{wide:"day of the week",short:"day of wk.",narrow:"day of wk."},weekdayOfMonth:{wide:"weekday of the month",short:"wkday. of mo.",narrow:"wkday. of mo."},dayperiod:{short:"AM/PM",wide:"AM/PM",narrow:"AM/PM"},hour:{wide:"hour",short:"hr.",narrow:"hr."},minute:{wide:"minute",short:"min.",narrow:"min."},second:{wide:"second",short:"sec.",narrow:"sec."},zone:{wide:"time zone",short:"zone",narrow:"zone"},millisecond:{narrow:"ms",short:"ms",wide:"millisecond"}}}},supplemental:{likelySubtags:{en:"en-Latn-US"},currencyData:{region:{US:[{USD:{_from:"1792-01-01"}}]}},weekData:{firstDay:{US:"sun"},weekendStart:{"001":"sat"},weekendEnd:{"001":"sun"}}}};function Uu(n){let e;return e=hv(n)?Al(n):n,e}function Al(n){if(St[n])return St[n];if(St.supplemental.likelySubtags){const t=n.split("-"),i=t[0],s=t.slice(1),r=function Khe(n,e){const t=St.supplemental.likelySubtags;for(let i=0;i<e.length;i++){let s=t[n+"-"+e[i]];if(s)return s}if(t[n])return t[n]}(i,s),o=r?function qhe(n,e){const t=n.split("-"),i=t[0],s=t[1],r=t[2];return St[n]||-1!==e.indexOf(r)&&St[i+"-"+r]||-1!==e.indexOf(s)&&St[i+"-"+s]||St[i]}(r,s):null;if(o)return o}throw zu.NoLocale.error(n)}const XS="decimal",Lf="currency",dv="accounting",ju="percent",R3="scientific",xa=".",$u="en",eT="Formats-numberSystem-latn",fv=/([#,0.]+)/g,Zhe=/\xa4/g;function N3(n){return fv.lastIndex=0,n.replace(Zhe,"$").replace(fv,"n").split(";")}function F3(n){return fv.lastIndex=0,fv.exec(n.split(";")[0])[0].split(xa)[0].split(",").slice(1).map(function(s){return s.length}).reverse()}function Xhe(n,e){for(let t in e)t.startsWith("unitPattern")&&(n[t]=e[t].replace("{0}","n").replace("{1}","$"))}function Qhe(n,e){const t=St[n],i=t.numbers=t.numbers||{};i.symbols=i.symbols||{};for(let s in e)if("symbols-numberSystem-latn"===s)Object.assign(i.symbols,e[s]);else if(s.includes(eT)){const r=s.substr(0,s.indexOf(eT)),o=e[s].standard;i[r]={patterns:N3(o)},r===Lf?(i[r].groupSize=F3((e[XS+eT]||e[s]).standard),Xhe(i[r],e[s]),i[dv]={patterns:N3(e[s][dv]),groupSize:i[r].groupSize}):i[r].groupSize=F3(o)}else"currencies"===s&&(i.currencies=e[s])}const L3={s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},Jhe=/y+/g,ede=[["dateFormats","short"]],B3={D:[["dateFormats","full"]],m:[["dateTimeFormats","availableFormats","MMMd"]],M:[["dateTimeFormats","availableFormats","MMMMd"]],y:[["dateTimeFormats","availableFormats","yMMM"]],Y:[["dateTimeFormats","availableFormats","yMMMM"]],F:[["dateFormats","full"],["timeFormats","medium"]],g:[["dateTimeFormats","availableFormats","yMd"],["timeFormats","short"]],G:[["dateTimeFormats","availableFormats","yMd"],["timeFormats","medium"]],t:[["timeFormats","short"]],T:[["timeFormats","medium"]]};function tde(n){let e=[],t=Object.getOwnPropertyNames(n);for(let i=0;i<t.length;i++)e.push(n[t[i]]);return e}function pv(n,e){const t={};for(let i in n){let s=t[i]={};for(let r in n[i]){let o=n[i][r];s[r]=e?o:tde(o)}}return t}function ide(n,e){const t=St[n].calendar;t.days=pv(e.days),t.months=pv(e.months),t.quarters=pv(e.quarters),t.dayPeriods=pv(e.dayPeriods,!0),t.eras=function nde(n){const e={},t=e.format={},i={eraAbbr:"abbreviated",eraNames:"wide",eraNarrow:"narrow"};for(let s in n)t[i[s]]=n[s];return e}(e.eras)}function sde(n,e){const t=St[n].calendar,i={};for(let s in e){const[r,o="wide"]=s.split("-"),a=i[r]||{},l=e[s].displayName;!l||(a[o]=l,i[r]=a)}t.dateFields=i}function V3(n,e){const t=[];for(let i=0;i<n.length;i++){let s=n[i],r=e;for(let o=0;o<s.length;o++)r=r[s[o]];t.push(r)}return t.join(" ")}function rde(n,e){const t=St[n].calendar,i=t.patterns={};i.d=V3(ede,e).replace(Jhe,"y");for(let r in B3)i[r]=V3(B3[r],e);for(let r in L3)i[r]=L3[r];const s=e.dateTimeFormats;t.dateTimeFormats={full:s.full,long:s.long,medium:s.medium,short:s.short,availableFormats:s.availableFormats},t.timeFormats=e.timeFormats,t.dateFormats=e.dateFormats}function ode(n,e){const t=St[n].calendar=St[n].calendar||{};for(let i in e)"timeZoneNames"===i?(t.gmtFormat=e[i].gmtFormat,t.gmtZeroFormat=e[i].gmtZeroFormat):"calendars"===i&&e[i].gregorian?(rde(n,e[i].gregorian),ide(n,e[i].gregorian)):"fields"===i&&sde(n,e.fields)}function gv(n){if(n.territory)return n.territory;const t=n.identity;let i;return i=t&&t.territory?t.territory:function ade(n,e){const t=St.supplemental.likelySubtags;let i=n.split("-");if(t){const r=t[n]||t[i[0]];r&&(i=r.split("-"))}if(e)for(let r=i.length-1;r>=1;r--){const o=i[r];(o===e.variant||o===e.script)&&i.splice(r,1)}const s=i.length;if(s>1)return i[s-1].toUpperCase()}(n.name,t),n.territory=i,i}const tT="duration-millisecond",ude=/\{0\}\s?/;function nT(n){return(n["unitPattern-count-one"]||n["unitPattern-count-other"]).replace(ude,"")}function hde(n,e){n.calendar.dateFields.millisecond={narrow:nT(e.narrow[tT]),short:nT(e.short[tT]),wide:nT(e.long[tT])}}function dde(n,e){for(let t in e)"numbers"===t?Qhe(n,e[t]):"dates"===t&&ode(n,e[t])}function H3(n,e){const{type:t,nameType:i,standAlone:s,lower:r}=e,l=(r?"lower-":"")+i,c=Uu(n).calendar[t][s?"stand-alone":"format"];let u=c[l];return!u&&r&&(u=c[l]=function yde(n){return Array.isArray(n)?function gde(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].toLowerCase());return e}(n):function mde(n){const e={};for(let t in n)e[t]=n[t].toLowerCase();return e}(n)}(c[i])),u}function iT(n){const e=n.split("-"),t=parseInt(e[0],10),i=parseInt(e[1],10)-1,s=parseInt(e[2],10);return new Date(t,i,s)}const{NoCurrency:vde,NoCurrencyDisplay:_de,NoSupplementalCurrency:bde,NoCurrencyRegion:xde,NoValidCurrency:wde}=zu,sT="symbol",U3={"001":"USD",150:"EUR"};function j3(n,e,t){const s=Uu(n).numbers.currencies;if(!s){if(t)throw vde.error();return}const r=s[e];if(r)return r;if(t)throw _de.error()}function Dde(n,e){return e.length-n.length}function G3(n,e){const t=Uu(n),i=t.numbers;if(!i.localeCurrency){const s=function Ade(n,e=!0){if(U3[n])return U3[n];const t=St.supplemental.currencyData;if(!t){if(e)throw bde.error();return}const i=t.region[n];if(i)return function Sde(n){let e,t,i,s;for(let r=0;r<n.length;r++){const o=n[r],a=Object.keys(o)[0],l=o[a];if("XXX"!==a&&"false"!==l._tender&&l._from)if(l._to){if(!i){const c=iT(l._from),u=iT(l._to);(!t||t.to<u||t.from<c)&&(e=a,t={from:c,to:u})}}else{const c=iT(l._from);(!s||s<c)&&(i=a,s=c)}}return i||e}(i);if(e)throw xde.error(n)}(gv(t),e);if(!s&&e)throw wde.error(t.name);i.localeCurrency=s}return i.localeCurrency}const rT=["sun","mon","tue","wed","thu","fri","sat"],{NoWeekData:Ide,NoFirstDay:kde}=zu;function $3(n){const e=Uu(n);if(!isNaN(e.firstDay))return e.firstDay;const t=St.supplemental.weekData;if(!t)throw Ide.error();const i=t.firstDay[gv(e)]||t.firstDay["001"];if(!i)throw kde.error();return e.firstDay=rT.indexOf(i),e.firstDay}const{NoWeekData:Pde}=zu;function W3(n){return 1/n==-1/0}function q3(n,e={}){return e.currency||(e.currency=G3(n,!0)),function Mde(n,e){const{value:t,currency:i,currencyDisplay:s=sT}=e;if("code"===s)return i;const r=j3(n,i,!0);let o;return o=s===sT?r["symbol-alt-narrow"]||r[sT]:typeof t>"u"||1!==t?r["displayName-count-other"]:r["displayName-count-one"],o}(n,e)}function K3(n,e,t,i,s){const r=s.numbers.symbols,o=n.indexOf(r.decimal),a=i.groupSize.slice();let l=a.shift(),c=-1!==o?o:t+1,u=n.substring(e,c),h=n;const d=u.length;if(d>=l){let f=d,p=[];for(;f>-1;){let g=u.substring(f-l,f);g&&p.push(g),f-=l;let y=a.shift();if(l=void 0!==y?y:l,0===l){g=u.substring(0,f),g&&p.push(g);break}}u=p.reverse().join(r.group),h=n.substring(0,e)+u+n.substring(c)}return h}function aT(n){return n===Lf||n===dv}function si(n,e=2,t=!1){const i=e-String(n).length;let s=n;if(i>0){const r=new Array(i+1).join("0");s=t?n+r:r+n}return s}function Bf(n,e){let t=n,i=e||0;return t=t.toString().split("e"),t=Math.round(Number(t[0]+"e"+(t[1]?Number(t[1])+i:i))),t=t.toString().split("e"),t=Number(t[0]+"e"+(t[1]?Number(t[1])-i:-i)),t.toFixed(Math.min(i,20))}const Bde=/0+$/;function Ude(n,e,t){const i=t.numbers.symbols,{style:s}=e,r=aT(s);if(s===R3)return(void 0!==e.minimumFractionDigits?n.toExponential(e.minimumFractionDigits):n.toExponential()).replace(xa,i.decimal);let a,o=n;r&&(e.value=o,a=q3(t,e)),s===ju&&(o*=100,a=i.percentSign);const{minimumFractionDigits:l,maximumFractionDigits:c}=function Vde(n){let{minimumFractionDigits:e,maximumFractionDigits:t,style:i}=n;const s=aT(i);let r;return s&&(r=function Ede(n){let e=2,t=2;const i=((St.supplemental.currencyData||{}).fractions||{})[n];return i&&i._digits&&(t=e=parseInt(i._digits,10)),{minimumFractionDigits:e,maximumFractionDigits:t}}(n.currency)),void 0===e&&(e=s?r.minimumFractionDigits:0),void 0===t&&(t=i===ju?Math.max(e,0):s?Math.max(e,r.maximumFractionDigits):Math.max(e,3)),{minimumFractionDigits:e,maximumFractionDigits:t}}(e);o=Bf(o,c);const u=o<0,h=W3(n),d=o.split(xa);let f=d[0],p=si(d[1]?d[1].replace(Bde,""):"",l,!0);u&&(f=f.substring(1)),e.minimumIntegerDigits&&(f=si(f,e.minimumIntegerDigits));let y,g=!1!==e.useGrouping?K3(f,0,f.length,e,t):f;if(p&&(g+=i.decimal+p),r&&"name"===e.currencyDisplay)y=function zde(n,e){const t=n.numbers.currency;let i=1!==e?t["unitPattern-count-other"]:t["unitPattern-count-one"];return e<0&&(i=i.replace("n","-n")),i}(t,n);else{const w=e.patterns;y=u||h?w[1]||"-"+w[0]:w[0]}return"n"!==y||u?function Hde(n,e,t){let i="";for(let s=0,r=e.length;s<r;s++){let o=e.charAt(s);i+="n"===o?n:"$"===o||"%"===o?t:o}return i}(g,y,a):g}const jde=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g;function Z3(n,e){const t=n.format;-1!==t.indexOf("%")&&(n.style=ju,n.symbol=e.numbers.symbols.percentSign,n.number*=100),-1!==t.indexOf("$")&&(n.style=Lf,n.symbol=q3(e))}function X3(n){let e=n.format;if(e.indexOf("'")>-1||e.indexOf('"')>-1||e.indexOf("\\")>-1){const t=n.literals=[];n.format=e.replace(jde,function(i){const s=i.charAt(0).replace("\\",""),r=i.slice(1).replace(s,"");return t.push(r),"__??__"})}}const $de=/(\.(?:[0-9]*[1-9])?)0+$/g,Wde=/\.$/,qde=/,/g;function Q3(n,e,t){let i;return i=-1===n&&-1!==e?e:-1!==n&&-1===e?n:t?Math.min(n,e):Math.max(n,e),i}function ife(n,e,t){const i={negative:n<0,number:Math.abs(n),negativeZero:W3(n),format:e};return function Xde(n){let{number:e,format:t}=n;if(t=t.split(";"),(n.negative||n.negativeZero)&&t[1])t=t[1],n.hasNegativeFormat=!0;else if(0===e){const i=t[2];t=i||t[0],i&&function Zde(n){return-1===n.indexOf("#")&&-1===n.indexOf("0")}(i)&&(n.constant=i)}else t=t[0];n.format=t}(i),i.constant?i.constant:(X3(i),Z3(i,t),function Qde(n){n.hasGroup=n.format.indexOf(",")>-1,n.hasGroup&&(n.format=n.format.replace(qde,""))}(i),function Yde(n){let{number:e,format:t}=n,i=t.indexOf(xa);if(-1!==i){const s=t.lastIndexOf("0")-i,r=t.lastIndexOf("#")-i,o=s>-1,a=r>-1;let l=e.toString().split("e");l=l[1]?Bf(e,Math.abs(l[1])):l[0],l=l.split(xa)[1]||"";let c=l.length,u=-1;o||a?o&&s>r?c=s:r>s&&(a&&c>r?c=r:o&&c<s&&(c=s),u=o?s:0):(n.format=t.substring(0,i)+t.substring(i+1),i=-1,c=0),c>-1&&(e=Bf(e,c),u>-1&&(e=function Kde(n,e){let t;return t=0===e?$de:new RegExp(`(\\.[0-9]{${e}}[1-9]*)0+$`,"g"),n.replace(t,"$1").replace(Wde,"")}(e,u)))}else e=Bf(e);n.negative&&-1*e>=0&&!n.negativeZero&&(n.negative=!1),n.number=e,n.decimalIndex=i}(i),function Jde(n){const e=n.format;let t=e.indexOf("#"),i=e.indexOf("0"),s=Q3(t,i,!0);t=e.lastIndexOf("#"),i=e.lastIndexOf("0");let r=Q3(t,i);s===e.length&&(r=s),n.start=s,n.end=r,n.lastZeroIndex=i}(i),function nfe(n,e){let t=n.number;return-1!==n.start&&(t=function tfe(n,e){const{start:t,end:i,negative:s,negativeZero:r,format:o,decimalIndex:a,lastZeroIndex:l,hasNegativeFormat:c,hasGroup:u}=n;let h=n.number;const d=h.toString().split(xa),f=o.length,p=d[0],g=d[1]||"",y=p.length;let b="";h=o.substring(0,t),(s||r)&&!c&&(h+="-");for(let w=t;w<f;w++){let D=o.charAt(w);if(-1===a){if(i-w<y){h+=p;break}}else if(-1!==l&&l<w&&(b=""),a-w<=y&&a-w>-1&&(h+=p,w=a),a===w){h+=(g?e.numbers.symbols.decimal:"")+g,w+=i-a+1;continue}"0"===D?(h+=D,b=D):"#"===D&&(h+=b)}return u&&(h=K3(h,t+(s&&!c?1:0),Math.max(i,y+t),e.numbers.decimal,e)),i>=t&&(h+=o.substring(i+1)),h}(n,e),t=function efe(n,e,t){let i=n;if(e===Lf||e===ju){i="";for(let s=0,r=n.length;s<r;s++){let o=n.charAt(s);i+="$"===o||"%"===o?t:o}}return i}(t,n.style,n.symbol),t=function Gde(n,e){let t=n;if(e){const i=e.length;for(let s=0;s<i;s++)t=t.replace("__??__",e[s])}return t}(t,n.literals)),t}(i,t))}const sfe=/^(n|c|p|e|a)(\d*)$/i;function J3(n){let e;return e=hv(n)?function rfe(n){const e=sfe.exec(n);if(e){const t={style:XS};let i=e[1].toLowerCase();return"c"===i?t.style=Lf:"a"===i?t.style=dv:"p"===i?t.style=ju:"e"===i&&(t.style=R3),e[2]&&(t.minimumFractionDigits=t.maximumFractionDigits=parseInt(e[2],10)),t}}(n):n,e}function eU(n,e="n",t=$u){if(null==n)return"";if(!isFinite(n))return String(n);const i=Al(t),s=J3(e);let r;return r=s?Ude(n,Object.assign({},i.numbers[s.style||XS],s),i):ife(n,e,i),r}function lT(n){return"number"==typeof n}const ofe=/[eE][-+]?[0-9]+/,tU=/\u00A0/g;function nU(n,e){if(e.length>1){const t=(e[1]||"").replace("$","").split("n");if(n.indexOf(t[0])>-1&&n.indexOf(t[1])>-1)return n.replace(t[0],"").replace(t[1],"")}}const ufe=/\{(\d+)}/g;function cT(n){const e=arguments;return n.replace(ufe,(t,i)=>e[parseInt(i,10)+1])}const iU=[2,1,5,3,4],yfe={[(-2).toString()]:8,[(-1).toString()]:6,[2..toString()]:6,[1..toString()]:3},vfe={numeric:1,"2-digit":2,short:3,long:4,narrow:5},_fe=/[hHmsSzZoOvVxX]/,sU=[{key:"era",specifier:"G"},{key:"year",specifier:"y"},{key:"month",specifier:"M"},{key:"day",specifier:"d"},{key:"weekday",specifier:"E"},{key:"hour",getSpecifier:function bfe(n){return n.hour12?"h":"H"}},{key:"minute",specifier:"m"},{key:"second",specifier:"s"},{key:"timeZoneName",specifier:"z"}],rU={e:"c",E:"c",M:"L",Q:"q"},uT={},Wu={};function hT(n){return uT[n]||(uT[n]=new RegExp(n+"+")),uT[n]}function mv(n){const e=[];let t=n.charAt(0),i=t;for(let s=1;s<n.length;s++){let r=n.charAt(s);r===i?t+=r:(e.push(t),t=i=r)}return e.push(t),e}function dT(n,e){const t=n.length;let s,r,i=-Number.MAX_VALUE;for(let o in e){const a=[];let l=o.replace("v","z"),c=0;for(let u=0;u<t;u++){const h=n[u];let f=(hT(h[0]).exec(l)||[])[0];if(f){if(l=l.replace(f,""),f.length!==h.length){let p=Math.max(Math.min(iU[f.length]-iU[h.length],2),-2);c-=yfe[p]}}else c-=120;if(a.push(f),c<i)break}l.length&&(c-=20*mv(l).length),c>i&&(i=c,s=a,r=e[o])}r=r.replace("v","z");for(let o=0;o<t;o++){const a=s[o];if(a&&a!==n[o]){const l=s[o][0];r=r.replace(hT(l),n[o]),rU[l]&&(r=r.replace(hT(rU[l]),n[o]))}}return r}function fT(n,e){const t=e.calendar;let i;if(hv(n))i=t.patterns[n]?t.patterns[n]:n;else if(n){if(n.pattern)return n.pattern;let s=n.skeleton;s||(n.datetime?i=cT(t.dateTimeFormats[n.datetime],t.timeFormats[n.datetime],t.dateFormats[n.datetime]):n.date?i=t.dateFormats[n.date]:n.time?i=t.timeFormats[n.time]:s=function Cfe(n){let e=[];for(let t=0;t<sU.length;t++){let i=sU[t],r=n[i.key];if(r){let o=i.specifier||i.getSpecifier(n);e.push(o.repeat(vfe[r]))}}return e.join("")}(n)),s&&(i=function wfe(n,e){const t=e.calendar.dateTimeFormats.availableFormats;if(t[n])return t[n];if(Wu[e.name]&&Wu[e.name][n])return Wu[e.name][n];const i=n.search(_fe);let s;if(i>0){const r=n.substr(0,i),o=n.substr(i);s=cT(e.calendar.dateTimeFormats.short,t[o]||dT(mv(o),t),t[r]||dT(mv(r),t))}else s=dT(mv(n),t);return function xfe(n,e,t){Wu[t]||(Wu[t]={}),Wu[t][n]=e}(n,s,e.name),s}(s,e))}return i||(i=t.patterns.d),i}function oU(n){let e;return n<=3?e="abbreviated":4===n?e="wide":5===n?e="narrow":6===n&&(e="short"),e}function js(n,e,t,i,s){return H3(n,{type:e,nameType:oU(t),standAlone:i,lower:s})}function aU(n){return"function"==typeof n}function pT(n){return Boolean(n)&&aU(n.getTime)&&aU(n.getMonth)}const yv="hour",vv="zone",gT="weekday",cU="quarter",Dfe={G:"era",y:"year",q:cU,Q:cU,M:"month",L:"month",d:"day",E:gT,c:gT,e:gT,h:yv,H:yv,k:yv,K:yv,m:"minute",s:"second",S:"millisecond",a:"dayperiod",x:vv,X:vv,z:vv,Z:vv},zf=/d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|"[^"]*"|'[^']*'/g;function uU(n,e,t,i){return e<=2?si(n+1,e):js(t,"months",e,i)[n]}function hU(n,e,t,i){const s=Math.floor(n.getMonth()/3);return e<3?s+1:js(t,"quarters",e,i)[s]}function _v(n,e,t){const{shortHours:i,optionalMinutes:s,separator:r,localizedName:o,zZeroOffset:a}=t,l=n.getTimezoneOffset()/60;if(0===l&&a)return"Z";const c=l<=0?"+":"-",u=Math.abs(l).toString().split("."),h=u[1]||0;let d=c+(i?u[0]:si(u[0],2));return(h||!s)&&(d+=(r?":":"")+si(h,2)),o&&(d=cT(0===l?e.calendar.gmtZeroFormat:e.calendar.gmtFormat,d)),d}function dU(n,e,t,i){let s;return s=e<3?function Sfe(n,e,t){const i=$3(t);let s;return s=n<i?7-i+n:n-i,s+1}(n.getDay(),0,t):js(t,"days",e,i)[n.getDay()],s}const Bt={};function fU(n,e,t=$u){if(!pT(n))return n??"";const i=Al(t);return fT(e,i).replace(zf,function(r){let a,o=r.length;return a=r.includes("'")||r.includes('"')?r.slice(1,o-1):Bt[r[0]](n,o,i),a})}function pU(n,e,t){const i=n.getTimezoneOffset(),s=new Date(n.getTime()+6e4*(e-t)),r=s.getTimezoneOffset();return new Date(s.getTime()+6e4*(r-i))}Bt.d=function(n,e){return si(n.getDate(),e)},Bt.E=function(n,e,t){return js(t,"days",e)[n.getDay()]},Bt.M=function(n,e,t){return uU(n.getMonth(),e,t,!1)},Bt.L=function(n,e,t){return uU(n.getMonth(),e,t,!0)},Bt.y=function(n,e){let t=n.getFullYear();return 2===e&&(t%=100),si(t,e)},Bt.h=function(n,e){return si(n.getHours()%12||12,e)},Bt.H=function(n,e){return si(n.getHours(),e)},Bt.k=function(n,e){return si(n.getHours()||24,e)},Bt.K=function(n,e){return si(n.getHours()%12,e)},Bt.m=function(n,e){return si(n.getMinutes(),e)},Bt.s=function(n,e){return si(n.getSeconds(),e)},Bt.S=function(n,e){const t=n.getMilliseconds();let i;return i=0!==t?si(String(t/1e3).split(".")[1].substr(0,e),e,!0):si("",e),i},Bt.a=function(n,e,t){return js(t,"dayPeriods",e)[n.getHours()<12?"am":"pm"]},Bt.z=function(n,e,t){return _v(n,t,{shortHours:e<4,optionalMinutes:e<4,separator:!0,localizedName:!0})},Bt.Z=function(n,e,t){return _v(n,t,{separator:e>3,localizedName:4===e,zZeroOffset:5===e})},Bt.x=function(n,e,t){return _v(n,t,{optionalMinutes:1===e,separator:3===e||5===e})},Bt.X=function(n,e,t){return _v(n,t,{optionalMinutes:1===e,separator:3===e||5===e,zZeroOffset:!0})},Bt.G=function(n,e,t){let i=n.getFullYear()>=0?1:0;return js(t,"eras",e)[i]},Bt.e=dU,Bt.c=function(n,e,t){return dU(n,e,t,!0)},Bt.q=function(n,e,t){return hU(n,e,t,!0)},Bt.Q=hU;const Mfe=/([+|-]\d{1,2})(:?)(\d{2})?/,Efe=/^\/Date\((.*?)\)\/$/,Afe=/[+-]\d*/,Ife={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},kfe=/\d+/,Pfe=/^ */,Rfe=/ *$/,Ofe=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","E MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.SSSSSSSXXX","yyyy-MM-ddTHH:mm:ss.SSSXXX","yyyy-MM-ddTHH:mm:ss.SSXXX","yyyy-MM-ddTHH:mm:ssXXX","yyyy-MM-ddTHH:mm:ss.SSSSSSS","yyyy-MM-ddTHH:mm:ss.SSS","yyyy-MM-ddTHH:mmXXX","yyyy-MM-ddTHH:mmX","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"],mU=["G","g","F","Y","y","M","m","D","d","y","T","t"];function rs(n,e,t){return!(n>=e&&n<=t)}function wn(n,e){let{format:t,idx:i}=e,s=0;for(;t[i]===n;)s++,i++;return s>0&&(i-=1),e.idx=i,s}function br(n,e){let t=n?Ife[n]||new RegExp("^\\d{1,"+n+"}"):kfe,i=e.value.substr(e.valueIdx,n).match(t);return i?(i=i[0],e.valueIdx+=i.length,parseInt(i,10)):null}function Il(n,e,t){let r,o,c,i=0,s=n.length,a=0,l=0;for(;i<s;i++)r=n[i],o=r.length,c=e.value.substr(e.valueIdx,o),t&&(c=c.toLowerCase()),c===r&&o>a&&(a=o,l=i);return a?(e.valueIdx+=a,l+1):null}function mT(n){let e=!1;return n.value.charAt(n.valueIdx)===n.format[n.idx]&&(n.valueIdx++,e=!0),e}function bv(n,e,t){const{shortHours:i,noSeparator:s,optionalMinutes:r,localizedName:o,zLiteral:a}=t;if(n.UTC=!0,a&&"Z"===n.value.charAt(n.valueIdx))return n.valueIdx++,!1;if(o&&!Il(function Ffe(n){const{gmtFormat:e,gmtZeroFormat:t}=n;if(!e)throw zu.NoGMTInfo.error();return[e.replace("{0}","").toLowerCase(),t.replace("{0}","").toLowerCase()]}(e.calendar),n,!0))return!0;const l=Mfe.exec(n.value.substr(n.valueIdx,6));if(!l)return!o;const c=l[1],u=l[3],h=parseInt(c,10),d=l[2];let f=parseInt(u,10);if(isNaN(h)||!i&&3!==c.length||!r&&isNaN(f)||s&&d||(isNaN(f)&&(f=null),rs(h,-12,13)||f&&rs(f,0,59)))return!0;n.valueIdx+=l[0].length,n.hoursOffset=h,n.minutesOffset=f}function yU(n,e,t){const i=wn(n,e),s=js(t,"months",i,"L"===n,!0),r=i<3?br(2,e):Il(s,e,!0);if(null===r||rs(r,1,12))return!0;e.month=r-1}function vU(n,e,t){const i=wn(n,e),s=js(t,"days",i,"c"===n,!0);let r=i<3?br(1,e):Il(s,e,!0);if(!r&&0!==r||rs(r,1,7))return!0}const jt={};function Bfe(n,e){return`${Pfe.exec(e)[0]}${n}${Rfe.exec(e)[0]}`}function Vfe(n,e,t){let i=fT(e,t).split("");const s={format:i,idx:0,value:Bfe(n,e),valueIdx:0,year:null,month:null,day:null,hours:null,minutes:null,seconds:null,milliseconds:null},r=i.length;let o=!1;for(;s.idx<r;s.idx++){let a=i[s.idx];if(o)"'"===a&&(o=!1),mT(s);else if(jt[a]){if(jt[a](s,t))return null}else if("'"===a)o=!0,mT(s);else if(!mT(s))return null}return s.valueIdx<n.length?null:function Lfe(n){let{year:e,month:t,day:i,hours:s,minutes:r,seconds:o,milliseconds:a,pmHour:l,UTC:c,hoursOffset:u,minutesOffset:h}=n;const d=null!==s||null!==r||o||null,f=new Date;let p;return null===e&&null===t&&null===i&&d?(e=f.getFullYear(),t=f.getMonth(),i=f.getDate()):(null===e&&(e=f.getFullYear()),null===i&&(i=1)),l&&s<12&&(s+=12),c?(u&&(s+=-u),h&&(r+=-h*(u<0?-1:1)),p=new Date(Date.UTC(e,t,i,s,r,o,a))):(p=new Date(e,t,i,s,r,o,a),function Tfe(n,e){!e&&23===n.getHours()&&n.setHours(n.getHours()+2)}(p,s)),e<100&&p.setFullYear(e),p.getDate()!==i&&void 0===c?null:p}(s)||null}jt.d=function(n){wn("d",n);const e=br(2,n);if(null===e||rs(e,1,31))return!0;null===n.day&&(n.day=e)},jt.E=function(n,e){if(null===Il(js(e,"days",wn("E",n),!1,!0),n,!0))return!0},jt.M=function(n,e){return yU("M",n,e)},jt.L=function(n,e){return yU("L",n,e)},jt.y=function(n){const e=wn("y",n);let t=br(1===e?void 0:e,n);if(null===t)return!0;if(2===e){const i=(new Date).getFullYear();t=i-i%100+t,t>2029&&(t-=100)}n.year=t},jt.h=function(n){wn("h",n);let e=br(2,n);if(12===e&&(e=0),null===e||rs(e,0,11))return!0;n.hours=e},jt.K=function(n){wn("K",n);let e=br(2,n);if(null===e||rs(e,0,11))return!0;n.hours=e},jt.a=function(n,e){let i=js(e,"dayPeriods",wn("a",n),!1,!0);const s=Il([i.pm],n,!0);if(!s&&!Il([i.am],n,!0))return!0;n.pmHour=s},jt.H=function(n){wn("H",n);const e=br(2,n);if(null===e||rs(e,0,23))return!0;n.hours=e},jt.k=function(n){wn("k",n);let e=br(2,n);if(null===e||rs(e,1,24))return!0;n.hours=24===e?0:e},jt.m=function(n){wn("m",n);const e=br(2,n);if(null===e||rs(e,0,59))return!0;n.minutes=e},jt.s=function(n){wn("s",n);const e=br(2,n);if(null===e||rs(e,0,59))return!0;n.seconds=e},jt.S=function(n){const e=wn("S",n),t=n.value.substr(n.valueIdx,e);let i=null;if(isNaN(parseInt(t,10))||(i=parseFloat("0."+t,10),i=Bf(i,3),i*=1e3,n.valueIdx+=e),null===i||rs(i,0,999))return!0;n.milliseconds=i},jt.z=function(n,e){const i=wn("z",n)<4,s=bv(n,e,{shortHours:i,optionalMinutes:i,localizedName:!0});if(s)return s},jt.Z=function(n,e){const t=wn("Z",n),i=bv(n,e,{noSeparator:t<4,zLiteral:5===t,localizedName:4===t});if(i)return i},jt.x=function(n,e){const t=wn("x",n),i=bv(n,e,{noSeparator:3!==t&&5!==t,optionalMinutes:1===t});if(i)return i},jt.X=function(n,e){const t=wn("X",n),i=bv(n,e,{noSeparator:3!==t&&5!==t,optionalMinutes:1===t,zLiteral:!0});if(i)return i},jt.G=function(n,e){const i=js(e,"eras",wn("G",n),!1,!0);if(null===Il([i[0],i[1]],n,!0))return!0},jt.e=function(n,e){return vU("e",n,e)},jt.c=function(n,e){return vU("c",n,e)};const Gfe={month:{type:"months",minLength:3,standAlone:"L"},quarter:{type:"quarters",minLength:3,standAlone:"q"},weekday:{type:"days",minLength:{E:0,c:3,e:3},standAlone:"c"},dayperiod:{type:"dayPeriods",minLength:0},era:{type:"eras",minLength:0}},_U="literal";function yT(n,e){const t=n[n.length-1];t&&t.type===_U?t.pattern+=e:n.push({type:_U,pattern:e})}function $fe(n){return"h"===n||"K"===n}const qfe=/\{(\d+)(:[^}]+)?\}/g;function bU(n,e,t){if(e){if(pT(n))return fU(n,e,t);if(lT(n))return eU(n,e,t)}return n??""}const Yfe={name:"@progress/kendo-angular-intl",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1657539082,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"},wo="http://www.telerik.com/kendo-angular-ui/components/internationalization/troubleshooting/",xU={NoCurrency:`Solution: ${wo}#toc-no-currency`,NoCurrencyDisplay:`Solution: ${wo}#toc-no-currency-display`,NoCurrencyRegion:`Solution: ${wo}#toc-no-currency-region`,NoDateFieldNames:`Solution: ${wo}#toc-no-date-filed-names`,NoFirstDay:`Solution: ${wo}#toc-no-first-day`,NoGMTInfo:`Solution: ${wo}#toc-no-gmt-info`,NoLocale:`Solution: ${wo}#toc-no-locale`,NoValidCurrency:`Solution: ${wo}#toc-no-valid-currency`,NoWeekData:`Solution: ${wo}#toc-no-week-data`};function Ni(n){return function(...e){try{return n.apply(null,e)}catch(t){throw t.message=function wU(n){const e=n.message,t=xU[Object.keys(xU).filter(i=>0===e.indexOf(i))[0]];return t?`${e} ${t}`:e}(t),t}}}const Zfe=Ni(H3),Xfe=Ni(function pde(n,e=$u){const i=Al(e).calendar.dateFields;if(!i)throw zu.NoDateFieldNames.error();const s=i[n.type]||{};return s[n.nameType]||s.wide}),Qfe=Ni($3),Jfe=Ni(function Kfe(n,e,t){return n.replace(qfe,function(i,s,r){return bU(e[parseInt(s,10)],r?r.substring(1):"",t)})}),epe=Ni(fU),tpe=Ni(eU),npe=(Ni(function fde(){const n=arguments.length;for(let e=0;e<n;e++){let t=arguments[e];if(t.main){let i=Object.keys(t.main)[0],s=t.main[i],r=St[i]=St[i]||{};s.units?hde(r,s.units):(r.name=r.name||i,r.identity=r.identity||s.identity,gv(r),dde(i,s))}else if(t.supplemental)if(t.supplemental.weekData)St.supplemental.weekData={firstDay:t.supplemental.weekData.firstDay,weekendStart:t.supplemental.weekData.weekendStart,weekendEnd:t.supplemental.weekData.weekendEnd};else if(t.supplemental.likelySubtags)St.supplemental.likelySubtags=Object.assign(St.supplemental.likelySubtags,t.supplemental.likelySubtags);else if(t.supplemental.currencyData){const i=St.supplemental.currencyData;i.region=Object.assign(i.region||{},t.supplemental.currencyData.region),i.fractions=Object.assign(i.fractions||{},t.supplemental.currencyData.fractions)}}}),Ni(function Ode(n){return Uu(n).numbers.symbols})),ipe=Ni(function jfe(n,e,t=$u){if(!n)return null;if(pT(n))return n;let i=String(n).trim(),s=function zfe(n){if(n&&0===n.indexOf("/D")){let e=Efe.exec(n);if(e){e=e[1];let t=Afe.exec(e.substring(1));return e=new Date(parseInt(e,10)),t&&(t=function Hfe(n){const e="-"===n.substr(0,1)?-1:1;let t=n.substring(1);return t=60*parseInt(t.substr(0,2),10)+parseInt(t.substring(2),10),e*t}(t[0]),e=pU(e,e.getTimezoneOffset(),0),e=pU(e,0,-1*t)),e}}}(i);if(s)return s;const r=Al(t);let o=e||function Ufe(n){const e=[],t=n.patterns,i=mU.length;for(let s=0;s<i;s++)e.push(t[mU[s]]);return e.concat(Ofe)}(r.calendar);o=Array.isArray(o)?o:[o];const a=o.length;for(let l=0;l<a;l++)if(s=Vfe(i,o[l],r),s)return s;return s}),spe=Ni(function cfe(n,e=$u,t={}){if(!n&&0!==n)return null;if(lT(n))return n;const i=Al(e),s=i.numbers.symbols;let a,r=n.toString(),o=t||{};if(hv(t)&&(o={format:t},X3(o),r=function lfe(n,e){const t=e.literals;let i=n;if(t)for(let s=0;s<t.length;s++)i=i.replace(t[s],"");return i}(r,o),Z3(o,i)),(o.style===ju||r.indexOf(s.percentSign)>-1)&&(r=r.replace(s.percentSign,""),a=!0),ofe.test(r))return r=parseFloat(r.replace(s.decimal,xa)),isNaN(r)?null:r;const{negative:l,number:c}=function afe(n,e,t){const i=J3(t)||{};let o,s=aT(i.style),r=n;const a=i.currency||G3(e,s);if(a){const l=function Tde(n,e,t=!0){const i=j3(n,e,t);if(i){if(!i.displays){const s=[e];for(let r in i)s.push(i[r]);s.sort(Dde),i.displays=s}return i.displays}}(e,a,s);if(l)for(let c=0;c<l.length;c++){let u=l[c];if(r.includes(u)){r=r.replace(u,""),s=!0;break}}if(s){const c=nU(r,e.numbers.currency.patterns)||nU(r,e.numbers.accounting.patterns);c&&(o=!0,r=c)}}return{number:r,negative:o}}(r,i,o);r=String(c).trim();const u=r.indexOf("-");if(u>0)return null;let h=u>-1;return h=void 0!==l?l:h,r=r.replace("-","").replace(tU," ").split(s.group.replace(tU," ")).join("").replace(s.decimal,xa),r=parseFloat(r),isNaN(r)?r=null:h&&(r*=-1),r&&a&&(r/=100),r}),rpe=Ni(function Wfe(n,e=$u){const i=fT(n,Al(e)),s=[];let r=zf.lastIndex=0,o=zf.exec(i);for(;o;){let a=o[0];if(r<o.index&&yT(s,i.substring(r,o.index)),a.startsWith('"')||a.startsWith("'"))yT(s,a);else{const l=a[0],c=Dfe[l],u={type:c,pattern:a};"hour"===c&&(u.hour12=$fe(a));const h=Gfe[c];if(h){const d=lT(h.minLength)?h.minLength:h.minLength[l],f=a.length;f>=d&&(u.names={type:h.type,nameType:oU(f),standAlone:h.standAlone===l})}s.push(u)}r=zf.lastIndex,o=zf.exec(i)}return r<i.length&&yT(s,i.substring(r)),s}),ope=Ni(bU),ape=Ni(function Rde(n){const e=Uu(n);if(e.weekendRange)return e.weekendRange;const t=St.supplemental.weekData;if(!t)throw Pde.error();const i=gv(e),r=t.weekendEnd[i]||t.weekendEnd["001"];return e.weekendRange={start:rT.indexOf(t.weekendStart[i]||t.weekendStart["001"]),end:rT.indexOf(r)},e.weekendRange}),lpe=/_/g;let Co=(()=>{class n{constructor(){this.changes=new ne,If(Yfe)}notify(){this.changes.emit()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:function(t){let i=null;return i=t?new t:function cpe(n){return new upe(n)}(P(Zn)),i},providedIn:"root"}),n})(),upe=(()=>{class n extends Co{constructor(t){super(),this.localeId=t}get localeId(){return this.locale}set localeId(t){const i=t.replace(lpe,"-");i!==this.locale&&(this.locale=i,this.notify())}format(t,...i){return Jfe(t,i,this.localeId)}toString(t,i,s){return ope(t,i,s||this.localeId)}formatDate(t,i,s){return epe(t,i,s||this.localeId)}parseDate(t,i,s){return ipe(t,i,s||this.localeId)}parseNumber(t,i,s){return spe(t,s||this.localeId,i)}formatNumber(t,i,s){return tpe(t,i,s||this.localeId)}dateFieldName(t,i){return Xfe(t,i||this.localeId)}dateFormatNames(t,i){return Zfe(i||this.localeId,t)}splitDateFormat(t,i){return rpe(t,i||this.localeId)}numberSymbols(t){return npe(t||this.localeId)}firstDay(t){return Qfe(t||this.localeId)}weekendRange(t){return ape(t||this.localeId)}}return n.\u0275fac=function(t){return new(t||n)(P(Zn))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const CU=["content"];function dpe(n,e){if(1&n&&(le(0,"div",1),$e(1),_e()),2&n){const t=ws();He("ngStyle",t.style),Ze(1),jh(" ",t.value," ")}}function fpe(n,e){if(1&n&&Wi(0,"kendo-chart-crosshair-tooltip",1),2&n){const t=e.$implicit,i=ws();He("key",t)("popupSettings",i.popupSettings)}}function ppe(n,e){}function gpe(n,e){if(1&n&&on(0,ppe,0,0,"ng-template",5),2&n){const t=ws(2);He("ngTemplateOutlet",t.seriesTooltipTemplateRef)("ngTemplateOutletContext",t.seriesTooltipContext)}}function mpe(n,e){}function ype(n,e){if(1&n&&on(0,mpe,0,0,"ng-template",5),2&n){const t=ws(2);He("ngTemplateOutlet",t.seriesSharedTooltipTemplateRef)("ngTemplateOutletContext",t.seriesSharedTooltipContext)}}function vpe(n,e){if(1&n&&(le(0,"div",3),on(1,gpe,1,2,null,4),on(2,ype,1,2,null,4),_e()),2&n){const t=ws();He("ngClass",t.popupClasses)("ngStyle",t.style),Ze(1),He("ngIf",!t.shared),Ze(1),He("ngIf",t.shared)}}function _pe(n,e){1&n&&Wi(0,"span",6),2&n&&He("innerHTML",e.formattedValue,SE)}function bpe(n,e){if(1&n&&(le(0,"td"),Wi(1,"span",8),_e()),2&n){const t=ws().$implicit;Ze(1),ix("background-color",t.series.color)}}function xpe(n,e){if(1&n&&(Bh(0),$e(1),Vh()),2&n){const t=ws(2).$implicit;Ze(1),Wa(t.series.name)}}function wpe(n,e){1&n&&(Bh(0),$e(1,"\xa0"),Vh())}function Cpe(n,e){if(1&n&&(le(0,"td"),on(1,xpe,2,1,"ng-container",4),on(2,wpe,2,0,"ng-container",4),_e()),2&n){const t=ws().$implicit;Ze(1),He("ngIf",void 0!==t.series.name),Ze(1),He("ngIf",void 0===t.series.name)}}function Dpe(n,e){}function Spe(n,e){if(1&n&&(le(0,"tr"),on(1,bpe,2,2,"td",4),on(2,Cpe,3,2,"td",4),le(3,"td"),on(4,Dpe,0,0,"ng-template",5),_e()()),2&n){const t=e.$implicit,i=ws(),s=i.colorMarker,r=i.nameColumn;Ze(1),He("ngIf",s),Ze(1),He("ngIf",r),Ze(2),He("ngTemplateOutlet",t.template)("ngTemplateOutletContext",t)}}function Tpe(n,e){if(1&n&&(le(0,"table")(1,"tr")(2,"th"),$e(3),_e()(),on(4,Spe,5,4,"tr",7),_e()),2&n){const t=e.points,i=e.categoryText,s=e.colspan;Ze(2),ci("colspan",s),Ze(1),jh(" ",i," "),Ze(1),He("ngForOf",t)}}const Mpe=["surface"];function Epe(n,e){}function Ape(n,e){if(1&n&&(le(0,"div",6),on(1,Epe,0,0,"ng-template",7),_e()),2&n){const t=ws();He("ngStyle",t.donutCenterStyle),Ze(1),He("ngTemplateOutlet",t.donutCenterTemplate.templateRef)}}const Ipe=n=>({x:{location:n.pageX},y:{location:n.pageY}});function Ppe(n,e){for(let t=0;t<n.length;t++)if(e[n[t]])return!0;return!1}const DU=[{end:"panend",move:"panmove",start:"panstart"},{gesturechange:"pinchmove",gestureend:"pinchend",gesturestart:"pinchstart"},{press:"press"},{tap:"tap"}];class Rpe{constructor(e,t){this.hammerInstance=e,this.eventHandlers={},this.tap=this.tap.bind(this),this.press=this.press.bind(this),this.panstart=this.panstart.bind(this),this.panmove=this.panmove.bind(this),this.panend=this.panend.bind(this),this.pinchstart=this.pinchstart.bind(this),this.pinchmove=this.pinchmove.bind(this),this.pinchend=this.pinchend.bind(this),t&&this.bind(t)}tap(e){this.trigger("tap",e)}press(e){this.trigger("press",e)}panstart(e){delete this.previous,this.previous=this.trigger("start",e)}panmove(e){this.previous=this.trigger("move",e)}panend(e){this.trigger("end",e),delete this.previous}pinchstart(e){this.trigger("gesturestart",e)}pinchmove(e){this.trigger("gesturechange",e)}pinchend(e){this.trigger("gestureend",e)}trigger(e,t){const i=((n,e)=>{const t=n.pointers,i=t[0],s=i.pageX,r=i.pageY;let o=0;if(t.length>1){const a=t[0],l=t[1];o=Math.sqrt(Math.pow(a.pageX-l.pageX,2)+Math.pow(a.pageY-l.pageY,2))}return{distance:o,event:n.srcEvent,preventDefault:function(){n.preventDefault()},target:n.target,touches:t.map(Ipe),type:n.type,x:{delta:e?s-e.x.location:0,initialDelta:n.deltaX,location:s,startLocation:s-n.deltaX},y:{delta:e?r-e.y.location:0,initialDelta:n.deltaY,location:r,startLocation:r-n.deltaY}}})(t,this.previous);return this.eventHandlers[e]&&this.eventHandlers[e](i),i}bind(e={}){this.unbind(),this.eventHandlers=e;for(let t=0;t<DU.length;t++){const i=DU[t],s=Object.keys(i);if(Ppe(s,e))for(let r=0;r<s.length;r++){const o=i[s[r]];this.hammerInstance.on(o,this[o])}}}unbind(){this.hammerInstance&&this.hammerInstance.off(),this.eventHandlers={}}destroy(){this.hammerInstance&&(this.hammerInstance.destroy(),delete this.hammerInstance),delete this.eventHandlers}toggleDrag(e){this.toggle("pan",e)}toggleZoom(e){this.toggle("pinch",e)}toggle(e,t){this.hammerInstance&&this.hammerInstance.get(e).set({enable:t})}}const Lpe=YL.prototype.options.labels.dateFormats,SU={milliseconds:"HH:mm:ss.SSS",seconds:{time:"medium"},minutes:{time:"short"},hours:{time:"short"},days:{skeleton:"Md"},weeks:{skeleton:"Md"},months:{skeleton:"yyMMM"},years:{skeleton:"y"}};Object.assign(Wd.prototype.options.labels.dateFormats,SU),Object.assign(Lpe,SU),cC.register(class Npe{static create(e,t){if(typeof window<"u"){const i=window.Hammer;if(!i){if(Vx())throw new Error("Hammerjs is not loaded.Solution: http://www.telerik.com/kendo-angular-ui/components/charts/troubleshooting/#toc-hammerjs-is-not-loaded");return}const s=new i(e,{recognizers:[[i.Tap],[i.Pan],[i.Pinch],[i.Press,{time:0}]]});return new Rpe(s,t)}}});let TU=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(_(Kn,8))},n.\u0275dir=ee({type:n,selectors:[["","kendoChartDonutCenterTemplate",""]]}),n})();class Bpe{constructor(e,t){this.sender=e,this.options=t}}let Gt=(()=>{class n{constructor(){this.source=new fn,this.onItemChange$=this.source.asObservable()}notify(t){this.source.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();function vT(n,e){for(const t in n){if(!n.hasOwnProperty(t))continue;const i=n[t].currentValue;void 0===i?delete e[t]:e[t]=i}}function _T(n){const e={};for(const t in n)!n.hasOwnProperty(t)||(e[t]=new wM(null,n[t],!1));return e}const MU=1e3/60;class bT{constructor(e,t){this.key=e,this.value=t}}let I=(()=>{class n{constructor(t){this.ngZone=t,this.store={},this.source=new Xn({}),this.initSource()}initSource(){this.onFastChange$=this.source.asObservable(),this.onChange$=this.onFastChange$.pipe(Md(MU))}push(t){this.store=t,this.next()}notify(t){this.set(t.key,t.value),this.next()}set(t,i){let s=this.store;const r=t.split(".");let o=r.shift();for(;r.length>0;)s=s[o]=s[o]||{},o=r.shift();s[o]=i}next(){this.ngZone.runOutsideAngular(()=>{this.source.next(this.store)})}}return n.\u0275fac=function(t){return new(t||n)(P(Re))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),qu=(()=>{class n{constructor(t,i){this.configurationService=t,this.collectionService=i,this.options={},this.subscription=t.onFastChange$.subscribe(s=>{this.options=s,this.notify()})}ngOnChanges(t){const i=this.configurationService.store;vT(t,i),this.configurationService.push(i)}notifyChanges(t){this.ngOnChanges(_T(t))}ngOnDestroy(){this.subscription.unsubscribe()}notify(){!this.collectionService||this.collectionService.notify(new Bpe(this,this.options))}}return n.\u0275fac=function(t){return new(t||n)(_(I),_(Gt))},n.\u0275dir=ee({type:n,features:[On]}),n})(),X=(()=>{class n{constructor(t,i){if(this.configKey=t,this.configurationService=i,this.store={},void 0===t)throw new Error("Configuration key not set")}ngOnDestroy(){this.store=void 0,this.notify()}ngOnChanges(t){vT(t,this.store),this.notify()}notifyChanges(t){this.ngOnChanges(_T(t))}markAsVisible(){this.store.visible=!0,this.notify()}notify(){this.configurationService.notify(new bT(this.configKey,this.store))}}return n.\u0275fac=function(t){Cc()},n.\u0275dir=ee({type:n,features:[On]}),n})(),xT=(()=>{class n extends X{constructor(t){super("tooltip",t),this.configurationService=t,this.markAsVisible()}get seriesTooltipTemplateRef(){return this.seriesTooltipTemplate}}return n.\u0275fac=function(t){return new(t||n)(_(I))},n.\u0275cmp=k({type:n,selectors:[["kendo-chart-series-item-tooltip"]],contentQueries:function(t,i,s){if(1&t&&yn(s,Kn,5),2&t){let r;ut(r=ht())&&(i.seriesTooltipTemplate=r.first)}},inputs:{background:"background",border:"border",color:"color",font:"font",format:"format",padding:"padding",visible:"visible"},features:[T],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),n})();const EU=n=>void 0!==n&&!n;let Uf=(()=>{class n extends qu{constructor(t,i){super(t,i),this.configurationService=t,this.collectionService=i}toggleVisibility(){this.options.visible=EU(this.options.visible),this.notify()}togglePointVisibility(t){const i=this.options.pointVisibility=this.options.pointVisibility||{};i[t]=EU(i[t]),this.notify()}get seriesTooltipTemplateRef(){if(this.seriesTooltip)return this.seriesTooltip.seriesTooltipTemplateRef}}return n.\u0275fac=function(t){return new(t||n)(_(I),_(Gt))},n.\u0275cmp=k({type:n,selectors:[["kendo-chart-series-item"]],contentQueries:function(t,i,s){if(1&t&&yn(s,xT,5),2&t){let r;ut(r=ht())&&(i.seriesTooltip=r.first)}},inputs:{aggregate:"aggregate",autoFit:"autoFit",axis:"axis",border:"border",categoryAxis:"categoryAxis",categoryField:"categoryField",closeField:"closeField",color:"color",colorField:"colorField",connectors:"connectors",currentField:"currentField",dashType:"dashType",data:"data",downColor:"downColor",downColorField:"downColorField",dynamicHeight:"dynamicHeight",dynamicSlope:"dynamicSlope",errorHighField:"errorHighField",errorLowField:"errorLowField",explodeField:"explodeField",field:"field",fromField:"fromField",gap:"gap",highField:"highField",holeSize:"holeSize",line:"line",lowField:"lowField",lowerField:"lowerField",margin:"margin",maxSize:"maxSize",mean:"mean",meanField:"meanField",median:"median",medianField:"medianField",minSize:"minSize",missingValues:"missingValues",name:"name",neckRatio:"neckRatio",negativeColor:"negativeColor",negativeValues:"negativeValues",noteTextField:"noteTextField",opacity:"opacity",openField:"openField",outliersField:"outliersField",overlay:"overlay",padding:"padding",q1Field:"q1Field",q3Field:"q3Field",segmentSpacing:"segmentSpacing",size:"size",sizeField:"sizeField",spacing:"spacing",stack:"stack",startAngle:"startAngle",style:"style",summaryField:"summaryField",target:"target",toField:"toField",type:"type",upperField:"upperField",visible:"visible",visibleInLegend:"visibleInLegend",visibleInLegendField:"visibleInLegendField",visual:"visual",width:"width",whiskers:"whiskers",xAxis:"xAxis",xErrorHighField:"xErrorHighField",xErrorLowField:"xErrorLowField",xField:"xField",yAxis:"yAxis",yErrorHighField:"yErrorHighField",yErrorLowField:"yErrorLowField",yField:"yField",zIndex:"zIndex",errorBars:"errorBars",extremes:"extremes",highlight:"highlight",labels:"labels",markers:"markers",notes:"notes",outliers:"outliers",tooltip:"tooltip"},features:[fe([I]),T],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),n})();const Hpe={horizontal:"fit",vertical:"fit"};let AU=(()=>{class n{constructor(t,i){this.popupService=t,this.localizationService=i,this.style={},this.popupRef=null}get active(){return null!==this.popupRef}show(t){const i=t.anchor.align,s=this.position(t.anchor.point);if(this.style=t.style,this.popupRef){const r=this.popupRef.popup.instance;r.offset=s,r.popupAlign=i}else this.popupRef=this.popupService.open(Object.assign({offset:s,popupAlign:i,animate:this.animate,content:this.templateRef,collision:Hpe,positionMode:"absolute"},this.popupSettings)),this.localizationService.rtl&&this.popupRef.popupElement.setAttribute("dir","rtl"),this.onInit()}hide(){this.popupRef&&(this.popupRef.close(),this.popupRef=null)}onInit(){}ngOnDestroy(){this.hide()}position(t){if(!this.popupSettings||!this.popupSettings.appendTo)return t;const i=this.popupSettings.appendTo.element.nativeElement,s=i.getBoundingClientRect(),{scrollLeft:r,scrollTop:o}=this.scrollOffset(i);return{left:t.left-s.left-r,top:t.top-s.top-o}}scrollOffset(t){if(!t)return null;let i=t.scrollLeft,s=t.scrollTop,r=t.parentElement;for(;r;)i+=r.scrollLeft,s+=r.scrollTop,r=r.parentElement;return{scrollLeft:i,scrollTop:s}}}return n.\u0275fac=function(t){return new(t||n)(_(Hu),_(Kr))},n.\u0275dir=ee({type:n}),n})();function IU(){if(Xi())return new It(document.body)}let wT=(()=>{class n extends AU{constructor(t,i){super(t,i),this.animate=!1}show(t){super.show(t),this.value=t.value,this.popupRef.popup.changeDetectorRef.detectChanges()}}return n.\u0275fac=function(t){return new(t||n)(_(Hu),_(Kr))},n.\u0275cmp=k({type:n,selectors:[["kendo-chart-crosshair-tooltip"]],viewQuery:function(t,i){if(1&t&&qi(CU,7),2&t){let s;ut(s=ht())&&(i.templateRef=s.first)}},inputs:{key:"key",popupSettings:"popupSettings"},features:[fe([Hu,{provide:YS,useFactory:IU}]),T],decls:2,vars:0,consts:[["content",""],[1,"k-chart-tooltip","k-chart-crosshair-tooltip",3,"ngStyle"]],template:function(t,i){1&t&&on(0,dpe,2,2,"ng-template",null,0,Dx)},dependencies:[Ag],encapsulation:2}),n})();const kU=["categoryAxis","valueAxis","xAxis","yAxis"];let jf=(()=>{class n{constructor(){this.tooltipKeys=[],this.tooltipsMap={}}show(t){const i=this.crossahirTooltipComponents.toArray(),s=t.axisName,r=t.axisIndex;for(let o=0;o<i.length;o++)if(i[o].key===s+r){i[o].show(t);break}}hide(){const t=this.crossahirTooltipComponents.toArray();for(let i=0;i<t.length;i++)t[i].hide()}get active(){return this.tooltipKeys.length>0}createCrosshairTooltips(t){const i=this.mapTooltips(t),s=this.tooltipsMap;for(let r in s)i[r]||(this.removeTooltip(r),delete s[r]);for(let r in i)s[r]||(s[r]=i[r],this.tooltipKeys.push(r))}removeTooltip(t){const i=this.tooltipKeys;for(let s=0;s<i.length;s++)if(i[s]===t){i.splice(s,1);break}}mapTooltips(t){const i={};for(let s=0;s<kU.length;s++){const r=this.axesCrosshairTooltipOptions(t,kU[s]);for(let o=0;o<r.length;o++){const a=r[o];i[a.name+a.index]=a}}return i}axesCrosshairTooltipOptions(t,i){const s=[];if(t[i]){const r=[].concat(t[i]);for(let o=0;o<r.length;o++){const a=(r[o].crosshair||{}).tooltip;a&&a.visible&&s.push({index:o,name:i})}}return s}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=k({type:n,selectors:[["kendo-chart-crosshair-tooltips-container"]],viewQuery:function(t,i){if(1&t&&qi(wT,5),2&t){let s;ut(s=ht())&&(i.crossahirTooltipComponents=s)}},inputs:{popupSettings:"popupSettings"},decls:1,vars:1,consts:[[3,"key","popupSettings",4,"ngFor","ngForOf"],[3,"key","popupSettings"]],template:function(t,i){1&t&&on(0,fpe,1,2,"kendo-chart-crosshair-tooltip",0),2&t&&He("ngForOf",i.tooltipKeys)},dependencies:[wT,n0],encapsulation:2}),n})(),xv=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(_(Kn,8))},n.\u0275dir=ee({type:n,selectors:[["","kendoChartSeriesTooltipTemplate",""]]}),n})(),wv=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(_(Kn,8))},n.\u0275dir=ee({type:n,selectors:[["","kendoChartSharedTooltipTemplate",""]]}),n})();class PU{constructor(e,t,i){this.value=e.value,this.category=e.category,this.categoryIndex=e.categoryIx,this.series=e.series,this.dataItem=e.dataItem,this.percentage=e.percentage,this.runningTotal=e.runningTotal,this.total=e.total,this.low=e.low,this.high=e.high,this.xLow=e.xLow,this.xHigh=e.xHigh,this.yLow=e.yLow,this.yHigh=e.yHigh,this.template=i,this.point=e,this.format=t}get formattedValue(){return this.format?this.point.formatValue(this.format):String(this.value)}}function CT(n,e){let t=n;for(;t&&t!==e;)t=t.parentNode;return!!t}let kl=(()=>{class n{setTemplate(t){this.template=t}getTemplate(t){return this.seriesTemplates&&this.seriesTemplates[t]?this.seriesTemplates[t]:this.template}setSeriesTemplates(t){this.seriesTemplates=t}setSharedTemplate(t){this.sharedTemplate=t}getSharedTemplate(){return this.sharedTemplate}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),Gf=(()=>{class n extends AU{constructor(t,i,s,r){super(t,s),this.popupService=t,this.templateService=i,this.localizationService=s,this.ngZone=r,this.seriesTooltipContext={},this.seriesSharedTooltipContext={},this.animate=!0,this.wrapperClass="k-chart-tooltip-wrapper",this.leave=new ne,this.popupClasses={}}show(t){this.shared=t.shared,this.popupClasses=Object.assign({"k-chart-shared-tooltip":t.shared,"k-chart-tooltip":!0,[t.className]:!!t.className},this.classNames),t.shared?(this.seriesSharedTooltipTemplateRef=this.templateService.getSharedTemplate()||this.defaultSharedTooltipTemplate.templateRef,this.seriesSharedTooltipContext=this.sharedTemplateContext(t)):(this.seriesTooltipContext=new PU(t.point,t.format),this.seriesTooltipTemplateRef=this.pointTemplateRef(t.point)),super.show(t)}containsElement(t){if(this.popupRef)return CT(t,this.popupRef.popupElement)}sharedTemplateContext(t){const s=t.points.filter(a=>typeof a.series.name<"u").length>0,r=t.series.length>1;let o=1;return s&&o++,r&&o++,{category:t.category,categoryText:t.categoryText,colorMarker:r,colspan:o,nameColumn:s,points:this.wrapPoints(t.points,t.format)}}pointTemplateRef(t){return this.templateService.getTemplate(t.series.index)||this.defaultSeriesTooltipTemplate.templateRef}wrapPoints(t,i){const s=[];for(let r=0;r<t.length;r++){const o=t[r],a=this.pointTemplateRef(o);s.push(new PU(o,((o.options||{}).tooltip||{}).format||i,a))}return s}onInit(){this.ngZone.runOutsideAngular(()=>{this.mouseleaveSubscription=this.popupRef.popupElement.addEventListener("mouseleave",t=>{this.leave.emit(t)})}),this.popupRef.popupElement.className+=` ${this.wrapperClass}`}hide(){this.mouseleaveSubscription&&(this.mouseleaveSubscription(),this.mouseleaveSubscription=null),super.hide()}}return n.\u0275fac=function(t){return new(t||n)(_(Hu),_(kl),_(Kr),_(Re))},n.\u0275cmp=k({type:n,selectors:[["kendo-chart-tooltip-popup"]],viewQuery:function(t,i){if(1&t&&(qi(xv,5),qi(wv,5),qi(CU,7)),2&t){let s;ut(s=ht())&&(i.defaultSeriesTooltipTemplate=s.first),ut(s=ht())&&(i.defaultSharedTooltipTemplate=s.first),ut(s=ht())&&(i.templateRef=s.first)}},inputs:{animate:"animate",classNames:"classNames",popupSettings:"popupSettings",wrapperClass:"wrapperClass"},outputs:{leave:"leave"},features:[fe([Hu,{provide:YS,useFactory:IU}]),T],decls:4,vars:0,consts:[["content",""],["kendoChartSeriesTooltipTemplate",""],["kendoChartSharedTooltipTemplate",""],[3,"ngClass","ngStyle"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"],[4,"ngFor","ngForOf"],[1,"k-chart-shared-tooltip-marker"]],template:function(t,i){1&t&&(on(0,vpe,3,4,"ng-template",null,0,Dx),on(2,_pe,1,1,"ng-template",1),on(3,Tpe,5,3,"ng-template",2))},dependencies:[t0,Ag,Eg,Ig,xv,wv,n0],encapsulation:2}),n})();class jpe extends Pw{constructor(e){super(e),this.handlerMap={hideTooltip:"onHideTooltip",legendItemClick:"onLegendItemClick",render:"onRender",showTooltip:"onShowTooltip",init:"onInit"}}}let Fi=(()=>{class n{constructor(t){this.sender=t}}return n.\u0275fac=function(t){Cc()},n.\u0275dir=ee({type:n}),n})(),wa=(()=>{class n extends Fi{constructor(){super(...arguments),this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=mn(n)))(i||n)}}(),n.\u0275dir=ee({type:n,features:[T]}),n})();class DT extends wa{constructor(e,t){super(t),this.series=e.series,this.seriesIndex=e.seriesIndex,this.pointIndex=e.pointIndex,this.text=e.text}}class ST extends Fi{constructor(e,t){super(t),this.category=e.category,this.dataItem=e.dataItem,this.series=e.series,this.value=e.value,this.visual=e.visual}}class RU extends Fi{constructor(e,t){super(t)}}class TT extends wa{constructor(e,t){super(t),this.category=e.category,this.dataItem=e.dataItem,this.originalEvent=e.originalEvent,this.percentage=e.percentage,this.point=e.point,this.series=e.series,this.stackValue=e.stackValue,this.value=e.value}}const OU={axisLabelClick:class Gpe extends Fi{constructor(e,t){super(t),this.axis=e.axis,this.dataItem=e.dataItem,this.index=e.index,this.text=e.text,this.value=e.value}},drag:class $pe extends wa{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.originalEvent=e.originalEvent}},dragEnd:class Wpe extends Fi{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.originalEvent=e.originalEvent}},dragStart:class qpe extends wa{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.originalEvent=e.originalEvent}},legendItemHover:class Kpe extends DT{preventDefault(){super.preventDefault()}},legendItemLeave:class Ype extends DT{preventDefault(){}isDefaultPrevented(){return!1}},noteClick:class Zpe extends ST{},noteHover:class Xpe extends ST{},noteLeave:class Qpe extends ST{},paneRender:class Jpe extends Fi{constructor(e,t){super(t),Object.assign(this,e)}},plotAreaClick:class ege extends Fi{constructor(e,t){super(t),this.category=e.category,this.originalEvent=e.originalEvent,this.value=e.value,this.x=e.x,this.y=e.y}},plotAreaHover:class tge extends Fi{constructor(e,t){super(t),this.category=e.category,this.originalEvent=e.originalEvent,this.value=e.value,this.x=e.x,this.y=e.y}},plotAreaLeave:class nge extends Fi{},render:RU,select:class ige extends wa{constructor(e,t){super(t),this.axis=e.axis,this.from=e.from,this.to=e.to}},selectEnd:class sge extends Fi{constructor(e,t){super(t),this.axis=e.axis,this.from=e.from,this.to=e.to}},selectStart:class rge extends wa{constructor(e,t){super(t),this.axis=e.axis,this.from=e.from,this.to=e.to}},seriesClick:class oge extends Fi{constructor(e,t){super(t),this.category=e.category,this.dataItem=e.dataItem,this.originalEvent=e.originalEvent,this.percentage=e.percentage,this.point=e.point,this.series=e.series,this.stackValue=e.stackValue,this.value=e.value}},seriesHover:class age extends TT{},seriesOver:class lge extends TT{},seriesLeave:class cge extends TT{},zoom:class uge extends wa{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.delta=e.delta,this.originalEvent=e.originalEvent}},zoomEnd:class hge extends Fi{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.originalEvent=e.originalEvent}},zoomStart:class dge extends wa{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.originalEvent=e.originalEvent}}};class $f{create(e,t,i){if(OU[e])return new OU[e](t,i)}}class fge extends DT{preventDefault(){super.preventDefault()}}const MT={name:"@progress/kendo-angular-charts",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1657258836,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"},Cv=n=>`${n.fontWeight} ${n.fontSize} ${n.fontFamily}`,NU=n=>window.getComputedStyle(n).backgroundColor;let Dv=(()=>{class n extends I{constructor(t){super(t),this.loaded=!1}loadTheme(){this.loaded||!Xi()||(this.readTheme()||this.readDefaultTheme(),this.loaded=!0,this.next())}readTheme(){this.createElement();const t=this.queryColor("accent")!==this.queryColor("accent-contrast");try{t&&(this.push(s3()),this.setColors(),this.setFonts(),this.setSeriesColors())}finally{this.destroyElement()}return t}readDefaultTheme(){this.push(Object.assign({},s3(),{axisDefaults:{crosshair:{color:"rgba(0, 0, 0, 0.5)"},labels:{color:"rgb(101, 101, 101)",font:"12px serif"},line:{color:"rgba(0, 0, 0, 0.08)"},majorGridLines:{color:"rgba(0, 0, 0, 0.08)"},minorGridLines:{color:"rgba(0, 0, 0, 0.04)"},notes:{icon:{background:"rgba(0, 0, 0, 0.5)",border:{color:"rgba(0, 0, 0, 0.5)"}},line:{color:"rgba(0, 0, 0, 0.5)"},label:{font:"14px serif"}},title:{color:"rgb(101, 101, 101)",font:"14px serif"}},chartArea:{background:"rgb(255, 255, 255)"},legend:{inactiveItems:{labels:{color:"rgba(102, 102, 102, 0.5)"},markers:{color:"rgba(102, 102, 102, 0.5)"}},labels:{color:"rgb(101, 101, 101)",font:"14px serif"}},seriesDefaults:{boxPlot:{downColor:"rgba(0, 0, 0, 0.08)",mean:{color:"rgb(246, 246, 246)"},median:{color:"rgb(246, 246, 246)"},whiskers:{color:"rgb(255, 99, 88)"}},bullet:{target:{color:"rgb(101, 101, 101)"}},candlestick:{downColor:"rgb(101, 101, 101)",line:{color:"rgb(101, 101, 101)"}},errorBars:{color:"rgba(0, 0, 0, 0.5)"},horizontalWaterfall:{line:{color:"rgba(0, 0, 0, 0.08)"}},icon:{border:{color:"rgba(0, 0, 0, 0.08)"}},labels:{background:"rgb(255, 255, 255)",color:"rgb(101, 101, 101)",opacity:.8,font:"12px serif"},notes:{icon:{background:"rgba(0, 0, 0, 0.5)",border:{color:"rgba(0, 0, 0, 0.5)"}},line:{color:"rgba(0, 0, 0, 0.5)"},label:{font:"14px serif"}},overlay:{gradient:"none"},verticalBoxPlot:{downColor:"rgba(0, 0, 0, 0.08)",mean:{color:"rgb(246, 246, 246)"},median:{color:"rgb(246, 246, 246)"},whiskers:{color:"rgb(255, 99, 88)"}},verticalBullet:{target:{color:"rgb(101, 101, 101)"}},waterfall:{line:{color:"rgba(0, 0, 0, 0.08)"}},area:{opacity:.8}},title:{color:"rgb(101, 101, 101)",font:"16px serif"},seriesColors:["rgb(255, 99, 88)","rgb(255, 210, 70)","rgb(120, 210, 55)","rgb(40, 180, 200)","rgb(45, 115, 245)","rgb(170, 70, 190)"]}))}createElement(){const t=this.element=document.createElement("div");t.style.display="none",t.innerHTML=`\n    <div class="k-var--accent"></div>\n    <div class="k-var--accent-contrast"></div>\n    <div class="k-var--base"></div>\n    <div class="k-var--background"></div>\n\n    <div class="k-var--normal-background"></div>\n    <div class="k-var--normal-text-color"></div>\n    <div class="k-var--hover-background"></div>\n    <div class="k-var--hover-text-color"></div>\n    <div class="k-var--selected-background"></div>\n    <div class="k-var--selected-text-color"></div>\n    <div class="k-var--chart-error-bars-background"></div>\n    <div class="k-var--chart-notes-background"></div>\n    <div class="k-var--chart-notes-border"></div>\n    <div class="k-var--chart-notes-lines"></div>\n    <div class="k-var--chart-crosshair-background"></div>\n\n    <div class="k-var--chart-inactive"></div>\n    <div class="k-var--chart-major-lines"></div>\n    <div class="k-var--chart-minor-lines"></div>\n    <div class="k-var--chart-area-opacity"></div>\n    <div class="k-var--chart-area-inactive-opacity"></div>\n    <div class="k-var--chart-line-inactive-opacity"></div>\n\n    <div class="k-widget k-chart">\n        <div class="k-var--chart-font"></div>\n        <div class="k-var--chart-title-font"></div>\n        <div class="k-var--chart-pane-title-font"></div>\n        <div class="k-var--chart-label-font"></div>\n    </div>\n\n    <div class="k-var--series-unset"></div>\n    <div class="k-var--series">\n      ${(()=>{let n='\n      <div class="k-var--series-a"></div>\n      <div class="k-var--series-b"></div>\n      <div class="k-var--series-c"></div>\n      <div class="k-var--series-d"></div>\n      <div class="k-var--series-e"></div>\n      <div class="k-var--series-f"></div>\n  ';for(let e=0;e<30;e++)n+=`\n      <div class="k-var--series-${e+1}"></div>`;return n})()}\n    </div>\n`,document.body.appendChild(t)}destroyElement(){this.element&&(document.body.removeChild(this.element),this.element=void 0)}setStyle(t,i){this.set(t,i)}setColors(){this.mapColor("axisDefaults.crosshair.color","chart-crosshair-background"),this.mapColor("axisDefaults.labels.color","normal-text-color"),this.mapColor("axisDefaults.line.color","chart-major-lines"),this.mapColor("axisDefaults.majorGridLines.color","chart-major-lines"),this.mapColor("axisDefaults.minorGridLines.color","chart-minor-lines"),this.mapColor("axisDefaults.notes.icon.background","chart-notes-background"),this.mapColor("axisDefaults.notes.icon.border.color","chart-notes-border"),this.mapColor("axisDefaults.notes.line.color","chart-notes-lines"),this.mapColor("axisDefaults.title.color","normal-text-color"),this.mapColor("chartArea.background","background"),this.mapColor("legend.inactiveItems.labels.color","chart-inactive"),this.mapColor("legend.inactiveItems.markers.color","chart-inactive"),this.mapColor("legend.labels.color","normal-text-color"),this.mapColor("seriesDefaults.boxPlot.downColor","chart-major-lines"),this.mapColor("seriesDefaults.boxPlot.mean.color","base"),this.mapColor("seriesDefaults.boxPlot.median.color","base"),this.mapColor("seriesDefaults.boxPlot.whiskers.color","accent"),this.mapColor("seriesDefaults.bullet.target.color","normal-text-color"),this.mapColor("seriesDefaults.candlestick.downColor","normal-text-color"),this.mapColor("seriesDefaults.candlestick.line.color","normal-text-color"),this.mapColor("seriesDefaults.errorBars.color","chart-error-bars-background"),this.mapColor("seriesDefaults.horizontalWaterfall.line.color","chart-major-lines"),this.mapColor("seriesDefaults.icon.border.color","chart-major-lines"),this.mapColor("seriesDefaults.labels.background","background"),this.mapColor("seriesDefaults.labels.color","normal-text-color"),this.mapColor("seriesDefaults.notes.icon.background","chart-notes-background"),this.mapColor("seriesDefaults.notes.icon.border.color","chart-notes-border"),this.mapColor("seriesDefaults.notes.line.color","chart-notes-lines"),this.mapColor("seriesDefaults.verticalBoxPlot.downColor","chart-major-lines"),this.mapColor("seriesDefaults.verticalBoxPlot.mean.color","base"),this.mapColor("seriesDefaults.verticalBoxPlot.median.color","base"),this.mapColor("seriesDefaults.verticalBoxPlot.whiskers.color","accent"),this.mapColor("seriesDefaults.verticalBullet.target.color","normal-text-color"),this.mapColor("seriesDefaults.waterfall.line.color","chart-major-lines"),this.mapColor("title.color","normal-text-color");const t=parseFloat(this.queryStyle("chart-area-opacity").opacity);isNaN(t)||(this.setStyle("seriesDefaults.area.opacity",t),this.setStyle("seriesDefaults.radarArea.opacity",t),this.setStyle("seriesDefaults.verticalArea.opacity",t),this.setStyle("seriesDefaults.labels.opacity",t)),this.setInactiveOpacity(["area","verticalArea"],"chart-area-inactive-opacity"),this.setInactiveOpacity(["line","verticalLine"],"chart-line-inactive-opacity")}setInactiveOpacity(t,i){const s=parseFloat(this.queryStyle(i).opacity);!isNaN(s)&&s<1&&t.forEach(r=>this.setStyle(`seriesDefaults.${r}.highlight.inactiveOpacity`,s))}setFonts(){const t=Cv(this.queryStyle("chart-font")),i=Cv(this.queryStyle("chart-title-font")),s=Cv(this.queryStyle("chart-pane-title-font")),r=Cv(this.queryStyle("chart-label-font"));this.setStyle("axisDefaults.labels.font",r),this.setStyle("axisDefaults.notes.label.font",t),this.setStyle("axisDefaults.title.font",t),this.setStyle("legend.labels.font",t),this.setStyle("seriesDefaults.labels.font",r),this.setStyle("seriesDefaults.notes.label.font",t),this.setStyle("title.font",i),this.setStyle("paneDefaults.title.font",s)}setSeriesColors(){const t=this.element,i=[].slice.call(t.querySelectorAll(".k-var--series div")),s=NU(t.querySelector(".k-var--series-unset")),r=i.reduce((o,a)=>{const l=(n=>{const e=n.match(/series-([a-z])$/);if(null!==e)return(n=>n.toLowerCase().charCodeAt(0)-"a".charCodeAt(0))(e[1]);const t=n.split("--series-")[1];return parseInt(t,10)-1})(a.className),c=NU(a);return c!==s&&(o[l]=c),o},[]);this.setStyle("seriesColors",r)}mapColor(t,i){this.setStyle(t,this.queryColor(i))}queryColor(t){return this.queryStyle(t).backgroundColor}queryStyle(t){const i=this.element.querySelector(`.k-var--${t}`);return window.getComputedStyle(i)}}return n.\u0275fac=function(t){return new(t||n)(P(Re))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();function ET(n){return n.observers.length>0}let Sv=(()=>{class n{constructor(t,i,s,r,o,a,l,c,u){this.configurationService=t,this.themeService=i,this.element=s,this.intl=r,this.localizationService=o,this.ngZone=a,this.instanceEventService=l,this.changeDetector=c,this.renderer=u,this.axisLabelClick=new ne,this.drag=new ne,this.dragEnd=new ne,this.dragStart=new ne,this.legendItemHover=new ne,this.legendItemLeave=new ne,this.noteClick=new ne,this.noteHover=new ne,this.noteLeave=new ne,this.paneRender=new ne,this.plotAreaClick=new ne,this.plotAreaHover=new ne,this.plotAreaLeave=new ne,this.render=new ne,this.select=new ne,this.selectEnd=new ne,this.selectStart=new ne,this.seriesClick=new ne,this.seriesHover=new ne,this.seriesOver=new ne,this.seriesLeave=new ne,this.zoom=new ne,this.zoomEnd=new ne,this.zoomStart=new ne,this.legendItemClick=new ne,this.resizeRateLimit=10,this.theme=null,this.suppressTransitions=!1,this.rtl=!1,this.hostClasses=["k-chart","k-widget"],If(MT),this.themeService.loadTheme(),this.refreshWait()}ngOnInit(){this.element&&(this.hostClasses.forEach(t=>{this.renderer.addClass(this.element.nativeElement,t)}),this.renderer.setStyle(this.element.nativeElement,"position","relative"))}ngAfterViewInit(){this.canRender&&this.ngZone.runOutsideAngular(()=>{const t=this.renderer.listen(this.surfaceElement.nativeElement,"mouseleave",this.chartMouseleave.bind(this));this.domSubscriptions=()=>{t()}}),this.setDirection(),this.subscriptions=this.intl.changes.subscribe(this.intlChange.bind(this)),this.subscriptions.add(this.localizationService.changes.subscribe(this.rtlChange.bind(this)))}ngAfterViewChecked(){this.instance&&this.autoResize&&this.ngZone.runOutsideAngular(()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{this.resize()},0)})}ngOnChanges(t){const i=this.configurationService.store;vT(t,i),i.popupSettings=null,this.configurationService.push(i)}notifyChanges(t){this.ngOnChanges(_T(t))}ngOnDestroy(){this.destroyed=!0,this.optionsChange&&this.optionsChange.unsubscribe(),this.domSubscriptions&&(this.domSubscriptions(),this.domSubscriptions=null),this.instance&&(this.instance.destroy(),this.instance=null),this.subscriptions&&this.subscriptions.unsubscribe(),clearTimeout(this.resizeTimeout),clearTimeout(this.redrawTimeout)}createInstance(t,i){this.instance=new jD(t,this.options,this.theme,{intlService:this.intl,observer:i,rtl:this.rtl,sender:this})}exportImage(t={}){return BV(this.exportVisual(t),t)}exportSVG(t={}){return VV(this.exportVisual(t),t)}exportVisual(t={}){return this.instance.exportVisual(t)}findAxisByName(t){if(this.instance)return this.instance.findAxisByName(t)}findPaneByIndex(t){if(this.instance)return this.instance.findPaneByIndex(t)}findPaneByName(t){if(this.instance)return this.instance.findPaneByName(t)}getPlotArea(){if(this.instance)return this.instance.plotArea()}toggleHighlight(t,i){this.instance&&this.instance.toggleHighlight(t,i)}hideTooltip(){this.instance&&this.instance.hideTooltip()}showTooltip(t){this.instance&&this.instance.showTooltip(t)}init(){if(!this.canRender)return;const t=this.surfaceElement.nativeElement,i=new jpe(this);this.createInstance(t,i)}resize(){this.instance&&this.instance.resize()}onResize(){this.autoResize&&this.resize()}onLegendItemClick(t){this.run(()=>{const i=new fge(t,this);if(this.legendItemClick.emit(i),!i.isDefaultPrevented()){const s=this.seriesComponents.toArray()[t.series.index];if(!s)return;void 0===t.pointIndex?s.toggleVisibility():s.togglePointVisibility(t.pointIndex),this.suppressTransitions=!0}},ET(this.legendItemClick),this.seriesComponents.length>0)}onInit(t){this.instance=t.sender}onRender(t){const i=this.getDonutCenterStyle();this.run(()=>{const s=new RU(t,this);this.surface=t.sender.surface,this.render.emit(s),this.donutCenterStyle=i},ET(this.render),this.donutCenterStyle!==i)}onShowTooltip(t){this.run(()=>{t.crosshair?this.crossahirTooltips.show(t):this.tooltipInstance.show(t)},!t.crosshair,!0)}onHideTooltip(t){t.crosshair?this.crossahirTooltips.active&&(this.crossahirTooltips.hide(),this.detectChanges()):this.tooltipInstance.active&&(this.tooltipInstance.hide(),this.detectChanges())}trigger(t,i){if("resize"===t)return;const s=this.activeEmitter(t);if(s){const r=this.instanceEventService.create(t,i,this);return this.run(()=>{s.emit(r)}),r.isDefaultPrevented&&r.isDefaultPrevented()}}requiresHandlers(t){for(let i=0;i<t.length;i++)if(this.activeEmitter(t[i]))return!0;return!1}refresh(){if(clearTimeout(this.redrawTimeout),this.updateDirection(),this.crossahirTooltips.createCrosshairTooltips(this.options),this.setChartAreaSize(),!this.instance)return void this.init();const t=this.options.transitions;this.suppressTransitions&&(this.options.transitions=!1),this.updateOptions(),this.suppressTransitions&&(this.options.transitions=t,this.suppressTransitions=!1)}setChartAreaSize(){if(!this.element)return;const t=this.element.nativeElement,i=this.options.chartArea||{};i.width&&(t.style.width=`${i.width}px`),i.height&&(t.style.height=`${i.height}px`)}updateOptions(){this.instance.setOptions(this.options)}tooltipMouseleave(t){const i=t.relatedTarget;this.instance&&(!i||!CT(i,this.element.nativeElement))&&this.instance.hideElements()}chartMouseleave(t){const i=t.relatedTarget,s=this.element.nativeElement;this.instance&&(!i||!this.tooltipInstance.containsElement(i)&&!CT(i,s))&&!this.instance.handlingTap&&this.instance.hideElements()}get canRender(){return Xi()&&Boolean(this.surfaceElement)}get autoResize(){return this.resizeRateLimit>0}activeEmitter(t){const i=this[t];if(i&&i.emit&&ET(i))return i}getDonutCenterStyle(){if(!this.instance||!this.options||!this.options.series)return;const t=this.options.series[0],i=this.instance._plotArea.charts;if(!t||"donut"!==t.type||!i||0===i[0].points.length)return;const s=i[0].points[0],r=s.box.center(),o=s.sector.innerRadius,c=2*o;return{height:c+"px",left:r.x-o+"px",top:r.y-o+"px",width:c+"px"}}refreshWait(){this.ngZone.runOutsideAngular(()=>{this.optionsChange=Fg(this.configurationService.onChange$,this.themeService.onChange$).pipe(vn(t=>{this.options=t[0],this.theme=t[1]}),Md(MU)).subscribe(()=>{this.refresh()})})}run(t,i=!0,s){i?(s&&this.changeDetector.markForCheck(),this.ngZone.run(t)):(t(),s&&this.detectChanges())}detectChanges(){this.destroyed||this.changeDetector.detectChanges()}intlChange(){this.instance&&this.deferredRedraw()}rtlChange(){this.instance&&this.rtl!==this.isRTL&&this.deferredRedraw()}deferredRedraw(){this.ngZone.runOutsideAngular(()=>{clearTimeout(this.redrawTimeout),this.redrawTimeout=setTimeout(()=>{this.updateDirection(),this.instance.noTransitionsRedraw()},0)})}updateDirection(){const t=this.isRTL;this.rtl!==t&&(this.setDirection(),this.instance&&this.instance.setDirection(t))}setDirection(){this.rtl=this.isRTL,this.element&&this.renderer.setAttribute(this.element.nativeElement,"dir",this.rtl?"rtl":"ltr")}get isRTL(){return Boolean(this.localizationService.rtl)}}return n.\u0275fac=function(t){return new(t||n)(_(I),_(Dv),_(It),_(Co),_(Kr),_(Re),_($f),_(zr),_(Di))},n.\u0275cmp=k({type:n,selectors:[["kendo-chart"]],contentQueries:function(t,i,s){if(1&t&&(yn(s,TU,5),yn(s,Uf,5)),2&t){let r;ut(r=ht())&&(i.donutCenterTemplate=r.first),ut(r=ht())&&(i.seriesComponents=r)}},viewQuery:function(t,i){if(1&t&&(qi(Gf,7),qi(jf,7),qi(Mpe,7)),2&t){let s;ut(s=ht())&&(i.tooltipInstance=s.first),ut(s=ht())&&(i.crossahirTooltips=s.first),ut(s=ht())&&(i.surfaceElement=s.first)}},inputs:{pannable:"pannable",renderAs:"renderAs",seriesColors:"seriesColors",title:"title",transitions:"transitions",zoomable:"zoomable",axisDefaults:"axisDefaults",categoryAxis:"categoryAxis",chartArea:"chartArea",legend:"legend",panes:"panes",paneDefaults:"paneDefaults",plotArea:"plotArea",series:"series",seriesDefaults:"seriesDefaults",tooltip:"tooltip",valueAxis:"valueAxis",xAxis:"xAxis",yAxis:"yAxis",resizeRateLimit:"resizeRateLimit",popupSettings:"popupSettings"},outputs:{axisLabelClick:"axisLabelClick",drag:"drag",dragEnd:"dragEnd",dragStart:"dragStart",legendItemHover:"legendItemHover",legendItemLeave:"legendItemLeave",noteClick:"noteClick",noteHover:"noteHover",noteLeave:"noteLeave",paneRender:"paneRender",plotAreaClick:"plotAreaClick",plotAreaHover:"plotAreaHover",plotAreaLeave:"plotAreaLeave",render:"render",select:"select",selectEnd:"selectEnd",selectStart:"selectStart",seriesClick:"seriesClick",seriesHover:"seriesHover",seriesOver:"seriesOver",seriesLeave:"seriesLeave",zoom:"zoom",zoomEnd:"zoomEnd",zoomStart:"zoomStart",legendItemClick:"legendItemClick"},exportAs:["kendoChart"],features:[fe([I,kl,$f,Kr,{provide:xm,useValue:"kendo.chart"}]),On],decls:6,vars:4,consts:[[1,"k-chart-surface"],["surface",""],[3,"popupSettings"],[3,"popupSettings","leave"],[3,"rateLimit","resize"],["class","k-chart-donut-center",3,"ngStyle",4,"ngIf"],[1,"k-chart-donut-center",3,"ngStyle"],[3,"ngTemplateOutlet"]],template:function(t,i){1&t&&(Wi(0,"div",0,1)(2,"kendo-chart-crosshair-tooltips-container",2),le(3,"kendo-chart-tooltip-popup",3),Et("leave",function(r){return i.tooltipMouseleave(r)}),_e(),le(4,"kendo-resize-sensor",4),Et("resize",function(){return i.onResize()}),_e(),on(5,Ape,2,2,"div",5)),2&t&&(Ze(2),He("popupSettings",i.popupSettings),Ze(1),He("popupSettings",i.popupSettings),Ze(1),He("rateLimit",i.resizeRateLimit),Ze(1),He("ngIf",i.donutCenterStyle&&i.donutCenterTemplate))},dependencies:[jf,Gf,iu,Eg,Ag,Ig],encapsulation:2,changeDetection:0}),n})(),Ku=(()=>{class n{constructor(t,i,s){this.configKey=t,this.configurationService=i,this.collectionService=s,this.items=[],this.subscription=s.onItemChange$.subscribe(r=>this.processChanges(r))}ngOnDestroy(){this.subscription.unsubscribe()}ngAfterContentInit(){this.readItems(),this.children.changes.subscribe(()=>this.readItems())}processChanges(t){if(!this.children)return;const i=this.children.toArray().indexOf(t.sender);i<0||(this.items[i]=t.options,this.change())}readItems(){this.items=this.children.map(t=>t.options),this.change()}change(){this.configurationService.notify(new bT(this.configKey,0===this.items.length?void 0:this.items))}}return n.\u0275fac=function(t){Cc()},n.\u0275dir=ee({type:n}),n})(),PT=(()=>{class n extends Ku{constructor(t,i,s){super("series",t,i),this.configurationService=t,this.collectionService=i,this.tooltipTemplateService=s}ngAfterContentChecked(){this.readTooltipTemplates()}readTooltipTemplates(){const t=this.children.map(i=>i.seriesTooltipTemplateRef);this.tooltipTemplateService.setSeriesTemplates(t)}}return n.\u0275fac=function(t){return new(t||n)(_(I),_(Gt),_(kl))},n.\u0275cmp=k({type:n,selectors:[["kendo-chart-series"]],contentQueries:function(t,i,s){if(1&t&&yn(s,Uf,4),2&t){let r;ut(r=ht())&&(i.children=r)}},features:[fe([Gt]),T],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),n})();new U("configuration prefix");let Wf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({providers:[Dv],imports:[[$c,ZS,bm]]}),n})(),Dme=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({imports:[[Wf,$c,ZS,bm],Wf]}),n})(),Sme=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({imports:[[Wf,$c,ZS,bm],Wf]}),n})(),Tme=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({imports:[Wf,Sme,Dme]}),n})();const Mme=function(){return{visible:!1}};let Eme=(()=>{class n{constructor(t){this.configService=t,this.source=function xX(n=0,e=om){return n<0&&(n=0),fO(n,n,e)}(15e3),this.style="smooth",this.cCount=1,this.bid=0,this.ask=0,this.xrate=0,this.status="",this.range="5d",this.region="US",this.interval="1d",this.lang="en",this.cModel=[]}ngOnInit(){this.getDollarSpot(),this.getChartSpot(),this.startSpotInterval(),this.startChartInterval()}OnDestroy(){this.subscription.unsubscribe(),this.chartsub.unsubscribe()}startSpotInterval(){this.subscription=this.source.subscribe(t=>this.getDollarSpot())}startChartInterval(){this.chartsub=this.source.subscribe(t=>this.getChartSpot())}getDollarSpot(){this.status="requesting..",console.log(this.status),this.configService.getDollar().subscribe(t=>{this.status="procesing...",console.log(this.status),this.processDataAfterRequest(t)})}processDataAfterRequest(t){t.quoteResponse.result.length==this.cCount?(this.status="ok...",this.bid=t.quoteResponse.result[0].bid,this.ask=t.quoteResponse.result[0].ask,this.xrate=(this.bid+this.ask)/2,console.log(this.status)):(this.status="different...",console.log(this.status))}getChartSpot(){this.configService.getChartData(this.range,this.region,this.interval,this.lang).subscribe(t=>{this.processChartData(t)})}processChartData(t){var i=t.chart.result[0].indicators.quote[0];this.cModel=[];for(let s=0;s<t.chart.result[0].timestamp.length;s++)this.cModel.push({timestamp:new Date(100*t.chart.result[0].timestamp[s]),low:i.low[s],high:i.high[s],open:i.open[s],close:i.close[s]});console.log(t)}}return n.\u0275fac=function(t){return new(t||n)(_(hO))},n.\u0275cmp=k({type:n,selectors:[["app-root"]],features:[fe([hO])],decls:80,vars:11,consts:[[2,"margin-left","20px"],[1,"divAgrupable"],[1,"elementoAgrupado"],["for","rangeSelector"],["name","range","id","rangeSelector",3,"ngModel","ngModelChange"],["value","1d"],["value","5d"],["value","1mo"],["value","3mo"],["value","6mo"],["value","1y"],["value","5y"],["value","10y"],["value","ytd"],["value","max"],["for","intervalSelector"],["name","interval","id","intervalSelector",3,"ngModel","ngModelChange"],["value","1m"],["value","5m"],["value","15m"],["value","1wk"],["type","line","field","close","categoryField","timestamp",3,"data","markers"]],template:function(t,i){1&t&&(le(0,"mat-toolbar")(1,"mat-toolbar-row")(2,"span"),$e(3,"Monitor USD/CLP Spot"),_e()()(),le(4,"mat-card")(5,"mat-card-title"),$e(6,"USDCLP - SPOT"),_e(),le(7,"mat-card-content")(8,"span"),$e(9,"status "),le(10,"span"),$e(11),_e()(),le(12,"div")(13,"span",0),$e(14,"BID: "),le(15,"strong"),$e(16),_e()(),le(17,"span",0),$e(18,"ASK: "),le(19,"strong"),$e(20),_e()(),le(21,"span",0),$e(22,"XRATE: "),le(23,"strong"),$e(24),_e()()()()(),le(25,"mat-card")(26,"mat-card-title"),$e(27,"USDCLP X-RATE Chart"),_e(),le(28,"mat-card-content")(29,"div",1)(30,"mat-card",2)(31,"mat-card-subtitle")(32,"label",3),$e(33,"Range"),_e()(),le(34,"mat-card-content",1)(35,"mat-button-toggle-group",4),Et("ngModelChange",function(r){return i.range=r}),le(36,"mat-button-toggle",5),$e(37,"1d"),_e(),le(38,"mat-button-toggle",6),$e(39,"5d"),_e(),le(40,"mat-button-toggle",7),$e(41,"1mo"),_e(),le(42,"mat-button-toggle",8),$e(43,"3mo"),_e(),le(44,"mat-button-toggle",9),$e(45,"6mo"),_e(),le(46,"mat-button-toggle",10),$e(47,"1y"),_e(),le(48,"mat-button-toggle",11),$e(49,"5y"),_e(),le(50,"mat-button-toggle",12),$e(51,"10y"),_e(),le(52,"mat-button-toggle",13),$e(53,"ytd"),_e(),le(54,"mat-button-toggle",14),$e(55,"max"),_e()()()(),le(56,"mat-card",2)(57,"mat-card-subtitle")(58,"mat-card-subtitle")(59,"label",15),$e(60,"Intervalo"),_e()()(),le(61,"mat-card-content")(62,"mat-button-toggle-group",16),Et("ngModelChange",function(r){return i.interval=r}),le(63,"mat-button-toggle",17),$e(64,"1m"),_e(),le(65,"mat-button-toggle",18),$e(66,"5m"),_e(),le(67,"mat-button-toggle",19),$e(68,"15m"),_e(),le(69,"mat-button-toggle",5),$e(70,"1d"),_e(),le(71,"mat-button-toggle",20),$e(72,"1wk"),_e(),le(73,"mat-button-toggle",7),$e(74,"1mo"),_e()()()()()()(),le(75,"kendo-chart")(76,"kendo-chart-series"),Wi(77,"kendo-chart-series-item",21),_e()(),Wi(78,"router-outlet")(79,"footer")),2&t&&(Ze(11),Wa(i.status),Ze(5),Wa(i.bid),Ze(4),Wa(i.ask),Ze(4),Wa(i.xrate),Ze(11),He("ngModel",i.range),Ze(27),He("ngModel",i.interval),Ze(15),Cs(i.style),He("data",i.cModel)("markers",$I(10,Mme)))},dependencies:[R0,CQ,VO,IQ,MQ,EQ,AQ,XN,QN,hN,yw,Sv,PT,Uf],styles:[".divAgrupable[_ngcontent-%COMP%]{display:flex}.elementoAgrupado[_ngcontent-%COMP%]{flex:1 1 auto}"]}),n})();function lj(n){return new R(3e3,!1)}function cye(){return typeof window<"u"&&typeof window.document<"u"}function OT(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Ca(n){switch(n.length){case 0:return new Rf;case 1:return n[0];default:return new C3(n)}}function cj(n,e,t,i,s=new Map,r=new Map){const o=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const h=u.get("offset"),d=h==l,f=d&&c||new Map;u.forEach((p,g)=>{let y=g,b=p;if("offset"!==g)switch(y=e.normalizePropertyName(y,o),b){case"!":b=s.get(g);break;case bo:b=r.get(g);break;default:b=e.normalizeStyleValue(g,y,b,o)}f.set(y,b)}),d||a.push(f),c=f,l=h}),o.length)throw function Xme(n){return new R(3502,!1)}();return a}function NT(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&FT(t,"start",n)));break;case"done":n.onDone(()=>i(t&&FT(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&FT(t,"destroy",n)))}}function FT(n,e,t){const r=LT(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(r._data=o),r}function LT(n,e,t,i,s="",r=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:s,totalTime:r,disabled:!!o}}function Li(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function uj(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let BT=(n,e)=>!1,hj=(n,e,t)=>[],dj=null;function VT(n){const e=n.parentNode||n.host;return e===dj?null:e}(OT()||typeof Element<"u")&&(cye()?(dj=(()=>document.documentElement)(),BT=(n,e)=>{for(;e;){if(e===n)return!0;e=VT(e)}return!1}):BT=(n,e)=>n.contains(e),hj=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Pl=null,fj=!1;const pj=BT,gj=hj;let mj=(()=>{class n{validateStyleProperty(t){return function hye(n){Pl||(Pl=function dye(){return typeof document<"u"?document.body:null}()||{},fj=!!Pl.style&&"WebkitAppearance"in Pl.style);let e=!0;return Pl.style&&!function uye(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Pl.style,!e&&fj&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Pl.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return pj(t,i)}getParentElement(t){return VT(t)}query(t,i,s){return gj(t,i,s)}computeStyle(t,i,s){return s||""}animate(t,i,s,r,o,a=[],l){return new Rf(s,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),HT=(()=>{class n{}return n.NOOP=new mj,n})();const zT="ng-enter",Mv="ng-leave",Ev="ng-trigger",Av=".ng-trigger",vj="ng-animating",UT=".ng-animating";function Da(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:jT(parseFloat(e[1]),e[2])}function jT(n,e){return"s"===e?1e3*n:n}function Iv(n,e,t){return n.hasOwnProperty("duration")?n:function gye(n,e,t){let s,r=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(lj()),{duration:0,delay:0,easing:""};s=jT(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(r=jT(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else s=n;if(!t){let a=!1,l=e.length;s<0&&(e.push(function Ame(){return new R(3100,!1)}()),a=!0),r<0&&(e.push(function Ime(){return new R(3101,!1)}()),a=!0),a&&e.splice(l,0,lj())}return{duration:s,delay:r,easing:o}}(n,e,t)}function qf(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function _j(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Sa(n,e=new Map,t){if(t)for(let[i,s]of t)e.set(i,s);for(let[i,s]of n)e.set(i,s);return e}function xj(n,e,t){return t?e+":"+t+";":""}function wj(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=xj(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=xj(0,_ye(t),n.style[t]));n.setAttribute("style",e)}function xr(n,e,t){n.style&&(e.forEach((i,s)=>{const r=$T(s);t&&!t.has(s)&&t.set(s,n.style[r]),n.style[r]=i}),OT()&&wj(n))}function Rl(n,e){n.style&&(e.forEach((t,i)=>{const s=$T(i);n.style[s]=""}),OT()&&wj(n))}function Kf(n){return Array.isArray(n)?1==n.length?n[0]:x3(n):n}const GT=new RegExp("{{\\s*(.+?)\\s*}}","g");function Cj(n){let e=[];if("string"==typeof n){let t;for(;t=GT.exec(n);)e.push(t[1]);GT.lastIndex=0}return e}function kv(n,e,t){const i=n.toString(),s=i.replace(GT,(r,o)=>{let a=e[o];return null==a&&(t.push(function Pme(n){return new R(3003,!1)}()),a=""),a.toString()});return s==i?n:s}function Pv(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const vye=/-+([a-z0-9])/g;function $T(n){return n.replace(vye,(...e)=>e[1].toUpperCase())}function _ye(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Bi(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Rme(n){return new R(3004,!1)}()}}function Dj(n,e){return window.getComputedStyle(n)[e]}function Sye(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Tye(n,e,t){if(":"==n[0]){const l=function Mye(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function qme(n){return new R(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function Wme(n){return new R(3015,!1)}()),e;const s=i[1],r=i[2],o=i[3];e.push(Sj(s,o));"<"==r[0]&&!("*"==s&&"*"==o)&&e.push(Sj(o,s))}(i,t,e)):t.push(n),t}const Fv=new Set(["true","1"]),Lv=new Set(["false","0"]);function Sj(n,e){const t=Fv.has(n)||Lv.has(n),i=Fv.has(e)||Lv.has(e);return(s,r)=>{let o="*"==n||n==s,a="*"==e||e==r;return!o&&t&&"boolean"==typeof s&&(o=s?Fv.has(n):Lv.has(n)),!a&&i&&"boolean"==typeof r&&(a=r?Fv.has(e):Lv.has(e)),o&&a}}const Eye=new RegExp("s*:selfs*,?","g");function WT(n,e,t,i){return new Aye(n).build(e,t,i)}class Aye{constructor(e){this._driver=e}build(e,t,i){const s=new Pye(t);return this._resetContextStyleTimingState(s),Bi(this,Kf(e),s)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,s=t.depCount=0;const r=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function Nme(){return new R(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,r.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,s+=l.depCount,o.push(l)}else t.errors.push(function Fme(){return new R(3007,!1)}())}),{type:7,name:e.name,states:r,transitions:o,queryCount:i,depCount:s,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),s=e.options&&e.options.params||null;if(i.containsDynamicStyles){const r=new Set,o=s||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Cj(l).forEach(c=>{o.hasOwnProperty(c)||r.add(c)})})}),r.size&&(Pv(r.values()),t.errors.push(function Lme(n,e){return new R(3008,!1)}()))}return{type:0,name:e.name,style:i,options:s?{params:s}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Bi(this,Kf(e.animation),t);return{type:1,matchers:Sye(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Ol(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Bi(this,i,t)),options:Ol(e.options)}}visitGroup(e,t){const i=t.currentTime;let s=0;const r=e.steps.map(o=>{t.currentTime=i;const a=Bi(this,o,t);return s=Math.max(s,t.currentTime),a});return t.currentTime=s,{type:3,steps:r,options:Ol(e.options)}}visitAnimate(e,t){const i=function Oye(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return qT(Iv(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=qT(0,0,"");return r.dynamic=!0,r.strValue=t,r}const s=Iv(t,e);return qT(s.duration,s.delay,s.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let s,r=e.styles?e.styles:xo({});if(5==r.type)s=this.visitKeyframes(r,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=xo(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,s=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],s=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of s)"string"==typeof a?a===bo?i.push(a):t.errors.push(new R(3002,!1)):i.push(_j(a));let r=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!r))for(let l of a.values())if(l.toString().indexOf("{{")>=0){r=!0;break}}),{type:6,styles:i,easing:o,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let s=t.currentTime,r=t.currentTime;i&&r>0&&(r-=i.duration+i.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let h=!0;u&&(r!=s&&r>=u.startTime&&s<=u.endTime&&(t.errors.push(function Vme(n,e,t,i,s){return new R(3010,!1)}()),h=!1),r=u.startTime),h&&c.set(l,{startTime:r,endTime:s}),t.options&&function yye(n,e,t){const i=e.params||{},s=Cj(n);s.length&&s.forEach(r=>{i.hasOwnProperty(r)||t.push(function kme(n){return new R(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Hme(){return new R(3011,!1)}()),i;let r=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(b=>{const w=this._makeStyleAst(b,t);let D=null!=w.offset?w.offset:function Rye(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(w.styles),E=0;return null!=D&&(r++,E=w.offset=D),l=l||E<0||E>1,a=a||E<c,c=E,o.push(E),w});l&&t.errors.push(function zme(){return new R(3012,!1)}()),a&&t.errors.push(function Ume(){return new R(3200,!1)}());const h=e.steps.length;let d=0;r>0&&r<h?t.errors.push(function jme(){return new R(3202,!1)}()):0==r&&(d=1/(h-1));const f=h-1,p=t.currentTime,g=t.currentAnimateTimings,y=g.duration;return u.forEach((b,w)=>{const D=d>0?w==f?1:d*w:o[w],E=D*y;t.currentTime=p+g.delay+E,g.duration=E,this._validateStyleAst(b,t),b.offset=D,i.styles.push(b)}),i}visitReference(e,t){return{type:8,animation:Bi(this,Kf(e.animation),t),options:Ol(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ol(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ol(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,s=e.options||{};t.queryCount++,t.currentQuery=e;const[r,o]=function Iye(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Eye,"")),n=n.replace(/@\*/g,Av).replace(/@\w+/g,t=>Av+"-"+t.slice(1)).replace(/:animating/g,UT),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+r:r,Li(t.collectedStyles,t.currentQuerySelector,new Map);const a=Bi(this,Kf(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Ol(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Gme(){return new R(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Iv(e.timings,t.errors,!0);return{type:12,animation:Bi(this,Kf(e.animation),t),timings:i,options:null}}}class Pye{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ol(n){return n?(n=qf(n)).params&&(n.params=function kye(n){return n?qf(n):null}(n.params)):n={},n}function qT(n,e,t){return{duration:n,delay:e,easing:t}}function KT(n,e,t,i,s,r,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:s,delay:r,totalTime:s+r,easing:o,subTimeline:a}}class Bv{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Lye=new RegExp(":enter","g"),Vye=new RegExp(":leave","g");function YT(n,e,t,i,s,r=new Map,o=new Map,a,l,c=[]){return(new Hye).buildKeyframes(n,e,t,i,s,r,o,a,l,c)}class Hye{buildKeyframes(e,t,i,s,r,o,a,l,c,u=[]){c=c||new Bv;const h=new ZT(e,t,c,s,r,u,[]);h.options=l;const d=l.delay?Da(l.delay):0;h.currentTimeline.delayNextStep(d),h.currentTimeline.setStyles([o],null,h.errors,l),Bi(this,i,h);const f=h.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const y=f[g];if(y.element===t){p=y;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,h.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[KT(t,[],[],[],0,d,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const s=t.createSubContext(e.options),r=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,s,s.options);r!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let r=t.currentTimeline.currentTime;const o=null!=i.duration?Da(i.duration):null,a=null!=i.delay?Da(i.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);r=Math.max(r,c.duration+c.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),Bi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let s=t;const r=e.options;if(r&&(r.params||r.delay)&&(s=t.createSubContext(r),s.transformIntoNewTimeline(),null!=r.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=Vv);const o=Da(r.delay);s.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Bi(this,o,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let s=t.currentTimeline.currentTime;const r=e.options&&e.options.delay?Da(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);r&&a.delayNextStep(r),Bi(this,o,a),s=Math.max(s,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(s),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Iv(t.params?kv(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),s=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),s.snapshotCurrentStyles());const r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(i.duration),this.visitStyle(r,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,s=t.currentAnimateTimings;!s&&i.hasCurrentStyleProperties()&&i.forwardFrame();const r=s&&s.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(r):i.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,s=t.currentTimeline.duration,r=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*r),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(s+r),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,s=e.options||{},r=s.delay?Da(s.delay):0;r&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Vv);let o=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const h=t.createSubContext(e.options,c);r&&h.delayNextStep(r),c===t.element&&(l=h.currentTimeline),Bi(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,h.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,s=t.currentTimeline,r=e.timings,o=Math.abs(r.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const h=u.currentTime;Bi(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=s.currentTime-h+(s.startTime-i.currentTimeline.startTime)}}const Vv={};class ZT{constructor(e,t,i,s,r,o,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=r,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Vv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Hv(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let s=this.options;null!=i.duration&&(s.duration=Da(i.duration)),null!=i.delay&&(s.delay=Da(i.delay));const r=i.params;if(r){let o=s.params;o||(o=this.options.params={}),Object.keys(r).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=kv(r[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(s=>{i[s]=t[s]})}}return e}createSubContext(e=null,t,i){const s=t||this.element,r=new ZT(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(e),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(e){return this.previousNode=Vv,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const s={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},r=new zye(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,s,r,o){let a=[];if(s&&a.push(this.element),e.length>0){e=(e=e.replace(Lye,"."+this._enterClassName)).replace(Vye,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!r&&0==a.length&&o.push(function $me(n){return new R(3014,!1)}()),a}}class Hv{constructor(e,t,i,s){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Hv(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||bo),this._currentKeyframe.set(t,bo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,s){t&&this._previousKeyframe.set("easing",t);const r=s&&s.params||{},o=function Uye(n,e){const t=new Map;let i;return n.forEach(s=>{if("*"===s){i=i||e.keys();for(let r of i)t.set(r,bo)}else Sa(s,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=kv(l,r,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)||bo),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const s=this._styleSummary.get(i);(!s||t.time>s.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((a,l)=>{const c=Sa(a,new Map,this._backFill);c.forEach((u,h)=>{"!"===u?e.add(h):u===bo&&t.add(h)}),i||c.set("offset",l/this.duration),s.push(c)});const r=e.size?Pv(e.values()):[],o=t.size?Pv(t.values()):[];if(i){const a=s[0],l=new Map(a);a.set("offset",0),l.set("offset",1),s=[a,l]}return KT(this.element,s,r,o,this.duration,this.startTime,this.easing,!1)}}class zye extends Hv{constructor(e,t,i,s,r,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){const r=[],o=i+t,a=t/o,l=Sa(e[0]);l.set("offset",0),r.push(l);const c=Sa(e[0]);c.set("offset",Ej(a)),r.push(c);const u=e.length-1;for(let h=1;h<=u;h++){let d=Sa(e[h]);const f=d.get("offset");d.set("offset",Ej((t+f*i)/o)),r.push(d)}i=o,t=0,s="",e=r}return KT(this.element,e,this.preStyleProps,this.postStyleProps,i,t,s,!0)}}function Ej(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class XT{}const jye=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Gye extends XT{normalizePropertyName(e,t){return $T(e)}normalizeStyleValue(e,t,i,s){let r="";const o=i.toString().trim();if(jye.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)r="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&s.push(function Ome(n,e){return new R(3005,!1)}())}return o+r}}function Aj(n,e,t,i,s,r,o,a,l,c,u,h,d){return{type:0,element:n,triggerName:e,isRemovalTransition:s,fromState:t,fromStyles:r,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const QT={};class Ij{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,s){return function $ye(n,e,t,i,s){return n.some(r=>r(e,t,i,s))}(this.ast.matchers,e,t,i,s)}buildStyles(e,t,i){let s=this._stateStyles.get("*");return void 0!==e&&(s=this._stateStyles.get(e?.toString())||s),s?s.buildStyles(t,i):new Map}build(e,t,i,s,r,o,a,l,c,u){const h=[],d=this.ast.options&&this.ast.options.params||QT,p=this.buildStyles(i,a&&a.params||QT,h),g=l&&l.params||QT,y=this.buildStyles(s,g,h),b=new Set,w=new Map,D=new Map,E="void"===s,V={params:Wye(g,d),delay:this.ast.options?.delay},q=u?[]:YT(e,t,this.ast.animation,r,o,p,y,V,c,h);let re=0;if(q.forEach(gt=>{re=Math.max(gt.duration+gt.delay,re)}),h.length)return Aj(t,this._triggerName,i,s,E,p,y,[],[],w,D,re,h);q.forEach(gt=>{const Ne=gt.element,hn=Li(w,Ne,new Set);gt.preStyleProps.forEach(Cn=>hn.add(Cn));const Zt=Li(D,Ne,new Set);gt.postStyleProps.forEach(Cn=>Zt.add(Cn)),Ne!==t&&b.add(Ne)});const Me=Pv(b.values());return Aj(t,this._triggerName,i,s,E,p,y,q,Me,w,D,re)}}function Wye(n,e){const t=qf(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class qye{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,s=qf(this.defaultParams);return Object.keys(e).forEach(r=>{const o=e[r];null!==o&&(s[r]=o)}),this.styles.styles.forEach(r=>{"string"!=typeof r&&r.forEach((o,a)=>{o&&(o=kv(o,s,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),i.set(l,o)})}),i}}class Yye{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(s=>{this.states.set(s.name,new qye(s.style,s.options&&s.options.params||{},i))}),kj(this.states,"true","1"),kj(this.states,"false","0"),t.transitions.forEach(s=>{this.transitionFactories.push(new Ij(e,s,this.states))}),this.fallbackTransition=function Zye(n,e,t){return new Ij(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,s){return this.transitionFactories.find(o=>o.match(e,t,i,s))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function kj(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Xye=new Bv;class Qye{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],r=WT(this._driver,t,i,[]);if(i.length)throw function Qme(n){return new R(3503,!1)}();this._animations.set(e,r)}_buildPlayer(e,t,i){const s=e.element,r=cj(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(s,r,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const s=[],r=this._animations.get(e);let o;const a=new Map;if(r?(o=YT(this._driver,t,r,zT,Mv,new Map,new Map,i,Xye,s),o.forEach(u=>{const h=Li(a,u.element,new Map);u.postStyleProps.forEach(d=>h.set(d,null))})):(s.push(function Jme(){return new R(3300,!1)}()),o=[]),s.length)throw function eye(n){return new R(3504,!1)}();a.forEach((u,h)=>{u.forEach((d,f)=>{u.set(f,this._driver.computeStyle(h,f,bo))})});const c=Ca(o.map(u=>{const h=a.get(u.element);return this._buildPlayer(u,new Map,h)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function tye(n){return new R(3301,!1)}();return t}listen(e,t,i,s){const r=LT(t,"","","");return NT(this._getPlayer(e),i,r,s),()=>{}}command(e,t,i,s){if("register"==i)return void this.register(e,s[0]);if("create"==i)return void this.create(e,t,s[0]||{});const r=this._getPlayer(e);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e)}}}const Pj="ng-animate-queued",JT="ng-animate-disabled",ive=[],Rj={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},sve={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},os="__ng_removed";class eM{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function lve(n){return n??null}(i?e.value:e),i){const r=qf(e);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(s=>{null==i[s]&&(i[s]=t[s])})}}}const Yf="void",tM=new eM(Yf);class rve{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,as(t,this._hostClassName)}listen(e,t,i,s){if(!this._triggers.has(t))throw function nye(n,e){return new R(3302,!1)}();if(null==i||0==i.length)throw function iye(n){return new R(3303,!1)}();if(!function cve(n){return"start"==n||"done"==n}(i))throw function sye(n,e){return new R(3400,!1)}();const r=Li(this._elementListeners,e,[]),o={name:t,phase:i,callback:s};r.push(o);const a=Li(this._engine.statesByElement,e,new Map);return a.has(t)||(as(e,Ev),as(e,Ev+"-"+t),a.set(t,tM)),()=>{this._engine.afterFlush(()=>{const l=r.indexOf(o);l>=0&&r.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function rye(n){return new R(3401,!1)}();return t}trigger(e,t,i,s=!0){const r=this._getTrigger(t),o=new nM(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(as(e,Ev),as(e,Ev+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new eM(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=tM),c.value!==Yf&&l.value===c.value){if(!function dve(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let s=0;s<t.length;s++){const r=t[s];if(!e.hasOwnProperty(r)||n[r]!==e[r])return!1}return!0}(l.params,c.params)){const g=[],y=r.matchStyles(l.value,l.params,g),b=r.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Rl(e,y),xr(e,b)})}return}const d=Li(this._engine.playersByElement,e,[]);d.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=r.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!s)return;f=r.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(as(e,Pj),o.onStart(()=>{Yu(e,Pj)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const y=this._engine.playersByElement.get(e);if(y){let b=y.indexOf(o);b>=0&&y.splice(b,1)}}),this.players.push(o),d.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(s=>s.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Av,!0);i.forEach(s=>{if(s[os])return;const r=this._engine.fetchNamespacesByElement(s);r.size?r.forEach(o=>o.triggerLeaveAnimation(s,t,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(e,t,i,s){const r=this._engine.statesByElement.get(e),o=new Map;if(r){const a=[];if(r.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,Yf,s);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&Ca(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const s=new Set;t.forEach(r=>{const o=r.name;if(s.has(o))return;s.add(o);const l=this._triggers.get(o).fallbackTransition,c=i.get(o)||tM,u=new eM(Yf),h=new nM(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:h,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let s=!1;if(i.totalAnimations){const r=i.players.length?i.playersByQueriedElement.get(e):[];if(r&&r.length)s=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(e),s)i.markElementAsRemoved(this.id,e,!1,t);else{const r=e[os];(!r||r===Rj)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){as(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const r=i.element,o=this._elementListeners.get(r);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=LT(r,i.triggerName,i.fromState.value,i.toState.value);l._data=e,NT(i.player,a.phase,l,a.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(i)}),this._queue=[],t.sort((i,s)=>{const r=i.transition.ast.depCount,o=s.transition.ast.depCount;return 0==r||0==o?r-o:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class ove{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,r)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new rve(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,s=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=s.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return s.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let s=this._namespaceLookup[e];s&&s.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let s of i.values())if(s.namespaceId){const r=this._fetchNamespace(s.namespaceId);r&&t.add(r)}return t}trigger(e,t,i,s){if(zv(t)){const r=this._fetchNamespace(e);if(r)return r.trigger(t,i,s),!0}return!1}insertNode(e,t,i,s){if(!zv(t))return;const r=t[os];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,i)}s&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),as(e,JT)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Yu(e,JT))}removeNode(e,t,i,s){if(zv(t)){const r=e?this._fetchNamespace(e):null;if(r?r.removeNode(t,s):this.markElementAsRemoved(e,t,!1,s),i){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,s)}}else this._onRemovalComplete(t,s)}markElementAsRemoved(e,t,i,s,r){this.collectedLeaveElements.push(t),t[os]={namespaceId:e,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:r}}listen(e,t,i,s,r){return zv(t)?this._fetchNamespace(e).listen(t,i,s,r):()=>{}}_buildInstruction(e,t,i,s,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,s,e.fromState.options,e.toState.options,t,r)}destroyInnerAnimations(e){let t=this.driver.query(e,Av,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,UT,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ca(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[os];if(t&&t.setForRemoval){if(e[os]=Rj,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(JT)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)as(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Ca(t).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(e){throw function oye(n){return new R(3402,!1)}()}_flushAnimations(e,t){const i=new Bv,s=[],r=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(G=>{u.add(G);const te=this.driver.query(G,".ng-animate-queued",!0);for(let de=0;de<te.length;de++)u.add(te[de])});const h=this.bodyNode,d=Array.from(this.statesByElement.keys()),f=Fj(d,this.collectedEnterElements),p=new Map;let g=0;f.forEach((G,te)=>{const de=zT+g++;p.set(te,de),G.forEach(Je=>as(Je,de))});const y=[],b=new Set,w=new Set;for(let G=0;G<this.collectedLeaveElements.length;G++){const te=this.collectedLeaveElements[G],de=te[os];de&&de.setForRemoval&&(y.push(te),b.add(te),de.hasAnimation?this.driver.query(te,".ng-star-inserted",!0).forEach(Je=>b.add(Je)):w.add(te))}const D=new Map,E=Fj(d,Array.from(b));E.forEach((G,te)=>{const de=Mv+g++;D.set(te,de),G.forEach(Je=>as(Je,de))}),e.push(()=>{f.forEach((G,te)=>{const de=p.get(te);G.forEach(Je=>Yu(Je,de))}),E.forEach((G,te)=>{const de=D.get(te);G.forEach(Je=>Yu(Je,de))}),y.forEach(G=>{this.processLeaveNode(G)})});const V=[],q=[];for(let G=this._namespaceList.length-1;G>=0;G--)this._namespaceList[G].drainQueuedTransitions(t).forEach(de=>{const Je=de.player,Dn=de.element;if(V.push(Je),this.collectedEnterElements.length){const Vn=Dn[os];if(Vn&&Vn.setForMove){if(Vn.previousTriggersValues&&Vn.previousTriggersValues.has(de.triggerName)){const Fl=Vn.previousTriggersValues.get(de.triggerName),ls=this.statesByElement.get(de.element);if(ls&&ls.has(de.triggerName)){const Gv=ls.get(de.triggerName);Gv.value=Fl,ls.set(de.triggerName,Gv)}}return void Je.destroy()}}const Cr=!h||!this.driver.containsElement(h,Dn),Vi=D.get(Dn),Ta=p.get(Dn),Vt=this._buildInstruction(de,i,Ta,Vi,Cr);if(Vt.errors&&Vt.errors.length)return void q.push(Vt);if(Cr)return Je.onStart(()=>Rl(Dn,Vt.fromStyles)),Je.onDestroy(()=>xr(Dn,Vt.toStyles)),void s.push(Je);if(de.isFallbackTransition)return Je.onStart(()=>Rl(Dn,Vt.fromStyles)),Je.onDestroy(()=>xr(Dn,Vt.toStyles)),void s.push(Je);const Wj=[];Vt.timelines.forEach(Vn=>{Vn.stretchStartingKeyframe=!0,this.disabledNodes.has(Vn.element)||Wj.push(Vn)}),Vt.timelines=Wj,i.append(Dn,Vt.timelines),o.push({instruction:Vt,player:Je,element:Dn}),Vt.queriedElements.forEach(Vn=>Li(a,Vn,[]).push(Je)),Vt.preStyleProps.forEach((Vn,Fl)=>{if(Vn.size){let ls=l.get(Fl);ls||l.set(Fl,ls=new Set),Vn.forEach((Gv,sM)=>ls.add(sM))}}),Vt.postStyleProps.forEach((Vn,Fl)=>{let ls=c.get(Fl);ls||c.set(Fl,ls=new Set),Vn.forEach((Gv,sM)=>ls.add(sM))})});if(q.length){const G=[];q.forEach(te=>{G.push(function aye(n,e){return new R(3505,!1)}())}),V.forEach(te=>te.destroy()),this.reportError(G)}const re=new Map,Me=new Map;o.forEach(G=>{const te=G.element;i.has(te)&&(Me.set(te,te),this._beforeAnimationBuild(G.player.namespaceId,G.instruction,re))}),s.forEach(G=>{const te=G.element;this._getPreviousPlayers(te,!1,G.namespaceId,G.triggerName,null).forEach(Je=>{Li(re,te,[]).push(Je),Je.destroy()})});const gt=y.filter(G=>Bj(G,l,c)),Ne=new Map;Nj(Ne,this.driver,w,c,bo).forEach(G=>{Bj(G,l,c)&&gt.push(G)});const Zt=new Map;f.forEach((G,te)=>{Nj(Zt,this.driver,new Set(G),l,"!")}),gt.forEach(G=>{const te=Ne.get(G),de=Zt.get(G);Ne.set(G,new Map([...Array.from(te?.entries()??[]),...Array.from(de?.entries()??[])]))});const Cn=[],Gs=[],wr={};o.forEach(G=>{const{element:te,player:de,instruction:Je}=G;if(i.has(te)){if(u.has(te))return de.onDestroy(()=>xr(te,Je.toStyles)),de.disabled=!0,de.overrideTotalTime(Je.totalTime),void s.push(de);let Dn=wr;if(Me.size>1){let Vi=te;const Ta=[];for(;Vi=Vi.parentNode;){const Vt=Me.get(Vi);if(Vt){Dn=Vt;break}Ta.push(Vi)}Ta.forEach(Vt=>Me.set(Vt,Dn))}const Cr=this._buildAnimation(de.namespaceId,Je,re,r,Zt,Ne);if(de.setRealPlayer(Cr),Dn===wr)Cn.push(de);else{const Vi=this.playersByElement.get(Dn);Vi&&Vi.length&&(de.parentPlayer=Ca(Vi)),s.push(de)}}else Rl(te,Je.fromStyles),de.onDestroy(()=>xr(te,Je.toStyles)),Gs.push(de),u.has(te)&&s.push(de)}),Gs.forEach(G=>{const te=r.get(G.element);if(te&&te.length){const de=Ca(te);G.setRealPlayer(de)}}),s.forEach(G=>{G.parentPlayer?G.syncPlayerEvents(G.parentPlayer):G.destroy()});for(let G=0;G<y.length;G++){const te=y[G],de=te[os];if(Yu(te,Mv),de&&de.hasAnimation)continue;let Je=[];if(a.size){let Cr=a.get(te);Cr&&Cr.length&&Je.push(...Cr);let Vi=this.driver.query(te,UT,!0);for(let Ta=0;Ta<Vi.length;Ta++){let Vt=a.get(Vi[Ta]);Vt&&Vt.length&&Je.push(...Vt)}}const Dn=Je.filter(Cr=>!Cr.destroyed);Dn.length?uve(this,te,Dn):this.processLeaveNode(te)}return y.length=0,Cn.forEach(G=>{this.players.push(G),G.onDone(()=>{G.destroy();const te=this.players.indexOf(G);this.players.splice(te,1)}),G.play()}),Cn}elementContainsData(e,t){let i=!1;const s=t[os];return s&&s.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,s,r){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!r||r==Yf;a.forEach(c=>{c.queued||!l&&c.triggerName!=s||o.push(c)})}}return(i||s)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||s&&s!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){const r=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==r,h=Li(i,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),h.push(f)})}Rl(r,t.fromStyles)}_buildAnimation(e,t,i,s,r,o){const a=t.triggerName,l=t.element,c=[],u=new Set,h=new Set,d=t.timelines.map(p=>{const g=p.element;u.add(g);const y=g[os];if(y&&y.removedBeforeQueried)return new Rf(p.duration,p.delay);const b=g!==l,w=function hve(n){const e=[];return Lj(n,e),e}((i.get(g)||ive).map(re=>re.getRealPlayer())).filter(re=>!!re.element&&re.element===g),D=r.get(g),E=o.get(g),V=cj(0,this._normalizer,0,p.keyframes,D,E),q=this._buildPlayer(p,V,w);if(p.subTimeline&&s&&h.add(g),b){const re=new nM(e,a,g);re.setRealPlayer(q),c.push(re)}return q});c.forEach(p=>{Li(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function ave(n,e,t){let i=n.get(e);if(i){if(i.length){const s=i.indexOf(t);i.splice(s,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>as(p,vj));const f=Ca(d);return f.onDestroy(()=>{u.forEach(p=>Yu(p,vj)),xr(l,t.toStyles)}),h.forEach(p=>{Li(s,p,[]).push(f)}),f}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Rf(e.duration,e.delay)}}class nM{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Rf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(s=>NT(e,i,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Li(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function zv(n){return n&&1===n.nodeType}function Oj(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Nj(n,e,t,i,s){const r=[];t.forEach(l=>r.push(Oj(l)));const o=[];i.forEach((l,c)=>{const u=new Map;l.forEach(h=>{const d=e.computeStyle(c,h,s);u.set(h,d),(!d||0==d.length)&&(c[os]=sve,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>Oj(l,r[a++])),o}function Fj(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const s=new Set(e),r=new Map;function o(a){if(!a)return 1;let l=r.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:s.has(c)?1:o(c),r.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function as(n,e){n.classList?.add(e)}function Yu(n,e){n.classList?.remove(e)}function uve(n,e,t){Ca(t).onDone(()=>n.processLeaveNode(e))}function Lj(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof C3?Lj(i.players,e):e.push(i)}}function Bj(n,e,t){const i=t.get(n);if(!i)return!1;let s=e.get(n);return s?i.forEach(r=>s.add(r)):e.set(n,i),t.delete(n),!0}class Uv{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,r)=>{},this._transitionEngine=new ove(e,t,i),this._timelineEngine=new Qye(e,t,i),this._transitionEngine.onRemovalComplete=(s,r)=>this.onRemovalComplete(s,r)}registerTrigger(e,t,i,s,r){const o=e+"-"+s;let a=this._triggerCache[o];if(!a){const l=[],u=WT(this._driver,r,l,[]);if(l.length)throw function Zme(n,e){return new R(3404,!1)}();a=function Kye(n,e,t){return new Yye(n,e,t)}(s,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,s,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,s){this._transitionEngine.insertNode(e,t,i,s)}onRemove(e,t,i,s){this._transitionEngine.removeNode(e,t,s||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,s){if("@"==i.charAt(0)){const[r,o]=uj(i);this._timelineEngine.command(r,t,o,s)}else this._transitionEngine.trigger(e,t,i,s)}listen(e,t,i,s,r){if("@"==i.charAt(0)){const[o,a]=uj(i);return this._timelineEngine.listen(o,t,a,r)}return this._transitionEngine.listen(e,t,i,s,r)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let pve=(()=>{class n{constructor(t,i,s){this._element=t,this._startStyles=i,this._endStyles=s,this._state=0;let r=n.initialStylesByElement.get(t);r||n.initialStylesByElement.set(t,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&xr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xr(this._element,this._initialStyles),this._endStyles&&(xr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Rl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Rl(this._element,this._endStyles),this._endStyles=null),xr(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function iM(n){let e=null;return n.forEach((t,i)=>{(function gve(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class Vj{constructor(e,t,i,s){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,s)=>{"offset"!==s&&e.set(s,this._finished?i:Dj(this.element,s))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class mve{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return pj(e,t)}getParentElement(e){return VT(e)}query(e,t,i){return gj(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,s,r,o=[]){const l={duration:i,delay:s,fill:0==s?"both":"forwards"};r&&(l.easing=r);const c=new Map,u=o.filter(f=>f instanceof Vj);(function bye(n,e){return 0===n||0===e})(i,s)&&u.forEach(f=>{f.currentSnapshot.forEach((p,g)=>c.set(g,p))});let h=function mye(n){return n.length?n[0]instanceof Map?n:n.map(e=>_j(e)):[]}(t).map(f=>Sa(f));h=function xye(n,e,t){if(t.size&&e.length){let i=e[0],s=[];if(t.forEach((r,o)=>{i.has(o)||s.push(o),i.set(o,r)}),s.length)for(let r=1;r<e.length;r++){let o=e[r];s.forEach(a=>o.set(a,Dj(n,a)))}}return e}(e,h,c);const d=function fve(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=iM(e[0]),e.length>1&&(i=iM(e[e.length-1]))):e instanceof Map&&(t=iM(e)),t||i?new pve(n,t,i):null}(e,h);return new Vj(e,h,l,d)}}let yve=(()=>{class n extends jS{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:ms.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(t)?x3(t):t;return Hj(this._renderer,null,i,"register",[s]),new vve(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(P(Kh),P(kt))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();class vve extends class bhe{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new _ve(this._id,e,t||{},this._renderer)}}class _ve{constructor(e,t,i,s){this.id=e,this.element=t,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Hj(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Hj(n,e,t,i,s){return n.setProperty(e,`@@${t}:${i}`,s)}const zj="@.disabled";let bve=(()=>{class n{constructor(t,i,s){this.delegate=t,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(r,o)=>{const a=o?.parentNode(r);a&&o.removeChild(a,r)}}createRenderer(t,i){const r=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(r);return u||(u=new Uj("",r,this.engine),this._rendererCache.set(r,u)),u}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return i.data.animation.forEach(l),new xve(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,s){t>=0&&t<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(r=>{const[o,a]=r;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(P(Kh),P(Uv),P(Re))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();class Uj{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,s=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,s)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,s){this.delegate.setAttribute(e,t,i,s)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,s){this.delegate.setStyle(e,t,i,s)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==zj?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class xve extends Uj{constructor(e,t,i,s){super(t,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==zj?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const s=function wve(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let r=t.slice(1),o="";return"@"!=r.charAt(0)&&([r,o]=function Cve(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(r)),this.engine.listen(this.namespaceId,s,r,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let Dve=(()=>{class n extends Uv{constructor(t,i,s,r){super(t.body,i,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(P(kt),P(HT),P(XT),P(Gc))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const jj=[{provide:jS,useClass:yve},{provide:XT,useFactory:function Sve(){return new Gye}},{provide:Uv,useClass:Dve},{provide:Kh,useFactory:function Tve(n,e,t){return new bve(n,e,t)},deps:[Ng,Uv,Re]}],Gj=[{provide:HT,useFactory:()=>new mve},{provide:hg,useValue:"BrowserAnimations"},...jj],Mve=[{provide:HT,useClass:mj},{provide:hg,useValue:"NoopAnimations"},...jj];let Eve=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Mve:Gj}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({providers:Gj,imports:[LP]}),n})(),Pve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({}),n})(),Lve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({imports:[$c,hi,Pve,BO,vO,JX,hi]}),n})(),Hve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({imports:[OO,hi,OO,hi]}),n})(),zve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({imports:[DQ,Lve,kQ,BJ,Hve]}),n})();ri(386);let Uve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n,bootstrap:[Eme]}),n.\u0275inj=Ve({imports:[LP,tX,Eve,fQ,zve,gX,PJ,Tme]}),n})();(function i9(){if(Uk)throw new Error("Cannot enable prod mode after platform setup.");zk=!1})(),yK().bootstrapModule(Uve).catch(n=>console.error(n))},386:(Ll,Zu,ri)=>{var $s;!function(dn,Bl,Zf,Tt){"use strict";var gi,Ke=["","webkit","Moz","MS","ms","o"],Xu=Bl.createElement("div"),cs=Math.round,$t=Math.abs,Vl=Date.now;function Hl(m,v,x){return setTimeout(Ju(m,x),v)}function Dr(m,v,x){return!!Array.isArray(m)&&(Sn(m,x[v],x),!0)}function Sn(m,v,x){var S;if(m)if(m.forEach)m.forEach(v,x);else if(m.length!==Tt)for(S=0;S<m.length;)v.call(x,m[S],S,m),S++;else for(S in m)m.hasOwnProperty(S)&&v.call(x,m[S],S,m)}function Ma(m,v,x){var S="DEPRECATED METHOD: "+v+"\n"+x+" AT \n";return function(){var O=new Error("get-stack-trace"),K=O&&O.stack?O.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Ie=dn.console&&(dn.console.warn||dn.console.log);return Ie&&Ie.call(dn.console,S,K),m.apply(this,arguments)}}gi="function"!=typeof Object.assign?function(v){if(v===Tt||null===v)throw new TypeError("Cannot convert undefined or null to object");for(var x=Object(v),S=1;S<arguments.length;S++){var O=arguments[S];if(O!==Tt&&null!==O)for(var K in O)O.hasOwnProperty(K)&&(x[K]=O[K])}return x}:Object.assign;var zl=Ma(function(v,x,S){for(var O=Object.keys(x),K=0;K<O.length;)(!S||S&&v[O[K]]===Tt)&&(v[O[K]]=x[O[K]]),K++;return v},"extend","Use `assign`."),$v=Ma(function(v,x){return zl(v,x,!0)},"merge","Use `assign`.");function Hn(m,v,x){var O,S=v.prototype;(O=m.prototype=Object.create(S)).constructor=m,O._super=S,x&&gi(O,x)}function Ju(m,v){return function(){return m.apply(v,arguments)}}function Ea(m,v){return"function"==typeof m?m.apply(v&&v[0]||Tt,v):m}function Ws(m,v){return m===Tt?v:m}function Sr(m,v,x){Sn(Do(v),function(S){m.addEventListener(S,x,!1)})}function Ul(m,v,x){Sn(Do(v),function(S){m.removeEventListener(S,x,!1)})}function jl(m,v){for(;m;){if(m==v)return!0;m=m.parentNode}return!1}function Tr(m,v){return m.indexOf(v)>-1}function Do(m){return m.trim().split(/\s+/g)}function So(m,v,x){if(m.indexOf&&!x)return m.indexOf(v);for(var S=0;S<m.length;){if(x&&m[S][x]==v||!x&&m[S]===v)return S;S++}return-1}function qs(m){return Array.prototype.slice.call(m,0)}function Aa(m,v,x){for(var S=[],O=[],K=0;K<m.length;){var Ie=v?m[K][v]:m[K];So(O,Ie)<0&&S.push(m[K]),O[K]=Ie,K++}return x&&(S=v?S.sort(function(mt,In){return mt[v]>In[v]}):S.sort()),S}function Gl(m,v){for(var x,S,O=v[0].toUpperCase()+v.slice(1),K=0;K<Ke.length;){if((S=(x=Ke[K])?x+O:v)in m)return S;K++}return Tt}var eh=1;function $l(m){var v=m.ownerDocument||m;return v.defaultView||v.parentWindow||dn}var qv="ontouchstart"in dn,Xf=Gl(dn,"PointerEvent")!==Tt,_t=qv&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),To="touch",th="mouse",Xv=["x","y"],Kl=["clientX","clientY"];function mi(m,v){var x=this;this.manager=m,this.callback=v,this.element=m.element,this.target=m.options.inputTarget,this.domHandler=function(S){Ea(m.options.enable,[m])&&x.handler(S)},this.init()}function rM(m,v,x){var S=x.pointers.length,O=x.changedPointers.length,K=1&v&&S-O==0,Ie=12&v&&S-O==0;x.isFirst=!!K,x.isFinal=!!Ie,K&&(m.session={}),x.eventType=v,function Jf(m,v){var x=m.session,S=v.pointers,O=S.length;x.firstInput||(x.firstInput=Jv(v)),O>1&&!x.firstMultiple?x.firstMultiple=Jv(v):1===O&&(x.firstMultiple=!1);var K=x.firstInput,Ie=x.firstMultiple,nn=Ie?Ie.center:K.center,mt=v.center=e_(S);v.timeStamp=Vl(),v.deltaTime=v.timeStamp-K.timeStamp,v.angle=ih(nn,mt),v.distance=nh(nn,mt),function Qv(m,v){var x=v.center,S=m.offsetDelta||{},O=m.prevDelta||{},K=m.prevInput||{};(1===v.eventType||4===K.eventType)&&(O=m.prevDelta={x:K.deltaX||0,y:K.deltaY||0},S=m.offsetDelta={x:x.x,y:x.y}),v.deltaX=O.x+(x.x-S.x),v.deltaY=O.y+(x.y-S.y)}(x,v),v.offsetDirection=ep(v.deltaX,v.deltaY);var In=Zs(v.deltaTime,v.deltaX,v.deltaY);v.overallVelocityX=In.x,v.overallVelocityY=In.y,v.overallVelocity=$t(In.x)>$t(In.y)?In.x:In.y,v.scale=Ie?function t_(m,v){return nh(v[0],v[1],Kl)/nh(m[0],m[1],Kl)}(Ie.pointers,S):1,v.rotation=Ie?function aM(m,v){return ih(v[1],v[0],Kl)+ih(m[1],m[0],Kl)}(Ie.pointers,S):0,v.maxPointers=x.prevInput?v.pointers.length>x.prevInput.maxPointers?v.pointers.length:x.prevInput.maxPointers:v.pointers.length,function oM(m,v){var O,K,Ie,nn,x=m.lastInterval||v,S=v.timeStamp-x.timeStamp;if(8!=v.eventType&&(S>25||x.velocity===Tt)){var mt=v.deltaX-x.deltaX,In=v.deltaY-x.deltaY,ps=Zs(S,mt,In);K=ps.x,Ie=ps.y,O=$t(ps.x)>$t(ps.y)?ps.x:ps.y,nn=ep(mt,In),m.lastInterval=v}else O=x.velocity,K=x.velocityX,Ie=x.velocityY,nn=x.direction;v.velocity=O,v.velocityX=K,v.velocityY=Ie,v.direction=nn}(x,v);var ps=m.element;jl(v.srcEvent.target,ps)&&(ps=v.srcEvent.target),v.target=ps}(m,x),m.emit("hammer.input",x),m.recognize(x),m.session.prevInput=x}function Jv(m){for(var v=[],x=0;x<m.pointers.length;)v[x]={clientX:cs(m.pointers[x].clientX),clientY:cs(m.pointers[x].clientY)},x++;return{timeStamp:Vl(),pointers:v,center:e_(v),deltaX:m.deltaX,deltaY:m.deltaY}}function e_(m){var v=m.length;if(1===v)return{x:cs(m[0].clientX),y:cs(m[0].clientY)};for(var x=0,S=0,O=0;O<v;)x+=m[O].clientX,S+=m[O].clientY,O++;return{x:cs(x/v),y:cs(S/v)}}function Zs(m,v,x){return{x:v/m||0,y:x/m||0}}function ep(m,v){return m===v?1:$t(m)>=$t(v)?m<0?2:4:v<0?8:16}function nh(m,v,x){x||(x=Xv);var S=v[x[0]]-m[x[0]],O=v[x[1]]-m[x[1]];return Math.sqrt(S*S+O*O)}function ih(m,v,x){return x||(x=Xv),180*Math.atan2(v[x[1]]-m[x[1]],v[x[0]]-m[x[0]])/Math.PI}mi.prototype={handler:function(){},init:function(){this.evEl&&Sr(this.element,this.evEl,this.domHandler),this.evTarget&&Sr(this.target,this.evTarget,this.domHandler),this.evWin&&Sr($l(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Ul(this.element,this.evEl,this.domHandler),this.evTarget&&Ul(this.target,this.evTarget,this.domHandler),this.evWin&&Ul($l(this.element),this.evWin,this.domHandler)}};var lM={mousedown:1,mousemove:2,mouseup:4},cM="mousedown",uM="mousemove mouseup";function sh(){this.evEl=cM,this.evWin=uM,this.pressed=!1,mi.apply(this,arguments)}Hn(sh,mi,{handler:function(v){var x=lM[v.type];1&x&&0===v.button&&(this.pressed=!0),2&x&&1!==v.which&&(x=4),this.pressed&&(4&x&&(this.pressed=!1),this.callback(this.manager,x,{pointers:[v],changedPointers:[v],pointerType:th,srcEvent:v}))}});var hM={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},rh={2:To,3:"pen",4:th,5:"kinect"},oh="pointerdown",ah="pointermove pointerup pointercancel";function Yl(){this.evEl=oh,this.evWin=ah,mi.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}dn.MSPointerEvent&&!dn.PointerEvent&&(oh="MSPointerDown",ah="MSPointerMove MSPointerUp MSPointerCancel"),Hn(Yl,mi,{handler:function(v){var x=this.store,S=!1,O=v.type.toLowerCase().replace("ms",""),K=hM[O],Ie=rh[v.pointerType]||v.pointerType,nn=Ie==To,mt=So(x,v.pointerId,"pointerId");1&K&&(0===v.button||nn)?mt<0&&(x.push(v),mt=x.length-1):12&K&&(S=!0),!(mt<0)&&(x[mt]=v,this.callback(this.manager,K,{pointers:x,changedPointers:[v],pointerType:Ie,srcEvent:v}),S&&x.splice(mt,1))}});var tp={touchstart:1,touchmove:2,touchend:4,touchcancel:8},n_="touchstart",np="touchstart touchmove touchend touchcancel";function lh(){this.evTarget=n_,this.evWin=np,this.started=!1,mi.apply(this,arguments)}function ip(m,v){var x=qs(m.touches),S=qs(m.changedTouches);return 12&v&&(x=Aa(x.concat(S),"identifier",!0)),[x,S]}Hn(lh,mi,{handler:function(v){var x=tp[v.type];if(1===x&&(this.started=!0),this.started){var S=ip.call(this,v,x);12&x&&S[0].length-S[1].length==0&&(this.started=!1),this.callback(this.manager,x,{pointers:S[0],changedPointers:S[1],pointerType:To,srcEvent:v})}}});var sp={touchstart:1,touchmove:2,touchend:4,touchcancel:8},An="touchstart touchmove touchend touchcancel";function Zl(){this.evTarget=An,this.targetIds={},mi.apply(this,arguments)}function i_(m,v){var x=qs(m.touches),S=this.targetIds;if(3&v&&1===x.length)return S[x[0].identifier]=!0,[x,x];var O,K,Ie=qs(m.changedTouches),nn=[],mt=this.target;if(K=x.filter(function(In){return jl(In.target,mt)}),1===v)for(O=0;O<K.length;)S[K[O].identifier]=!0,O++;for(O=0;O<Ie.length;)S[Ie[O].identifier]&&nn.push(Ie[O]),12&v&&delete S[Ie[O].identifier],O++;return nn.length?[Aa(K.concat(nn),"identifier",!0),nn]:void 0}function Xl(){mi.apply(this,arguments);var m=Ju(this.handler,this);this.touch=new Zl(this.manager,m),this.mouse=new sh(this.manager,m),this.primaryTouch=null,this.lastTouches=[]}function r_(m,v){1&m?(this.primaryTouch=v.changedPointers[0].identifier,op.call(this,v)):12&m&&op.call(this,v)}function op(m){var v=m.changedPointers[0];if(v.identifier===this.primaryTouch){var x={x:v.clientX,y:v.clientY};this.lastTouches.push(x);var S=this.lastTouches;setTimeout(function(){var K=S.indexOf(x);K>-1&&S.splice(K,1)},2500)}}function hs(m){for(var v=m.srcEvent.clientX,x=m.srcEvent.clientY,S=0;S<this.lastTouches.length;S++){var O=this.lastTouches[S],K=Math.abs(v-O.x),Ie=Math.abs(x-O.y);if(K<=25&&Ie<=25)return!0}return!1}Hn(Zl,mi,{handler:function(v){var x=sp[v.type],S=i_.call(this,v,x);!S||this.callback(this.manager,x,{pointers:S[0],changedPointers:S[1],pointerType:To,srcEvent:v})}}),Hn(Xl,mi,{handler:function(v,x,S){var K=S.pointerType==th;if(!(K&&S.sourceCapabilities&&S.sourceCapabilities.firesTouchEvents)){if(S.pointerType==To)r_.call(this,x,S);else if(K&&hs.call(this,S))return;this.callback(v,x,S)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ap=Gl(Xu.style,"touchAction"),Wt=ap!==Tt,Er="compute",lp="manipulation",Ar="none",Ao="pan-x",Ir="pan-y",Ia=function cp(){if(!Wt)return!1;var m={},v=dn.CSS&&dn.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(x){m[x]=!v||dn.CSS.supports("touch-action",x)}),m}();function kr(m,v){this.manager=m,this.set(v)}function fs(m){this.options=gi({},this.defaults,m||{}),this.id=function Wv(){return eh++}(),this.manager=null,this.options.enable=Ws(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function At(m){return 16&m?"cancel":8&m?"end":4&m?"move":2&m?"start":""}function Ql(m){return 16==m?"down":8==m?"up":2==m?"left":4==m?"right":""}function Jl(m,v){var x=v.manager;return x?x.get(m):m}function zn(){fs.apply(this,arguments)}function et(){zn.apply(this,arguments),this.pX=null,this.pY=null}function Pa(){zn.apply(this,arguments)}function nt(){fs.apply(this,arguments),this._timer=null,this._input=null}function Ra(){zn.apply(this,arguments)}function ch(){zn.apply(this,arguments)}function tt(){fs.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function se(m,v){return(v=v||{}).recognizers=Ws(v.recognizers,se.defaults.preset),new R(m,v)}function R(m,v){this.options=gi({},se.defaults,v||{}),this.options.inputTarget=this.options.inputTarget||m,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=m,this.input=function Qf(m){return new(m.options.inputClass||(Xf?Yl:_t?Zl:qv?Xl:sh))(m,rM)}(this),this.touchAction=new kr(this,this.options.touchAction),Oa(this,!0),Sn(this.options.recognizers,function(x){var S=this.add(new x[0](x[1]));x[2]&&S.recognizeWith(x[2]),x[3]&&S.requireFailure(x[3])},this)}function Oa(m,v){var S,x=m.element;x.style&&(Sn(m.options.cssProps,function(O,K){S=Gl(x.style,K),v?(m.oldCssProps[S]=x.style[S],x.style[S]=O):x.style[S]=m.oldCssProps[S]||""}),v||(m.oldCssProps={}))}kr.prototype={set:function(m){m==Er&&(m=this.compute()),Wt&&this.manager.element.style&&Ia[m]&&(this.manager.element.style[ap]=m),this.actions=m.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var m=[];return Sn(this.manager.recognizers,function(v){Ea(v.options.enable,[v])&&(m=m.concat(v.getTouchAction()))}),function o_(m){if(Tr(m,Ar))return Ar;var v=Tr(m,Ao),x=Tr(m,Ir);return v&&x?Ar:v||x?v?Ao:Ir:Tr(m,lp)?lp:"auto"}(m.join(" "))},preventDefaults:function(m){var v=m.srcEvent,x=m.offsetDirection;if(!this.manager.session.prevented){var S=this.actions,O=Tr(S,Ar)&&!Ia[Ar],K=Tr(S,Ir)&&!Ia[Ir],Ie=Tr(S,Ao)&&!Ia[Ao];if(O&&1===m.pointers.length&&m.distance<2&&m.deltaTime<250)return;return Ie&&K||!(O||K&&6&x||Ie&&24&x)?void 0:this.preventSrc(v)}v.preventDefault()},preventSrc:function(m){this.manager.session.prevented=!0,m.preventDefault()}},fs.prototype={defaults:{},set:function(m){return gi(this.options,m),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(m){if(Dr(m,"recognizeWith",this))return this;var v=this.simultaneous;return v[(m=Jl(m,this)).id]||(v[m.id]=m,m.recognizeWith(this)),this},dropRecognizeWith:function(m){return Dr(m,"dropRecognizeWith",this)||(m=Jl(m,this),delete this.simultaneous[m.id]),this},requireFailure:function(m){if(Dr(m,"requireFailure",this))return this;var v=this.requireFail;return-1===So(v,m=Jl(m,this))&&(v.push(m),m.requireFailure(this)),this},dropRequireFailure:function(m){if(Dr(m,"dropRequireFailure",this))return this;m=Jl(m,this);var v=So(this.requireFail,m);return v>-1&&this.requireFail.splice(v,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(m){return!!this.simultaneous[m.id]},emit:function(m){var v=this,x=this.state;function S(O){v.manager.emit(O,m)}x<8&&S(v.options.event+At(x)),S(v.options.event),m.additionalEvent&&S(m.additionalEvent),x>=8&&S(v.options.event+At(x))},tryEmit:function(m){if(this.canEmit())return this.emit(m);this.state=32},canEmit:function(){for(var m=0;m<this.requireFail.length;){if(!(33&this.requireFail[m].state))return!1;m++}return!0},recognize:function(m){var v=gi({},m);if(!Ea(this.options.enable,[this,v]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(v),30&this.state&&this.tryEmit(v)},process:function(m){},getTouchAction:function(){},reset:function(){}},Hn(zn,fs,{defaults:{pointers:1},attrTest:function(m){var v=this.options.pointers;return 0===v||m.pointers.length===v},process:function(m){var v=this.state,x=m.eventType,S=6&v,O=this.attrTest(m);return S&&(8&x||!O)?16|v:S||O?4&x?8|v:2&v?4|v:2:32}}),Hn(et,zn,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var m=this.options.direction,v=[];return 6&m&&v.push(Ir),24&m&&v.push(Ao),v},directionTest:function(m){var v=this.options,x=!0,S=m.distance,O=m.direction,K=m.deltaX,Ie=m.deltaY;return O&v.direction||(6&v.direction?(O=0===K?1:K<0?2:4,x=K!=this.pX,S=Math.abs(m.deltaX)):(O=0===Ie?1:Ie<0?8:16,x=Ie!=this.pY,S=Math.abs(m.deltaY))),m.direction=O,x&&S>v.threshold&&O&v.direction},attrTest:function(m){return zn.prototype.attrTest.call(this,m)&&(2&this.state||!(2&this.state)&&this.directionTest(m))},emit:function(m){this.pX=m.deltaX,this.pY=m.deltaY;var v=Ql(m.direction);v&&(m.additionalEvent=this.options.event+v),this._super.emit.call(this,m)}}),Hn(Pa,zn,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ar]},attrTest:function(m){return this._super.attrTest.call(this,m)&&(Math.abs(m.scale-1)>this.options.threshold||2&this.state)},emit:function(m){1!==m.scale&&(m.additionalEvent=this.options.event+(m.scale<1?"in":"out")),this._super.emit.call(this,m)}}),Hn(nt,fs,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(m){var v=this.options,x=m.pointers.length===v.pointers,S=m.distance<v.threshold,O=m.deltaTime>v.time;if(this._input=m,!S||!x||12&m.eventType&&!O)this.reset();else if(1&m.eventType)this.reset(),this._timer=Hl(function(){this.state=8,this.tryEmit()},v.time,this);else if(4&m.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(m){8===this.state&&(m&&4&m.eventType?this.manager.emit(this.options.event+"up",m):(this._input.timeStamp=Vl(),this.manager.emit(this.options.event,this._input)))}}),Hn(Ra,zn,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ar]},attrTest:function(m){return this._super.attrTest.call(this,m)&&(Math.abs(m.rotation)>this.options.threshold||2&this.state)}}),Hn(ch,zn,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return et.prototype.getTouchAction.call(this)},attrTest:function(m){var x,v=this.options.direction;return 30&v?x=m.overallVelocity:6&v?x=m.overallVelocityX:24&v&&(x=m.overallVelocityY),this._super.attrTest.call(this,m)&&v&m.offsetDirection&&m.distance>this.options.threshold&&m.maxPointers==this.options.pointers&&$t(x)>this.options.velocity&&4&m.eventType},emit:function(m){var v=Ql(m.offsetDirection);v&&this.manager.emit(this.options.event+v,m),this.manager.emit(this.options.event,m)}}),Hn(tt,fs,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[lp]},process:function(m){var v=this.options,x=m.pointers.length===v.pointers,S=m.distance<v.threshold,O=m.deltaTime<v.time;if(this.reset(),1&m.eventType&&0===this.count)return this.failTimeout();if(S&&O&&x){if(4!=m.eventType)return this.failTimeout();var K=!this.pTime||m.timeStamp-this.pTime<v.interval,Ie=!this.pCenter||nh(this.pCenter,m.center)<v.posThreshold;if(this.pTime=m.timeStamp,this.pCenter=m.center,Ie&&K?this.count+=1:this.count=1,this._input=m,0==this.count%v.taps)return this.hasRequireFailures()?(this._timer=Hl(function(){this.state=8,this.tryEmit()},v.interval,this),2):8}return 32},failTimeout:function(){return this._timer=Hl(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),se.VERSION="2.0.7",se.defaults={domEvents:!1,touchAction:Er,enable:!0,inputTarget:null,inputClass:null,preset:[[Ra,{enable:!1}],[Pa,{enable:!1},["rotate"]],[ch,{direction:6}],[et,{direction:6},["swipe"]],[tt],[tt,{event:"doubletap",taps:2},["tap"]],[nt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},R.prototype={set:function(m){return gi(this.options,m),m.touchAction&&this.touchAction.update(),m.inputTarget&&(this.input.destroy(),this.input.target=m.inputTarget,this.input.init()),this},stop:function(m){this.session.stopped=m?2:1},recognize:function(m){var v=this.session;if(!v.stopped){this.touchAction.preventDefaults(m);var x,S=this.recognizers,O=v.curRecognizer;(!O||O&&8&O.state)&&(O=v.curRecognizer=null);for(var K=0;K<S.length;)x=S[K],2===v.stopped||O&&x!=O&&!x.canRecognizeWith(O)?x.reset():x.recognize(m),!O&&14&x.state&&(O=v.curRecognizer=x),K++}},get:function(m){if(m instanceof fs)return m;for(var v=this.recognizers,x=0;x<v.length;x++)if(v[x].options.event==m)return v[x];return null},add:function(m){if(Dr(m,"add",this))return this;var v=this.get(m.options.event);return v&&this.remove(v),this.recognizers.push(m),m.manager=this,this.touchAction.update(),m},remove:function(m){if(Dr(m,"remove",this))return this;if(m=this.get(m)){var v=this.recognizers,x=So(v,m);-1!==x&&(v.splice(x,1),this.touchAction.update())}return this},on:function(m,v){if(m!==Tt&&v!==Tt){var x=this.handlers;return Sn(Do(m),function(S){x[S]=x[S]||[],x[S].push(v)}),this}},off:function(m,v){if(m!==Tt){var x=this.handlers;return Sn(Do(m),function(S){v?x[S]&&x[S].splice(So(x[S],v),1):delete x[S]}),this}},emit:function(m,v){this.options.domEvents&&function me(m,v){var x=Bl.createEvent("Event");x.initEvent(m,!0,!0),x.gesture=v,v.target.dispatchEvent(x)}(m,v);var x=this.handlers[m]&&this.handlers[m].slice();if(x&&x.length){v.type=m,v.preventDefault=function(){v.srcEvent.preventDefault()};for(var S=0;S<x.length;)x[S](v),S++}},destroy:function(){this.element&&Oa(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},gi(se,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:R,Input:mi,TouchAction:kr,TouchInput:Zl,MouseInput:sh,PointerEventInput:Yl,TouchMouseInput:Xl,SingleTouchInput:lh,Recognizer:fs,AttrRecognizer:zn,Tap:tt,Pan:et,Swipe:ch,Pinch:Pa,Rotate:Ra,Press:nt,on:Sr,off:Ul,each:Sn,merge:$v,extend:zl,assign:gi,inherit:Hn,bindFn:Ju,prefixed:Gl}),(typeof dn<"u"?dn:typeof self<"u"?self:{}).Hammer=se,($s=function(){return se}.call(Zu,ri,Zu,Ll))!==Tt&&(Ll.exports=$s)}(window,document)}},Ll=>{Ll(Ll.s=174)}]);